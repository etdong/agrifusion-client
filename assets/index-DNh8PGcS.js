var G1=Object.defineProperty;var V1=(t,n,r)=>n in t?G1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;var L=(t,n,r)=>V1(t,typeof n!="symbol"?n+"":n,r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var af={exports:{}},Ms={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function X1(){if(ig)return Ms;ig=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var g in u)g!=="key"&&(c[g]=u[g])}else c=u;return u=c.ref,{$$typeof:t,type:s,key:h,ref:u!==void 0?u:null,props:c}}return Ms.Fragment=n,Ms.jsx=r,Ms.jsxs=r,Ms}var ag;function Q1(){return ag||(ag=1,af.exports=X1()),af.exports}var ge=Q1(),rf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function K1(){if(rg)return Me;rg=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function E(M,K,ne){this.props=M,this.context=K,this.refs=C,this.updater=ne||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=E.prototype;function _(M,K,ne){this.props=M,this.context=K,this.refs=C,this.updater=ne||S}var G=_.prototype=new T;G.constructor=_,b(G,E.prototype),G.isPureReactComponent=!0;var $=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function B(M,K,ne,re,fe,Ce){return ne=Ce.ref,{$$typeof:t,type:M,key:K,ref:ne!==void 0?ne:null,props:Ce}}function H(M,K){return B(M.type,K,void 0,void 0,void 0,M.props)}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ie(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return K[ne]})}var ae=/\/+/g;function ue(M,K){return typeof M=="object"&&M!==null&&M.key!=null?ie(""+M.key):K.toString(36)}function pe(){}function we(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(pe,pe):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function be(M,K,ne,re,fe){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case t:case n:xe=!0;break;case v:return xe=M._init,be(xe(M._payload),K,ne,re,fe)}}if(xe)return fe=fe(M),xe=re===""?"."+ue(M,0):re,$(fe)?(ne="",xe!=null&&(ne=xe.replace(ae,"$&/")+"/"),be(fe,K,ne,"",function(on){return on})):fe!=null&&(W(fe)&&(fe=H(fe,ne+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(ae,"$&/")+"/")+xe)),K.push(fe)),1;xe=0;var At=re===""?".":re+":";if($(M))for(var Qe=0;Qe<M.length;Qe++)re=M[Qe],Ce=At+ue(re,Qe),xe+=be(re,K,ne,Ce,fe);else if(Qe=m(M),typeof Qe=="function")for(M=Qe.call(M),Qe=0;!(re=M.next()).done;)re=re.value,Ce=At+ue(re,Qe++),xe+=be(re,K,ne,Ce,fe);else if(Ce==="object"){if(typeof M.then=="function")return be(we(M),K,ne,re,fe);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function z(M,K,ne){if(M==null)return M;var re=[],fe=0;return be(M,re,"","",function(Ce){return K.call(ne,Ce,fe++)}),re}function te(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ce(){}return Me.Children={map:z,forEach:function(M,K,ne){z(M,function(){K.apply(this,arguments)},ne)},count:function(M){var K=0;return z(M,function(){K++}),K},toArray:function(M){return z(M,function(K){return K})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Me.Component=E,Me.Fragment=r,Me.Profiler=u,Me.PureComponent=_,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return F.H.useMemoCache(M)}},Me.cache=function(M){return function(){return M.apply(null,arguments)}},Me.cloneElement=function(M,K,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=b({},M.props),fe=M.key,Ce=void 0;if(K!=null)for(xe in K.ref!==void 0&&(Ce=void 0),K.key!==void 0&&(fe=""+K.key),K)!q.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(re[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)re.children=ne;else if(1<xe){for(var At=Array(xe),Qe=0;Qe<xe;Qe++)At[Qe]=arguments[Qe+2];re.children=At}return B(M.type,fe,void 0,void 0,Ce,re)},Me.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Me.createElement=function(M,K,ne){var re,fe={},Ce=null;if(K!=null)for(re in K.key!==void 0&&(Ce=""+K.key),K)q.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=K[re]);var xe=arguments.length-2;if(xe===1)fe.children=ne;else if(1<xe){for(var At=Array(xe),Qe=0;Qe<xe;Qe++)At[Qe]=arguments[Qe+2];fe.children=At}if(M&&M.defaultProps)for(re in xe=M.defaultProps,xe)fe[re]===void 0&&(fe[re]=xe[re]);return B(M,Ce,void 0,void 0,null,fe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(M){return{$$typeof:g,render:M}},Me.isValidElement=W,Me.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:te}},Me.memo=function(M,K){return{$$typeof:d,type:M,compare:K===void 0?null:K}},Me.startTransition=function(M){var K=F.T,ne={};F.T=ne;try{var re=M(),fe=F.S;fe!==null&&fe(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ce,se)}catch(Ce){se(Ce)}finally{F.T=K}},Me.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Me.use=function(M){return F.H.use(M)},Me.useActionState=function(M,K,ne){return F.H.useActionState(M,K,ne)},Me.useCallback=function(M,K){return F.H.useCallback(M,K)},Me.useContext=function(M){return F.H.useContext(M)},Me.useDebugValue=function(){},Me.useDeferredValue=function(M,K){return F.H.useDeferredValue(M,K)},Me.useEffect=function(M,K,ne){var re=F.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(M,K)},Me.useId=function(){return F.H.useId()},Me.useImperativeHandle=function(M,K,ne){return F.H.useImperativeHandle(M,K,ne)},Me.useInsertionEffect=function(M,K){return F.H.useInsertionEffect(M,K)},Me.useLayoutEffect=function(M,K){return F.H.useLayoutEffect(M,K)},Me.useMemo=function(M,K){return F.H.useMemo(M,K)},Me.useOptimistic=function(M,K){return F.H.useOptimistic(M,K)},Me.useReducer=function(M,K,ne){return F.H.useReducer(M,K,ne)},Me.useRef=function(M){return F.H.useRef(M)},Me.useState=function(M){return F.H.useState(M)},Me.useSyncExternalStore=function(M,K,ne){return F.H.useSyncExternalStore(M,K,ne)},Me.useTransition=function(){return F.H.useTransition()},Me.version="19.1.0",Me}var sg;function Kf(){return sg||(sg=1,rf.exports=K1()),rf.exports}var J=Kf(),sf={exports:{}},Rs={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Z1(){return lg||(lg=1,function(t){function n(z,te){var se=z.length;z.push(te);e:for(;0<se;){var ce=se-1>>>1,M=z[ce];if(0<u(M,te))z[ce]=te,z[se]=M,se=ce;else break e}}function r(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var te=z[0],se=z.pop();if(se!==te){z[0]=se;e:for(var ce=0,M=z.length,K=M>>>1;ce<K;){var ne=2*(ce+1)-1,re=z[ne],fe=ne+1,Ce=z[fe];if(0>u(re,se))fe<M&&0>u(Ce,re)?(z[ce]=Ce,z[fe]=se,ce=fe):(z[ce]=re,z[ne]=se,ce=ne);else if(fe<M&&0>u(Ce,se))z[ce]=Ce,z[fe]=se,ce=fe;else break e}}return te}function u(z,te){var se=z.sortIndex-te.sortIndex;return se!==0?se:z.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();t.unstable_now=function(){return h.now()-g}}var p=[],d=[],v=1,x=null,m=3,S=!1,b=!1,C=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(z){for(var te=r(d);te!==null;){if(te.callback===null)s(d);else if(te.startTime<=z)s(d),te.sortIndex=te.expirationTime,n(p,te);else break;te=r(d)}}function F(z){if(C=!1,$(z),!b)if(r(p)!==null)b=!0,q||(q=!0,ue());else{var te=r(d);te!==null&&be(F,te.startTime-z)}}var q=!1,B=-1,H=5,W=-1;function ie(){return E?!0:!(t.unstable_now()-W<H)}function ae(){if(E=!1,q){var z=t.unstable_now();W=z;var te=!0;try{e:{b=!1,C&&(C=!1,_(B),B=-1),S=!0;var se=m;try{t:{for($(z),x=r(p);x!==null&&!(x.expirationTime>z&&ie());){var ce=x.callback;if(typeof ce=="function"){x.callback=null,m=x.priorityLevel;var M=ce(x.expirationTime<=z);if(z=t.unstable_now(),typeof M=="function"){x.callback=M,$(z),te=!0;break t}x===r(p)&&s(p),$(z)}else s(p);x=r(p)}if(x!==null)te=!0;else{var K=r(d);K!==null&&be(F,K.startTime-z),te=!1}}break e}finally{x=null,m=se,S=!1}te=void 0}}finally{te?ue():q=!1}}}var ue;if(typeof G=="function")ue=function(){G(ae)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,we=pe.port2;pe.port1.onmessage=ae,ue=function(){we.postMessage(null)}}else ue=function(){T(ae,0)};function be(z,te){B=T(function(){z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var se=m;m=te;try{return z()}finally{m=se}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=m;m=z;try{return te()}finally{m=se}},t.unstable_scheduleCallback=function(z,te,se){var ce=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=se+M,z={id:v++,callback:te,priorityLevel:z,startTime:se,expirationTime:M,sortIndex:-1},se>ce?(z.sortIndex=se,n(d,z),r(p)===null&&z===r(d)&&(C?(_(B),B=-1):C=!0,be(F,se-ce))):(z.sortIndex=M,n(p,z),b||S||(b=!0,q||(q=!0,ue()))),z},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(z){var te=m;return function(){var se=m;m=te;try{return z.apply(this,arguments)}finally{m=se}}}}(uf)),uf}var ug;function F1(){return ug||(ug=1,lf.exports=Z1()),lf.exports}var of={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function k1(){if(og)return _t;og=1;var t=Kf();function n(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,d,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:p,containerInfo:d,implementation:v}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_t.createPortal=function(p,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return c(p,d,null,v)},_t.flushSync=function(p){var d=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=d,s.p=v,s.d.f()}},_t.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},_t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_t.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var v=d.as,x=g(v,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:m,fetchPriority:S}):v==="script"&&s.d.X(p,{crossOrigin:x,integrity:m,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},_t.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=g(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},_t.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,x=g(v,d.crossOrigin);s.d.L(p,v,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},_t.preloadModule=function(p,d){if(typeof p=="string")if(d){var v=g(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},_t.requestFormReset=function(p){s.d.r(p)},_t.unstable_batchedUpdates=function(p,d){return p(d)},_t.useFormState=function(p,d,v){return h.H.useFormState(p,d,v)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.1.0",_t}var cg;function J1(){if(cg)return of.exports;cg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),of.exports=k1(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function P1(){if(fg)return Rs;fg=1;var t=F1(),n=Kf(),r=J1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var o=a.return;if(o===null)break;var f=o.alternate;if(f===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===a)return g(o),e;if(f===l)return g(o),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=o,l=f;else{for(var y=!1,w=o.child;w;){if(w===a){y=!0,a=o,l=f;break}if(w===l){y=!0,l=o,a=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===a){y=!0,a=f,l=o;break}if(w===l){y=!0,l=f,a=o;break}w=w.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function d(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=d(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case G:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case $:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case H:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var be=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],M=-1;function K(e){return{current:e}}function ne(e){0>M||(e.current=ce[M],ce[M]=null,M--)}function re(e,i){M++,ce[M]=e.current,e.current=i}var fe=K(null),Ce=K(null),xe=K(null),At=K(null);function Qe(e,i){switch(re(xe,i),re(Ce,e),re(fe,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Dm(i),e=Bm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(fe),re(fe,e)}function on(){ne(fe),ne(Ce),ne(xe)}function Nn(e){e.memoizedState!==null&&re(At,e);var i=fe.current,a=Bm(i,e.type);i!==a&&(re(Ce,e),re(fe,a))}function Nt(e){Ce.current===e&&(ne(fe),ne(Ce)),At.current===e&&(ne(At),ws._currentValue=se)}var mi=Object.prototype.hasOwnProperty,he=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Re=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ke=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,Rn=t.unstable_UserBlockingPriority,gi=t.unstable_NormalPriority,Or=t.unstable_LowPriority,Ra=t.unstable_IdlePriority,Cr=t.log,Oa=t.unstable_setDisableYieldValue,Dt=null,st=null;function Ft(e){if(typeof Cr=="function"&&Oa(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Dt,e)}catch{}}var Je=Math.clz32?Math.clz32:Ca,ki=Math.log,On=Math.LN2;function Ca(e){return e>>>=0,e===0?32:31-(ki(e)/On|0)|0}var qa=256,Da=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ba(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var o=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?o=zn(l):(y&=w,y!==0?o=zn(y):a||(a=w&~e,a!==0&&(o=zn(a))))):(w=l&~f,w!==0?o=zn(w):y!==0?o=zn(y):a||(a=l&~e,a!==0&&(o=zn(a)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:o}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function zt(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var e=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),e}function Pi(){var e=Da;return Da<<=1,(Da&62914560)===0&&(Da=4194304),e}function Ua(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function yi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ku(e,i,a,l,o,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var k=31-Je(a),ee=1<<k;w[k]=0,R[k]=-1;var Y=j[k];if(Y!==null)for(j[k]=null,k=0;k<Y.length;k++){var V=Y[k];V!==null&&(V.lane&=-536870913)}a&=~ee}l!==0&&qr(e,l,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function qr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Dr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),o=1<<l;o&i|e[l]&i&&(e[l]|=i),a&=~o}}function O(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Q(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function P(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function le(e,i){var a=te.p;try{return te.p=e,i()}finally{te.p=a}}var ye=Math.random().toString(36).slice(2),Te="__reactFiber$"+ye,He="__reactProps$"+ye,Pe="__reactContainer$"+ye,kt="__reactEvents$"+ye,cn="__reactListeners$"+ye,Cn="__reactHandles$"+ye,bh="__reactResources$"+ye,Br="__reactMarker$"+ye;function Ju(e){delete e[Te],delete e[He],delete e[kt],delete e[cn],delete e[Cn]}function Na(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Pe]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=zm(e);e!==null;){if(a=e[Te])return a;e=zm(e)}return i}e=a,a=e.parentNode}return null}function za(e){if(e=e[Te]||e[Pe]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function _r(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function La(e){var i=e[bh];return i||(i=e[bh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(e){e[Br]=!0}var Ah=new Set,wh={};function Ii(e,i){Ha(e,i),Ha(e+"Capture",i)}function Ha(e,i){for(wh[e]=i,e=0;e<i.length;e++)Ah.add(i[e])}var _0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xh={},Eh={};function U0(e){return mi.call(Eh,e)?!0:mi.call(xh,e)?!1:_0.test(e)?Eh[e]=!0:(xh[e]=!0,!1)}function tl(e,i,a){if(U0(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function nl(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Jn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Pu,Sh;function ja(e){if(Pu===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Pu=i&&i[1]||"",Sh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pu+e+Sh}var Iu=!1;function Wu(e,i){if(!e||Iu)return"";Iu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(V){var Y=V}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(V){Y=V}e.call(ee.prototype)}}else{try{throw Error()}catch(V){Y=V}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(V){if(V&&Y&&typeof V.stack=="string")return[V.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var R=y.split(`
`),j=w.split(`
`);for(o=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;if(l===R.length||o===j.length)for(l=R.length-1,o=j.length-1;1<=l&&0<=o&&R[l]!==j[o];)o--;for(;1<=l&&0<=o;l--,o--)if(R[l]!==j[o]){if(l!==1||o!==1)do if(l--,o--,0>o||R[l]!==j[o]){var k=`
`+R[l].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=l&&0<=o);break}}}finally{Iu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ja(a):""}function N0(e){switch(e.tag){case 26:case 27:case 5:return ja(e.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return Wu(e.type,!1);case 11:return Wu(e.type.render,!1);case 1:return Wu(e.type,!0);case 31:return ja("Activity");default:return""}}function Th(e){try{var i="";do i+=N0(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function z0(e){var i=Mh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function il(e){e._valueTracker||(e._valueTracker=z0(e))}function Rh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Mh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var L0=/[\n"\\]/g;function hn(e){return e.replace(L0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $u(e,i,a,l,o,f,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?eo(e,y,fn(i)):a!=null?eo(e,y,fn(a)):l!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+fn(w):e.removeAttribute("name")}function Oh(e,i,a,l,o,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function eo(e,i,a){i==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ya(e,i,a,l){if(e=e.options,i){i={};for(var o=0;o<a.length;o++)i["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=i.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function Ch(e,i,a){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fn(a):""}function qh(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(be(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Ga(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dh(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||H0.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Bh(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in i)l=i[o],i.hasOwnProperty(o)&&a[o]!==l&&Dh(e,o,l)}else for(var f in i)i.hasOwnProperty(f)&&Dh(e,f,i[f])}function to(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(e){return Y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var no=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Xa=null;function _h(e){var i=za(e);if(i&&(e=i.stateNode)){var a=e[He]||null;e:switch(e=i.stateNode,i.type){case"input":if($u(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var o=l[He]||null;if(!o)throw Error(s(90));$u(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Rh(l)}break e;case"textarea":Ch(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ya(e,!!a.multiple,i,!1)}}}var ao=!1;function Uh(e,i,a){if(ao)return e(i,a);ao=!0;try{var l=e(i);return l}finally{if(ao=!1,(Va!==null||Xa!==null)&&(Ql(),Va&&(i=Va,e=Xa,Xa=Va=null,_h(i),e)))for(i=0;i<e.length;i++)_h(e[i])}}function Ur(e,i){var a=e.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(Pn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{ro=!1}var vi=null,so=null,sl=null;function Nh(){if(sl)return sl;var e,i=so,a=i.length,l,o="value"in vi?vi.value:vi.textContent,f=o.length;for(e=0;e<a&&i[e]===o[e];e++);var y=a-e;for(l=1;l<=y&&i[a-l]===o[f-l];l++);return sl=o.slice(e,1<l?1-l:void 0)}function ll(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function zh(){return!1}function Yt(e){function i(a,l,o,f,y){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ul:zh,this.isPropagationStopped=zh,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Yt(Wi),zr=v({},Wi,{view:0,detail:0}),G0=Yt(zr),lo,uo,Lr,cl=v({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(lo=e.screenX-Lr.screenX,uo=e.screenY-Lr.screenY):uo=lo=0,Lr=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),Lh=Yt(cl),V0=v({},cl,{dataTransfer:0}),X0=Yt(V0),Q0=v({},zr,{relatedTarget:0}),oo=Yt(Q0),K0=v({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=Yt(K0),F0=v({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k0=Yt(F0),J0=v({},Wi,{data:0}),Hh=Yt(J0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=W0[e])?!!i[e]:!1}function co(){return $0}var ev=v({},zr,{key:function(e){if(e.key){var i=P0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=Yt(ev),nv=v({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Yt(nv),iv=v({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),av=Yt(iv),rv=v({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Yt(rv),lv=v({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Yt(lv),ov=v({},Wi,{newState:0,oldState:0}),cv=Yt(ov),fv=[9,13,27,32],fo=Pn&&"CompositionEvent"in window,Hr=null;Pn&&"documentMode"in document&&(Hr=document.documentMode);var hv=Pn&&"TextEvent"in window&&!Hr,Yh=Pn&&(!fo||Hr&&8<Hr&&11>=Hr),Gh=" ",Vh=!1;function Xh(e,i){switch(e){case"keyup":return fv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function dv(e,i){switch(e){case"compositionend":return Qh(i);case"keypress":return i.which!==32?null:(Vh=!0,Gh);case"textInput":return e=i.data,e===Gh&&Vh?null:e;default:return null}}function pv(e,i){if(Qa)return e==="compositionend"||!fo&&Xh(e,i)?(e=Nh(),sl=so=vi=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yh&&i.locale!=="ko"?null:i.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!mv[e.type]:i==="textarea"}function Zh(e,i,a,l){Va?Xa?Xa.push(l):Xa=[l]:Va=l,i=Pl(i,"onChange"),0<i.length&&(a=new ol("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var jr=null,Yr=null;function gv(e){Mm(e,0)}function fl(e){var i=_r(e);if(Rh(i))return e}function Fh(e,i){if(e==="change")return i}var kh=!1;if(Pn){var ho;if(Pn){var po="oninput"in document;if(!po){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),po=typeof Jh.oninput=="function"}ho=po}else ho=!1;kh=ho&&(!document.documentMode||9<document.documentMode)}function Ph(){jr&&(jr.detachEvent("onpropertychange",Ih),Yr=jr=null)}function Ih(e){if(e.propertyName==="value"&&fl(Yr)){var i=[];Zh(i,Yr,e,io(e)),Uh(gv,i)}}function yv(e,i,a){e==="focusin"?(Ph(),jr=i,Yr=a,jr.attachEvent("onpropertychange",Ih)):e==="focusout"&&Ph()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Yr)}function bv(e,i){if(e==="click")return fl(i)}function Av(e,i){if(e==="input"||e==="change")return fl(i)}function wv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Jt=typeof Object.is=="function"?Object.is:wv;function Gr(e,i){if(Jt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!mi.call(i,o)||!Jt(e[o],i[o]))return!1}return!0}function Wh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,i){var a=Wh(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wh(a)}}function ed(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ed(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=al(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=al(e.document)}return i}function mo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xv=Pn&&"documentMode"in document&&11>=document.documentMode,Ka=null,go=null,Vr=null,yo=!1;function nd(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yo||Ka==null||Ka!==al(l)||(l=Ka,"selectionStart"in l&&mo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vr&&Gr(Vr,l)||(Vr=l,l=Pl(go,"onSelect"),0<l.length&&(i=new ol("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ka)))}function $i(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Za={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},vo={},id={};Pn&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ea(e){if(vo[e])return vo[e];if(!Za[e])return e;var i=Za[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in id)return vo[e]=i[a];return e}var ad=ea("animationend"),rd=ea("animationiteration"),sd=ea("animationstart"),Ev=ea("transitionrun"),Sv=ea("transitionstart"),Tv=ea("transitioncancel"),ld=ea("transitionend"),ud=new Map,bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bo.push("scrollEnd");function qn(e,i){ud.set(e,i),Ii(i,[e])}var od=new WeakMap;function dn(e,i){if(typeof e=="object"&&e!==null){var a=od.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Th(i)},od.set(e,i),i)}return{value:e,source:i,stack:Th(i)}}var pn=[],Fa=0,Ao=0;function hl(){for(var e=Fa,i=Ao=Fa=0;i<e;){var a=pn[i];pn[i++]=null;var l=pn[i];pn[i++]=null;var o=pn[i];pn[i++]=null;var f=pn[i];if(pn[i++]=null,l!==null&&o!==null){var y=l.pending;y===null?o.next=o:(o.next=y.next,y.next=o),l.pending=o}f!==0&&cd(a,o,f)}}function dl(e,i,a,l){pn[Fa++]=e,pn[Fa++]=i,pn[Fa++]=a,pn[Fa++]=l,Ao|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wo(e,i,a,l){return dl(e,i,a,l),pl(e)}function ka(e,i){return dl(e,null,null,i),pl(e)}function cd(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&i!==null&&(o=31-Je(a),e=f.hiddenUpdates,l=e[o],l===null?e[o]=[i]:l.push(i),i.lane=a|536870912),f):null}function pl(e){if(50<ds)throw ds=0,Rc=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ja={};function Mv(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,i,a,l){return new Mv(e,i,a,l)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,i){var a=e.alternate;return a===null?(a=Pt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fd(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ml(e,i,a,l,o,f){var y=0;if(l=e,typeof e=="function")xo(e)&&(y=1);else if(typeof e=="string")y=O1(e,a,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Pt(31,a,i,o),e.elementType=W,e.lanes=f,e;case b:return ta(a.children,o,f,i);case C:y=8,o|=24;break;case E:return e=Pt(12,a,i,o|2),e.elementType=E,e.lanes=f,e;case F:return e=Pt(13,a,i,o),e.elementType=F,e.lanes=f,e;case q:return e=Pt(19,a,i,o),e.elementType=q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case G:y=10;break e;case _:y=9;break e;case $:y=11;break e;case B:y=14;break e;case H:y=16,l=null;break e}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Pt(y,a,i,o),i.elementType=e,i.type=l,i.lanes=f,i}function ta(e,i,a,l){return e=Pt(7,e,l,i),e.lanes=a,e}function Eo(e,i,a){return e=Pt(6,e,null,i),e.lanes=a,e}function So(e,i,a){return i=Pt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pa=[],Ia=0,gl=null,yl=0,mn=[],gn=0,na=null,Wn=1,$n="";function ia(e,i){Pa[Ia++]=yl,Pa[Ia++]=gl,gl=e,yl=i}function hd(e,i,a){mn[gn++]=Wn,mn[gn++]=$n,mn[gn++]=na,na=e;var l=Wn;e=$n;var o=32-Je(l)-1;l&=~(1<<o),a+=1;var f=32-Je(i)+o;if(30<f){var y=o-o%5;f=(l&(1<<y)-1).toString(32),l>>=y,o-=y,Wn=1<<32-Je(i)+o|a<<o|l,$n=f+e}else Wn=1<<f|a<<o|l,$n=e}function To(e){e.return!==null&&(ia(e,1),hd(e,1,0))}function Mo(e){for(;e===gl;)gl=Pa[--Ia],Pa[Ia]=null,yl=Pa[--Ia],Pa[Ia]=null;for(;e===na;)na=mn[--gn],mn[gn]=null,$n=mn[--gn],mn[gn]=null,Wn=mn[--gn],mn[gn]=null}var Lt=null,lt=null,je=!1,aa=null,Ln=!1,Ro=Error(s(519));function ra(e){var i=Error(s(418,""));throw Kr(dn(i,e)),Ro}function dd(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[He]=l,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<ms.length;a++)Be(ms[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Oh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),il(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),qh(i,l.value,l.defaultValue,l.children),il(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qm(i.textContent,a)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=Il),i=!0):i=!1,i||ra(e)}function pd(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Lt=Lt.return}}function Xr(e){if(e!==Lt)return!1;if(!je)return pd(e),je=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xc(e.type,e.memoizedProps)),a=!a),a&&lt&&ra(e),pd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){lt=Bn(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}lt=null}}else i===27?(i=lt,Ui(e.type)?(e=Fc,Fc=null,lt=e):lt=i):lt=Lt?Bn(e.stateNode.nextSibling):null;return!0}function Qr(){lt=Lt=null,je=!1}function md(){var e=aa;return e!==null&&(Xt===null?Xt=e:Xt.push.apply(Xt,e),aa=null),e}function Kr(e){aa===null?aa=[e]:aa.push(e)}var Oo=K(null),sa=null,ei=null;function bi(e,i,a){re(Oo,i._currentValue),i._currentValue=a}function ti(e){e._currentValue=Oo.current,ne(Oo)}function Co(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function qo(e,i,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var y=o.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=o;for(var R=0;R<i.length;R++)if(w.context===i[R]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),Co(f.return,a,e),l||(y=null);break e}f=w.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Co(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Zr(e,i,a,l){e=null;for(var o=i,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var w=o.type;Jt(o.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(o===At.current){if(y=o.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}o=o.return}e!==null&&qo(i,e,a,l),i.flags|=262144}function vl(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){sa=e,ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return gd(sa,e)}function bl(e,i){return sa===null&&la(e),gd(e,i)}function gd(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ei===null){if(e===null)throw Error(s(308));ei=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ei=ei.next=i;return a}var Rv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Ov=t.unstable_scheduleCallback,Cv=t.unstable_NormalPriority,gt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new Rv,data:new Map,refCount:0}}function Fr(e){e.refCount--,e.refCount===0&&Ov(Cv,function(){e.controller.abort()})}var kr=null,Bo=0,Wa=0,$a=null;function qv(e,i){if(kr===null){var a=kr=[];Bo=0,Wa=Uc(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bo++,i.then(yd,yd),i}function yd(){if(--Bo===0&&kr!==null){$a!==null&&($a.status="fulfilled");var e=kr;kr=null,Wa=0,$a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Dv(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var o=0;o<a.length;o++)(0,a[o])(i)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var vd=z.S;z.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qv(e,i),vd!==null&&vd(e,i)};var ua=K(null);function _o(){var e=ua.current;return e!==null?e:et.pooledCache}function Al(e,i){i===null?re(ua,ua.current):re(ua,i.pool)}function bd(){var e=_o();return e===null?null:{parent:gt._currentValue,pool:e}}var Jr=Error(s(460)),Ad=Error(s(474)),wl=Error(s(542)),Uo={then:function(){}};function wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xl(){}function xd(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(xl,xl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sd(e),e;default:if(typeof i.status=="string")i.then(xl,xl);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var o=i;o.status="fulfilled",o.value=l}},function(l){if(i.status==="pending"){var o=i;o.status="rejected",o.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sd(e),e}throw Pr=i,Jr}}var Pr=null;function Ed(){if(Pr===null)throw Error(s(459));var e=Pr;return Pr=null,e}function Sd(e){if(e===Jr||e===wl)throw Error(s(483))}var Ai=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var o=l.pending;return o===null?i.next=i:(i.next=o.next,o.next=i),l.pending=i,i=pl(e),cd(e,null,a),i}return dl(e,l,i,a),pl(e)}function Ir(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Dr(e,a)}}function Lo(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?o=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?o=f=i:f=f.next=i}else o=f=i;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ho=!1;function Wr(){if(Ho){var e=$a;if(e!==null)throw e}}function $r(e,i,a,l){Ho=!1;var o=e.updateQueue;Ai=!1;var f=o.firstBaseUpdate,y=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var R=w,j=R.next;R.next=null,y===null?f=j:y.next=j,y=R;var k=e.alternate;k!==null&&(k=k.updateQueue,w=k.lastBaseUpdate,w!==y&&(w===null?k.firstBaseUpdate=j:w.next=j,k.lastBaseUpdate=R))}if(f!==null){var ee=o.baseState;y=0,k=j=R=null,w=f;do{var Y=w.lane&-536870913,V=Y!==w.lane;if(V?(Ne&Y)===Y:(l&Y)===Y){Y!==0&&Y===Wa&&(Ho=!0),k!==null&&(k=k.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ee=e,ve=w;Y=i;var ke=a;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ee=Ee.call(ke,ee,Y);break e}ee=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,Y=typeof Ee=="function"?Ee.call(ke,ee,Y):Ee,Y==null)break e;ee=v({},ee,Y);break e;case 2:Ai=!0}}Y=w.callback,Y!==null&&(e.flags|=64,V&&(e.flags|=8192),V=o.callbacks,V===null?o.callbacks=[Y]:V.push(Y))}else V={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},k===null?(j=k=V,R=ee):k=k.next=V,y|=Y;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;V=w,w=V.next,V.next=null,o.lastBaseUpdate=V,o.shared.pending=null}}while(!0);k===null&&(R=ee),o.baseState=R,o.firstBaseUpdate=j,o.lastBaseUpdate=k,f===null&&(o.shared.lanes=0),qi|=y,e.lanes=y,e.memoizedState=ee}}function Td(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Md(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Td(a[e],i)}var er=K(null),El=K(0);function Rd(e,i){e=ui,re(El,e),re(er,i),ui=e|i.baseLanes}function jo(){re(El,ui),re(er,er.current)}function Yo(){ui=El.current,ne(er),ne(El)}var Ei=0,Oe=null,Ze=null,dt=null,Sl=!1,tr=!1,oa=!1,Tl=0,es=0,nr=null,Bv=0;function ct(){throw Error(s(321))}function Go(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Jt(e[a],i[a]))return!1;return!0}function Vo(e,i,a,l,o,f){return Ei=f,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=e===null||e.memoizedState===null?cp:fp,oa=!1,f=a(l,o),oa=!1,tr&&(f=Cd(i,a,l,o)),Od(e),f}function Od(e){z.H=Dl;var i=Ze!==null&&Ze.next!==null;if(Ei=0,dt=Ze=Oe=null,Sl=!1,es=0,nr=null,i)throw Error(s(300));e===null||xt||(e=e.dependencies,e!==null&&vl(e)&&(xt=!0))}function Cd(e,i,a,l){Oe=e;var o=0;do{if(tr&&(nr=null),es=0,tr=!1,25<=o)throw Error(s(301));if(o+=1,dt=Ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=jv,f=i(a,l)}while(tr);return f}function _v(){var e=z.H,i=e.useState()[0];return i=typeof i.then=="function"?ts(i):i,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Oe.flags|=1024),i}function Xo(){var e=Tl!==0;return Tl=0,e}function Qo(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ko(e){if(Sl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Sl=!1}Ei=0,dt=Ze=Oe=null,tr=!1,es=Tl=0,nr=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Oe.memoizedState=dt=e:dt=dt.next=e,dt}function pt(){if(Ze===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var i=dt===null?Oe.memoizedState:dt.next;if(i!==null)dt=i,Ze=e;else{if(e===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?Oe.memoizedState=dt=e:dt=dt.next=e}return dt}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ts(e){var i=es;return es+=1,nr===null&&(nr=[]),e=xd(nr,e,i),i=Oe,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?cp:fp),e}function Ml(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ts(e);if(e.$$typeof===G)return Bt(e)}throw Error(s(438,String(e)))}function Fo(e){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(o){return o.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zo(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=ie;return i.index++,a}function ni(e,i){return typeof i=="function"?i(e):i}function Rl(e){var i=pt();return ko(i,Ze,e)}function ko(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var o=e.baseQueue,f=l.pending;if(f!==null){if(o!==null){var y=o.next;o.next=f.next,f.next=y}i.baseQueue=o=f,l.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{i=o.next;var w=y=null,R=null,j=i,k=!1;do{var ee=j.lane&-536870913;if(ee!==j.lane?(Ne&ee)===ee:(Ei&ee)===ee){var Y=j.revertLane;if(Y===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ee===Wa&&(k=!0);else if((Ei&Y)===Y){j=j.next,Y===Wa&&(k=!0);continue}else ee={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(w=R=ee,y=f):R=R.next=ee,Oe.lanes|=Y,qi|=Y;ee=j.action,oa&&a(f,ee),f=j.hasEagerState?j.eagerState:a(f,ee)}else Y={lane:ee,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(w=R=Y,y=f):R=R.next=Y,Oe.lanes|=ee,qi|=ee;j=j.next}while(j!==null&&j!==i);if(R===null?y=f:R.next=w,!Jt(f,e.memoizedState)&&(xt=!0,k&&(a=$a,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,l.lastRenderedState=f}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jo(e){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,f=i.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do f=e(f,y.action),y=y.next;while(y!==o);Jt(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function qd(e,i,a){var l=Oe,o=pt(),f=je;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!Jt((Ze||o).memoizedState,a);y&&(o.memoizedState=a,xt=!0),o=o.queue;var w=_d.bind(null,l,o,e);if(ns(2048,8,w,[e]),o.getSnapshot!==i||y||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,ir(9,Ol(),Bd.bind(null,l,o,a,i),null),et===null)throw Error(s(349));f||(Ei&124)!==0||Dd(l,i,a)}return a}function Dd(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=Zo(),Oe.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Bd(e,i,a,l){i.value=a,i.getSnapshot=l,Ud(i)&&Nd(e)}function _d(e,i,a){return a(function(){Ud(i)&&Nd(e)})}function Ud(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Jt(e,a)}catch{return!0}}function Nd(e){var i=ka(e,2);i!==null&&tn(i,e,2)}function Po(e){var i=Gt();if(typeof e=="function"){var a=e;if(e=a(),oa){Ft(!0);try{a()}finally{Ft(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},i}function zd(e,i,a,l){return e.baseState=a,ko(e,Ze,typeof l=="function"?l:ni)}function Uv(e,i,a,l,o){if(ql(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Ld(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ld(e,i){var a=i.action,l=i.payload,o=e.state;if(i.isTransition){var f=z.T,y={};z.T=y;try{var w=a(o,l),R=z.S;R!==null&&R(y,w),Hd(e,i,w)}catch(j){Io(e,i,j)}finally{z.T=f}}else try{f=a(o,l),Hd(e,i,f)}catch(j){Io(e,i,j)}}function Hd(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jd(e,i,l)},function(l){return Io(e,i,l)}):jd(e,i,a)}function jd(e,i,a){i.status="fulfilled",i.value=a,Yd(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ld(e,a)))}function Io(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yd(i),i=i.next;while(i!==l)}e.action=null}function Yd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gd(e,i){return i}function Vd(e,i){if(je){var a=et.formState;if(a!==null){e:{var l=Oe;if(je){if(lt){t:{for(var o=lt,f=Ln;o.nodeType!==8;){if(!f){o=null;break t}if(o=Bn(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){lt=Bn(o.nextSibling),l=o.data==="F!";break e}}ra(l)}l=!1}l&&(i=a[0])}}return a=Gt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:i},a.queue=l,a=lp.bind(null,Oe,l),l.dispatch=a,l=Po(!1),f=nc.bind(null,Oe,!1,l.queue),l=Gt(),o={state:i,dispatch:null,action:e,pending:null},l.queue=o,a=Uv.bind(null,Oe,o,f,a),o.dispatch=a,l.memoizedState=e,[i,a,!1]}function Xd(e){var i=pt();return Qd(i,Ze,e)}function Qd(e,i,a){if(i=ko(e,i,Gd)[0],e=Rl(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ts(i)}catch(y){throw y===Jr?wl:y}else l=i;i=pt();var o=i.queue,f=o.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,ir(9,Ol(),Nv.bind(null,o,a),null)),[l,f,e]}function Nv(e,i){e.action=i}function Kd(e){var i=pt(),a=Ze;if(a!==null)return Qd(i,a,e);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ir(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Zo(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ol(){return{destroy:void 0,resource:void 0}}function Zd(){return pt().memoizedState}function Cl(e,i,a,l){var o=Gt();l=l===void 0?null:l,Oe.flags|=e,o.memoizedState=ir(1|i,Ol(),a,l)}function ns(e,i,a,l){var o=pt();l=l===void 0?null:l;var f=o.memoizedState.inst;Ze!==null&&l!==null&&Go(l,Ze.memoizedState.deps)?o.memoizedState=ir(i,f,a,l):(Oe.flags|=e,o.memoizedState=ir(1|i,f,a,l))}function Fd(e,i){Cl(8390656,8,e,i)}function kd(e,i){ns(2048,8,e,i)}function Jd(e,i){return ns(4,2,e,i)}function Pd(e,i){return ns(4,4,e,i)}function Id(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Wd(e,i,a){a=a!=null?a.concat([e]):null,ns(4,4,Id.bind(null,i,e),a)}function Wo(){}function $d(e,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Go(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ep(e,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Go(i,l[1]))return l[0];if(l=e(),oa){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,i],l}function $o(e,i,a){return a===void 0||(Ei&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=im(),Oe.lanes|=e,qi|=e,a)}function tp(e,i,a,l){return Jt(a,i)?a:er.current!==null?(e=$o(e,a,l),Jt(e,i)||(xt=!0),e):(Ei&42)===0?(xt=!0,e.memoizedState=a):(e=im(),Oe.lanes|=e,qi|=e,i)}function np(e,i,a,l,o){var f=te.p;te.p=f!==0&&8>f?f:8;var y=z.T,w={};z.T=w,nc(e,!1,i,a);try{var R=o(),j=z.S;if(j!==null&&j(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var k=Dv(R,l);is(e,i,k,en(e))}else is(e,i,l,en(e))}catch(ee){is(e,i,{then:function(){},status:"rejected",reason:ee},en())}finally{te.p=f,z.T=y}}function zv(){}function ec(e,i,a,l){if(e.tag!==5)throw Error(s(476));var o=ip(e).queue;np(e,o,i,se,a===null?zv:function(){return ap(e),a(l)})}function ip(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ap(e){var i=ip(e).next.queue;is(e,i,{},en())}function tc(){return Bt(ws)}function rp(){return pt().memoizedState}function sp(){return pt().memoizedState}function Lv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=en();e=wi(a);var l=xi(i,e,a);l!==null&&(tn(l,i,a),Ir(l,i,a)),i={cache:Do()},e.payload=i;return}i=i.return}}function Hv(e,i,a){var l=en();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ql(e)?up(i,a):(a=wo(e,i,a,l),a!==null&&(tn(a,e,l),op(a,i,l)))}function lp(e,i,a){var l=en();is(e,i,a,l)}function is(e,i,a,l){var o={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ql(e))up(i,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,w=f(y,a);if(o.hasEagerState=!0,o.eagerState=w,Jt(w,y))return dl(e,i,o,0),et===null&&hl(),!1}catch{}finally{}if(a=wo(e,i,o,l),a!==null)return tn(a,e,l),op(a,i,l),!0}return!1}function nc(e,i,a,l){if(l={lane:2,revertLane:Uc(),action:l,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(i)throw Error(s(479))}else i=wo(e,a,l,2),i!==null&&tn(i,e,2)}function ql(e){var i=e.alternate;return e===Oe||i!==null&&i===Oe}function up(e,i){tr=Sl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function op(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Dr(e,a)}}var Dl={readContext:Bt,use:Ml,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},cp={readContext:Bt,use:Ml,useCallback:function(e,i){return Gt().memoizedState=[e,i===void 0?null:i],e},useContext:Bt,useEffect:Fd,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cl(4194308,4,Id.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cl(4194308,4,e,i)},useInsertionEffect:function(e,i){Cl(4,2,e,i)},useMemo:function(e,i){var a=Gt();i=i===void 0?null:i;var l=e();if(oa){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Gt();if(a!==void 0){var o=a(i);if(oa){Ft(!0);try{a(i)}finally{Ft(!1)}}}else o=i;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Hv.bind(null,Oe,e),[l.memoizedState,e]},useRef:function(e){var i=Gt();return e={current:e},i.memoizedState=e},useState:function(e){e=Po(e);var i=e.queue,a=lp.bind(null,Oe,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Wo,useDeferredValue:function(e,i){var a=Gt();return $o(a,e,i)},useTransition:function(){var e=Po(!1);return e=np.bind(null,Oe,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Oe,o=Gt();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ne&124)!==0||Dd(l,i,a)}o.memoizedState=a;var f={value:a,getSnapshot:i};return o.queue=f,Fd(_d.bind(null,l,f,e),[e]),l.flags|=2048,ir(9,Ol(),Bd.bind(null,l,f,a,i),null),a},useId:function(){var e=Gt(),i=et.identifierPrefix;if(je){var a=$n,l=Wn;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Tl++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Bv++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:tc,useFormState:Vd,useActionState:Vd,useOptimistic:function(e){var i=Gt();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nc.bind(null,Oe,!0,a),a.dispatch=i,[e,i]},useMemoCache:Fo,useCacheRefresh:function(){return Gt().memoizedState=Lv.bind(null,Oe)}},fp={readContext:Bt,use:Ml,useCallback:$d,useContext:Bt,useEffect:kd,useImperativeHandle:Wd,useInsertionEffect:Jd,useLayoutEffect:Pd,useMemo:ep,useReducer:Rl,useRef:Zd,useState:function(){return Rl(ni)},useDebugValue:Wo,useDeferredValue:function(e,i){var a=pt();return tp(a,Ze.memoizedState,e,i)},useTransition:function(){var e=Rl(ni)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:ts(e),i]},useSyncExternalStore:qd,useId:rp,useHostTransitionStatus:tc,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,i){var a=pt();return zd(a,Ze,e,i)},useMemoCache:Fo,useCacheRefresh:sp},jv={readContext:Bt,use:Ml,useCallback:$d,useContext:Bt,useEffect:kd,useImperativeHandle:Wd,useInsertionEffect:Jd,useLayoutEffect:Pd,useMemo:ep,useReducer:Jo,useRef:Zd,useState:function(){return Jo(ni)},useDebugValue:Wo,useDeferredValue:function(e,i){var a=pt();return Ze===null?$o(a,e,i):tp(a,Ze.memoizedState,e,i)},useTransition:function(){var e=Jo(ni)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:ts(e),i]},useSyncExternalStore:qd,useId:rp,useHostTransitionStatus:tc,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,i){var a=pt();return Ze!==null?zd(a,Ze,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:sp},ar=null,as=0;function Bl(e){var i=as;return as+=1,ar===null&&(ar=[]),xd(ar,e,i)}function rs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function _l(e,i){throw i.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hp(e){var i=e._init;return i(e._payload)}function dp(e){function i(U,D){if(e){var N=U.deletions;N===null?(U.deletions=[D],U.flags|=16):N.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function o(U,D){return U=In(U,D),U.index=0,U.sibling=null,U}function f(U,D,N){return U.index=N,e?(N=U.alternate,N!==null?(N=N.index,N<D?(U.flags|=67108866,D):N):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function w(U,D,N,I){return D===null||D.tag!==6?(D=Eo(N,U.mode,I),D.return=U,D):(D=o(D,N),D.return=U,D)}function R(U,D,N,I){var oe=N.type;return oe===b?k(U,D,N.props.children,I,N.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===H&&hp(oe)===D.type)?(D=o(D,N.props),rs(D,N),D.return=U,D):(D=ml(N.type,N.key,N.props,null,U.mode,I),rs(D,N),D.return=U,D)}function j(U,D,N,I){return D===null||D.tag!==4||D.stateNode.containerInfo!==N.containerInfo||D.stateNode.implementation!==N.implementation?(D=So(N,U.mode,I),D.return=U,D):(D=o(D,N.children||[]),D.return=U,D)}function k(U,D,N,I,oe){return D===null||D.tag!==7?(D=ta(N,U.mode,I,oe),D.return=U,D):(D=o(D,N),D.return=U,D)}function ee(U,D,N){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Eo(""+D,U.mode,N),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case m:return N=ml(D.type,D.key,D.props,null,U.mode,N),rs(N,D),N.return=U,N;case S:return D=So(D,U.mode,N),D.return=U,D;case H:var I=D._init;return D=I(D._payload),ee(U,D,N)}if(be(D)||ue(D))return D=ta(D,U.mode,N,null),D.return=U,D;if(typeof D.then=="function")return ee(U,Bl(D),N);if(D.$$typeof===G)return ee(U,bl(U,D),N);_l(U,D)}return null}function Y(U,D,N,I){var oe=D!==null?D.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return oe!==null?null:w(U,D,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case m:return N.key===oe?R(U,D,N,I):null;case S:return N.key===oe?j(U,D,N,I):null;case H:return oe=N._init,N=oe(N._payload),Y(U,D,N,I)}if(be(N)||ue(N))return oe!==null?null:k(U,D,N,I,null);if(typeof N.then=="function")return Y(U,D,Bl(N),I);if(N.$$typeof===G)return Y(U,D,bl(U,N),I);_l(U,N)}return null}function V(U,D,N,I,oe){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return U=U.get(N)||null,w(D,U,""+I,oe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case m:return U=U.get(I.key===null?N:I.key)||null,R(D,U,I,oe);case S:return U=U.get(I.key===null?N:I.key)||null,j(D,U,I,oe);case H:var qe=I._init;return I=qe(I._payload),V(U,D,N,I,oe)}if(be(I)||ue(I))return U=U.get(N)||null,k(D,U,I,oe,null);if(typeof I.then=="function")return V(U,D,N,Bl(I),oe);if(I.$$typeof===G)return V(U,D,N,bl(D,I),oe);_l(D,I)}return null}function Ee(U,D,N,I){for(var oe=null,qe=null,de=D,Ae=D=0,St=null;de!==null&&Ae<N.length;Ae++){de.index>Ae?(St=de,de=null):St=de.sibling;var ze=Y(U,de,N[Ae],I);if(ze===null){de===null&&(de=St);break}e&&de&&ze.alternate===null&&i(U,de),D=f(ze,D,Ae),qe===null?oe=ze:qe.sibling=ze,qe=ze,de=St}if(Ae===N.length)return a(U,de),je&&ia(U,Ae),oe;if(de===null){for(;Ae<N.length;Ae++)de=ee(U,N[Ae],I),de!==null&&(D=f(de,D,Ae),qe===null?oe=de:qe.sibling=de,qe=de);return je&&ia(U,Ae),oe}for(de=l(de);Ae<N.length;Ae++)St=V(de,U,Ae,N[Ae],I),St!==null&&(e&&St.alternate!==null&&de.delete(St.key===null?Ae:St.key),D=f(St,D,Ae),qe===null?oe=St:qe.sibling=St,qe=St);return e&&de.forEach(function(ji){return i(U,ji)}),je&&ia(U,Ae),oe}function ve(U,D,N,I){if(N==null)throw Error(s(151));for(var oe=null,qe=null,de=D,Ae=D=0,St=null,ze=N.next();de!==null&&!ze.done;Ae++,ze=N.next()){de.index>Ae?(St=de,de=null):St=de.sibling;var ji=Y(U,de,ze.value,I);if(ji===null){de===null&&(de=St);break}e&&de&&ji.alternate===null&&i(U,de),D=f(ji,D,Ae),qe===null?oe=ji:qe.sibling=ji,qe=ji,de=St}if(ze.done)return a(U,de),je&&ia(U,Ae),oe;if(de===null){for(;!ze.done;Ae++,ze=N.next())ze=ee(U,ze.value,I),ze!==null&&(D=f(ze,D,Ae),qe===null?oe=ze:qe.sibling=ze,qe=ze);return je&&ia(U,Ae),oe}for(de=l(de);!ze.done;Ae++,ze=N.next())ze=V(de,U,Ae,ze.value,I),ze!==null&&(e&&ze.alternate!==null&&de.delete(ze.key===null?Ae:ze.key),D=f(ze,D,Ae),qe===null?oe=ze:qe.sibling=ze,qe=ze);return e&&de.forEach(function(Y1){return i(U,Y1)}),je&&ia(U,Ae),oe}function ke(U,D,N,I){if(typeof N=="object"&&N!==null&&N.type===b&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case m:e:{for(var oe=N.key;D!==null;){if(D.key===oe){if(oe=N.type,oe===b){if(D.tag===7){a(U,D.sibling),I=o(D,N.props.children),I.return=U,U=I;break e}}else if(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===H&&hp(oe)===D.type){a(U,D.sibling),I=o(D,N.props),rs(I,N),I.return=U,U=I;break e}a(U,D);break}else i(U,D);D=D.sibling}N.type===b?(I=ta(N.props.children,U.mode,I,N.key),I.return=U,U=I):(I=ml(N.type,N.key,N.props,null,U.mode,I),rs(I,N),I.return=U,U=I)}return y(U);case S:e:{for(oe=N.key;D!==null;){if(D.key===oe)if(D.tag===4&&D.stateNode.containerInfo===N.containerInfo&&D.stateNode.implementation===N.implementation){a(U,D.sibling),I=o(D,N.children||[]),I.return=U,U=I;break e}else{a(U,D);break}else i(U,D);D=D.sibling}I=So(N,U.mode,I),I.return=U,U=I}return y(U);case H:return oe=N._init,N=oe(N._payload),ke(U,D,N,I)}if(be(N))return Ee(U,D,N,I);if(ue(N)){if(oe=ue(N),typeof oe!="function")throw Error(s(150));return N=oe.call(N),ve(U,D,N,I)}if(typeof N.then=="function")return ke(U,D,Bl(N),I);if(N.$$typeof===G)return ke(U,D,bl(U,N),I);_l(U,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,D!==null&&D.tag===6?(a(U,D.sibling),I=o(D,N),I.return=U,U=I):(a(U,D),I=Eo(N,U.mode,I),I.return=U,U=I),y(U)):a(U,D)}return function(U,D,N,I){try{as=0;var oe=ke(U,D,N,I);return ar=null,oe}catch(de){if(de===Jr||de===wl)throw de;var qe=Pt(29,de,null,U.mode);return qe.lanes=I,qe.return=U,qe}finally{}}}var rr=dp(!0),pp=dp(!1),yn=K(null),Hn=null;function Si(e){var i=e.alternate;re(yt,yt.current&1),re(yn,e),Hn===null&&(i===null||er.current!==null||i.memoizedState!==null)&&(Hn=e)}function mp(e){if(e.tag===22){if(re(yt,yt.current),re(yn,e),Hn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Hn=e)}}else Ti()}function Ti(){re(yt,yt.current),re(yn,yn.current)}function ii(e){ne(yn),Hn===e&&(Hn=null),ne(yt)}var yt=K(0);function Ul(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zc(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ic(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ac={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=en(),o=wi(l);o.payload=i,a!=null&&(o.callback=a),i=xi(e,o,l),i!==null&&(tn(i,e,l),Ir(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=en(),o=wi(l);o.tag=1,o.payload=i,a!=null&&(o.callback=a),i=xi(e,o,l),i!==null&&(tn(i,e,l),Ir(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=en(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=xi(e,l,a),i!==null&&(tn(i,e,a),Ir(i,e,a))}};function gp(e,i,a,l,o,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):i.prototype&&i.prototype.isPureReactComponent?!Gr(a,l)||!Gr(o,f):!0}function yp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ac.enqueueReplaceState(i,i.state,null)}function ca(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vp(e){Nl(e)}function bp(e){console.error(e)}function Ap(e){Nl(e)}function zl(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function wp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function rc(e,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){zl(e,i)},a}function xp(e){return e=wi(e),e.tag=3,e}function Ep(e,i,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var f=l.value;e.payload=function(){return o(f)},e.callback=function(){wp(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){wp(i,a,l),typeof o!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Yv(e,i,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Zr(i,a,o,!0),a=yn.current,a!==null){switch(a.tag){case 13:return Hn===null?Cc():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===Uo?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dc(e,l,o)),!1;case 22:return a.flags|=65536,l===Uo?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dc(e,l,o)),!1}throw Error(s(435,a.tag))}return Dc(e,l,o),Cc(),!1}if(je)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=o,l!==Ro&&(e=Error(s(422),{cause:l}),Kr(dn(e,a)))):(l!==Ro&&(i=Error(s(423),{cause:l}),Kr(dn(i,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=dn(l,a),o=rc(e.stateNode,l,o),Lo(e,o),ut!==4&&(ut=2)),!1;var f=Error(s(520),{cause:l});if(f=dn(f,a),hs===null?hs=[f]:hs.push(f),ut!==4&&(ut=2),i===null)return!0;l=dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=rc(a.stateNode,l,e),Lo(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Di===null||!Di.has(f))))return a.flags|=65536,o&=-o,a.lanes|=o,o=xp(o),Ep(o,e,a,l),Lo(a,o),!1}a=a.return}while(a!==null);return!1}var Sp=Error(s(461)),xt=!1;function Mt(e,i,a,l){i.child=e===null?pp(i,null,a,l):rr(i,e.child,a,l)}function Tp(e,i,a,l,o){a=a.render;var f=i.ref;if("ref"in l){var y={};for(var w in l)w!=="ref"&&(y[w]=l[w])}else y=l;return la(i),l=Vo(e,i,a,y,f,o),w=Xo(),e!==null&&!xt?(Qo(e,i,o),ai(e,i,o)):(je&&w&&To(i),i.flags|=1,Mt(e,i,l,o),i.child)}function Mp(e,i,a,l,o){if(e===null){var f=a.type;return typeof f=="function"&&!xo(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Rp(e,i,f,l,o)):(e=ml(a.type,null,l,i,i.mode,o),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!dc(e,o)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(y,l)&&e.ref===i.ref)return ai(e,i,o)}return i.flags|=1,e=In(f,l),e.ref=i.ref,e.return=i,i.child=e}function Rp(e,i,a,l,o){if(e!==null){var f=e.memoizedProps;if(Gr(f,l)&&e.ref===i.ref)if(xt=!1,i.pendingProps=l=f,dc(e,o))(e.flags&131072)!==0&&(xt=!0);else return i.lanes=e.lanes,ai(e,i,o)}return sc(e,i,a,l,o)}function Op(e,i,a){var l=i.pendingProps,o=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Cp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Al(i,f!==null?f.cachePool:null),f!==null?Rd(i,f):jo(),mp(i);else return i.lanes=i.childLanes=536870912,Cp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Al(i,f.cachePool),Rd(i,f),Ti(),i.memoizedState=null):(e!==null&&Al(i,null),jo(),Ti());return Mt(e,i,o,a),i.child}function Cp(e,i,a,l){var o=_o();return o=o===null?null:{parent:gt._currentValue,pool:o},i.memoizedState={baseLanes:a,cachePool:o},e!==null&&Al(i,null),jo(),mp(i),e!==null&&Zr(e,i,l,!0),null}function Ll(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function sc(e,i,a,l,o){return la(i),a=Vo(e,i,a,l,void 0,o),l=Xo(),e!==null&&!xt?(Qo(e,i,o),ai(e,i,o)):(je&&l&&To(i),i.flags|=1,Mt(e,i,a,o),i.child)}function qp(e,i,a,l,o,f){return la(i),i.updateQueue=null,a=Cd(i,l,a,o),Od(e),l=Xo(),e!==null&&!xt?(Qo(e,i,f),ai(e,i,f)):(je&&l&&To(i),i.flags|=1,Mt(e,i,a,f),i.child)}function Dp(e,i,a,l,o){if(la(i),i.stateNode===null){var f=Ja,y=a.contextType;typeof y=="object"&&y!==null&&(f=Bt(y)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ac,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},No(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?Bt(y):Ja,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ic(i,a,y,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ac.enqueueReplaceState(f,f.state,null),$r(i,l,f,o),Wr(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){f=i.stateNode;var w=i.memoizedProps,R=ca(a,w);f.props=R;var j=f.context,k=a.contextType;y=Ja,typeof k=="object"&&k!==null&&(y=Bt(k));var ee=a.getDerivedStateFromProps;k=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||j!==y)&&yp(i,f,l,y),Ai=!1;var Y=i.memoizedState;f.state=Y,$r(i,l,f,o),Wr(),j=i.memoizedState,w||Y!==j||Ai?(typeof ee=="function"&&(ic(i,a,ee,l),j=i.memoizedState),(R=Ai||gp(i,a,R,l,Y,j,y))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),f.props=l,f.state=j,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,zo(e,i),y=i.memoizedProps,k=ca(a,y),f.props=k,ee=i.pendingProps,Y=f.context,j=a.contextType,R=Ja,typeof j=="object"&&j!==null&&(R=Bt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ee||Y!==R)&&yp(i,f,l,R),Ai=!1,Y=i.memoizedState,f.state=Y,$r(i,l,f,o),Wr();var V=i.memoizedState;y!==ee||Y!==V||Ai||e!==null&&e.dependencies!==null&&vl(e.dependencies)?(typeof w=="function"&&(ic(i,a,w,l),V=i.memoizedState),(k=Ai||gp(i,a,k,l,Y,V,R)||e!==null&&e.dependencies!==null&&vl(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=V),f.props=l,f.state=V,f.context=R,l=k):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ll(e,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&l?(i.child=rr(i,e.child,null,o),i.child=rr(i,null,a,o)):Mt(e,i,a,o),i.memoizedState=f.state,e=i.child):e=ai(e,i,o),e}function Bp(e,i,a,l){return Qr(),i.flags|=256,Mt(e,i,a,l),i.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:bd()}}function oc(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function _p(e,i,a){var l=i.pendingProps,o=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),y&&(o=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(je){if(o?Si(i):Ti(),je){var w=lt,R;if(R=w){e:{for(R=w,w=Ln;R.nodeType!==8;){if(!w){w=null;break e}if(R=Bn(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(i.memoizedState={dehydrated:w,treeContext:na!==null?{id:Wn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},R=Pt(18,null,null,0),R.stateNode=w,R.return=i,i.child=R,Lt=i,lt=null,R=!0):R=!1}R||ra(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Zc(w)?i.lanes=32:i.lanes=536870912,null;ii(i)}return w=l.children,l=l.fallback,o?(Ti(),o=i.mode,w=Hl({mode:"hidden",children:w},o),l=ta(l,o,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,o=i.child,o.memoizedState=uc(a),o.childLanes=oc(e,y,a),i.memoizedState=lc,l):(Si(i),cc(i,w))}if(R=e.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(f)i.flags&256?(Si(i),i.flags&=-257,i=fc(e,i,a)):i.memoizedState!==null?(Ti(),i.child=e.child,i.flags|=128,i=null):(Ti(),o=l.fallback,w=i.mode,l=Hl({mode:"visible",children:l.children},w),o=ta(o,w,a,null),o.flags|=2,l.return=i,o.return=i,l.sibling=o,i.child=l,rr(i,e.child,null,a),l=i.child,l.memoizedState=uc(a),l.childLanes=oc(e,y,a),i.memoizedState=lc,i=o);else if(Si(i),Zc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(s(419)),l.stack="",l.digest=y,Kr({value:l,source:null,stack:null}),i=fc(e,i,a)}else if(xt||Zr(e,i,a,!1),y=(a&e.childLanes)!==0,xt||y){if(y=et,y!==null&&(l=a&-a,l=(l&42)!==0?1:O(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ka(e,l),tn(y,e,l),Sp;w.data==="$?"||Cc(),i=fc(e,i,a)}else w.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,lt=Bn(w.nextSibling),Lt=i,je=!0,aa=null,Ln=!1,e!==null&&(mn[gn++]=Wn,mn[gn++]=$n,mn[gn++]=na,Wn=e.id,$n=e.overflow,na=i),i=cc(i,l.children),i.flags|=4096);return i}return o?(Ti(),o=l.fallback,w=i.mode,R=e.child,j=R.sibling,l=In(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?o=In(j,o):(o=ta(o,w,a,null),o.flags|=2),o.return=i,l.return=i,l.sibling=o,i.child=l,l=o,o=i.child,w=e.child.memoizedState,w===null?w=uc(a):(R=w.cachePool,R!==null?(j=gt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=bd(),w={baseLanes:w.baseLanes|a,cachePool:R}),o.memoizedState=w,o.childLanes=oc(e,y,a),i.memoizedState=lc,l):(Si(i),a=e.child,e=a.sibling,a=In(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function cc(e,i){return i=Hl({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hl(e,i){return e=Pt(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fc(e,i,a){return rr(i,e.child,null,a),e=cc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Up(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Co(e.return,i,a)}function hc(e,i,a,l,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=o)}function Np(e,i,a){var l=i.pendingProps,o=l.revealOrder,f=l.tail;if(Mt(e,i,l.children,a),l=yt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,a,i);else if(e.tag===19)Up(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(re(yt,l),o){case"forwards":for(a=i.child,o=null;a!==null;)e=a.alternate,e!==null&&Ul(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=i.child,i.child=null):(o=a.sibling,a.sibling=null),hc(i,!1,o,a,f);break;case"backwards":for(a=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&Ul(e)===null){i.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}hc(i,!0,a,null,f);break;case"together":hc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ai(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),qi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Zr(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=In(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=In(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function dc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&vl(e)))}function Gv(e,i,a){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),bi(i,gt,e.memoizedState.cache),Qr();break;case 27:case 5:Nn(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_p(e,i,a):(Si(i),e=ai(e,i,a),e!==null?e.sibling:null);Si(i);break;case 19:var o=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Zr(e,i,a,!1),l=(a&i.childLanes)!==0),o){if(l)return Np(e,i,a);i.flags|=128}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:case 23:return i.lanes=0,Op(e,i,a);case 24:bi(i,gt,e.memoizedState.cache)}return ai(e,i,a)}function zp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xt=!0;else{if(!dc(e,a)&&(i.flags&128)===0)return xt=!1,Gv(e,i,a);xt=(e.flags&131072)!==0}else xt=!1,je&&(i.flags&1048576)!==0&&hd(i,yl,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var l=i.elementType,o=l._init;if(l=o(l._payload),i.type=l,typeof l=="function")xo(l)?(e=ca(l,e),i.tag=1,i=Dp(null,i,l,e,a)):(i.tag=0,i=sc(null,i,l,e,a));else{if(l!=null){if(o=l.$$typeof,o===$){i.tag=11,i=Tp(null,i,l,e,a);break e}else if(o===B){i.tag=14,i=Mp(null,i,l,e,a);break e}}throw i=we(l)||l,Error(s(306,i,""))}}return i;case 0:return sc(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,o=ca(l,i.pendingProps),Dp(e,i,l,o,a);case 3:e:{if(Qe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;o=f.element,zo(e,i),$r(i,l,null,a);var y=i.memoizedState;if(l=y.cache,bi(i,gt,l),l!==f.cache&&qo(i,[gt],a,!0),Wr(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Bp(e,i,l,a);break e}else if(l!==o){o=dn(Error(s(424)),i),Kr(o),i=Bp(e,i,l,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=Bn(e.firstChild),Lt=i,je=!0,aa=null,Ln=!0,a=pp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),l===o){i=ai(e,i,a);break e}Mt(e,i,l,a)}i=i.child}return i;case 26:return Ll(e,i),e===null?(a=Ym(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,e=i.pendingProps,l=Wl(xe.current).createElement(a),l[Te]=i,l[He]=e,Ot(l,a,e),wt(l),i.stateNode=l):i.memoizedState=Ym(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Nn(i),e===null&&je&&(l=i.stateNode=Lm(i.type,i.pendingProps,xe.current),Lt=i,Ln=!0,o=lt,Ui(i.type)?(Fc=o,lt=Bn(l.firstChild)):lt=o),Mt(e,i,i.pendingProps.children,a),Ll(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&je&&((o=l=lt)&&(l=m1(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Lt=i,lt=Bn(l.firstChild),Ln=!1,o=!0):o=!1),o||ra(i)),Nn(i),o=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Xc(o,f)?l=null:y!==null&&Xc(o,y)&&(i.flags|=32),i.memoizedState!==null&&(o=Vo(e,i,_v,null,null,a),ws._currentValue=o),Ll(e,i),Mt(e,i,l,a),i.child;case 6:return e===null&&je&&((e=a=lt)&&(a=g1(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Lt=i,lt=null,e=!0):e=!1),e||ra(i)),null;case 13:return _p(e,i,a);case 4:return Qe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=rr(i,null,l,a):Mt(e,i,l,a),i.child;case 11:return Tp(e,i,i.type,i.pendingProps,a);case 7:return Mt(e,i,i.pendingProps,a),i.child;case 8:return Mt(e,i,i.pendingProps.children,a),i.child;case 12:return Mt(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bi(i,i.type,l.value),Mt(e,i,l.children,a),i.child;case 9:return o=i.type._context,l=i.pendingProps.children,la(i),o=Bt(o),l=l(o),i.flags|=1,Mt(e,i,l,a),i.child;case 14:return Mp(e,i,i.type,i.pendingProps,a);case 15:return Rp(e,i,i.type,i.pendingProps,a);case 19:return Np(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Hl(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=In(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Op(e,i,a);case 24:return la(i),l=Bt(gt),e===null?(o=_o(),o===null&&(o=et,f=Do(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=a),o=f),i.memoizedState={parent:l,cache:o},No(i),bi(i,gt,o)):((e.lanes&a)!==0&&(zo(e,i),$r(i,null,null,a),Wr()),o=e.memoizedState,f=i.memoizedState,o.parent!==l?(o={parent:l,cache:l},i.memoizedState=o,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=o),bi(i,gt,l)):(l=f.cache,bi(i,gt,l),l!==o.cache&&qo(i,[gt],a,!0))),Mt(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ri(e){e.flags|=4}function Lp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(i)){if(i=yn.current,i!==null&&((Ne&4194048)===Ne?Hn!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||i!==Hn))throw Pr=Uo,Ad;e.flags|=8192}}function jl(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Pi():536870912,e.lanes|=i,or|=i)}function ss(e,i){if(!je)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function it(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function Vv(e,i,a){var l=i.pendingProps;switch(Mo(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ti(gt),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xr(i)?ri(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,md())),it(i),null;case 26:return a=i.memoizedState,e===null?(ri(i),a!==null?(it(i),Lp(i,a)):(it(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ri(i),it(i),Lp(i,a)):(it(i),i.flags&=-16777217):(e.memoizedProps!==l&&ri(i),it(i),i.flags&=-16777217),null;case 27:Nt(i),a=xe.current;var o=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}e=fe.current,Xr(i)?dd(i):(e=Lm(o,l,a),i.stateNode=e,ri(i))}return it(i),null;case 5:if(Nt(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(e=fe.current,Xr(i))dd(i);else{switch(o=Wl(xe.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(a,{is:l.is}):o.createElement(a)}}e[Te]=i,e[He]=l;e:for(o=i.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i.stateNode=e;e:switch(Ot(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ri(i)}}return it(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=xe.current,Xr(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,o=Lt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qm(e.nodeValue,a)),e||ra(i)}else e=Wl(e).createTextNode(l),e[Te]=i,i.stateNode=e}return it(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xr(i),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=i.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[Te]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),o=!1}else o=md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return i.flags&256?(ii(i),i):(ii(i),null)}if(ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==o&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),jl(i,i.updateQueue),it(i),null;case 4:return on(),e===null&&Hc(i.stateNode.containerInfo),it(i),null;case 10:return ti(i.type),it(i),null;case 19:if(ne(yt),o=i.memoizedState,o===null)return it(i),null;if(l=(i.flags&128)!==0,f=o.rendering,f===null)if(l)ss(o,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Ul(e),f!==null){for(i.flags|=128,ss(o,!1),e=f.updateQueue,i.updateQueue=e,jl(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fd(a,e),a=a.sibling;return re(yt,yt.current&1|2),i.child}e=e.sibling}o.tail!==null&&Ke()>Vl&&(i.flags|=128,l=!0,ss(o,!1),i.lanes=4194304)}else{if(!l)if(e=Ul(f),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,jl(i,e),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!je)return it(i),null}else 2*Ke()-o.renderingStartTime>Vl&&a!==536870912&&(i.flags|=128,l=!0,ss(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(i=o.tail,o.rendering=i,o.tail=i.sibling,o.renderingStartTime=Ke(),i.sibling=null,e=yt.current,re(yt,l?e&1|2:e&1),i):(it(i),null);case 22:case 23:return ii(i),Yo(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&jl(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ne(ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(gt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Xv(e,i){switch(Mo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ti(gt),on(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Nt(i),null;case 13:if(ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(yt),null;case 4:return on(),null;case 10:return ti(i.type),null;case 22:case 23:return ii(i),Yo(),e!==null&&ne(ua),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ti(gt),null;case 25:return null;default:return null}}function Hp(e,i){switch(Mo(i),i.tag){case 3:ti(gt),on();break;case 26:case 27:case 5:Nt(i);break;case 4:on();break;case 13:ii(i);break;case 19:ne(yt);break;case 10:ti(i.type);break;case 22:case 23:ii(i),Yo(),e!==null&&ne(ua);break;case 24:ti(gt)}}function ls(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==o)}}catch(w){Ie(i,i.return,w)}}function Mi(e,i,a){try{var l=i.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){var y=l.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,o=i;var R=a,j=w;try{j()}catch(k){Ie(o,R,k)}}}l=l.next}while(l!==f)}}catch(k){Ie(i,i.return,k)}}function jp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Md(i,a)}catch(l){Ie(e,e.return,l)}}}function Yp(e,i,a){a.props=ca(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ie(e,i,l)}}function us(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(o){Ie(e,i,o)}}function jn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){Ie(e,i,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ie(e,i,o)}else a.current=null}function Gp(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){Ie(e,e.return,o)}}function pc(e,i,a){try{var l=e.stateNode;c1(l,e.type,a,i),l[He]=i}catch(o){Ie(e,e.return,o)}}function Vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Il));else if(l!==4&&(l===27&&Ui(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(gc(e,i,a),e=e.sibling;e!==null;)gc(e,i,a),e=e.sibling}function Yl(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ui(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yl(e,i,a),e=e.sibling;e!==null;)Yl(e,i,a),e=e.sibling}function Xp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ot(i,l,a),i[Te]=e,i[He]=a}catch(f){Ie(e,e.return,f)}}var si=!1,ft=!1,yc=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Qv(e,i){if(e=e.containerInfo,Gc=au,e=td(e),mo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,w=-1,R=-1,j=0,k=0,ee=e,Y=null;t:for(;;){for(var V;ee!==a||o!==0&&ee.nodeType!==3||(w=y+o),ee!==f||l!==0&&ee.nodeType!==3||(R=y+l),ee.nodeType===3&&(y+=ee.nodeValue.length),(V=ee.firstChild)!==null;)Y=ee,ee=V;for(;;){if(ee===e)break t;if(Y===a&&++j===o&&(w=y),Y===f&&++k===l&&(R=y),(V=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=V}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vc={focusedElem:e,selectionRange:a},au=!1,Et=i;Et!==null;)if(i=Et,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Et=e;else for(;Et!==null;){switch(i=Et,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,o=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ee=ca(a.type,o,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ie(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Et=e;break}Et=i.return}}function Kp(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(e,a),l&4&&ls(5,a);break;case 1:if(Ri(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Ie(a,a.return,y)}else{var o=ca(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(o,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ie(a,a.return,y)}}l&64&&jp(a),l&512&&us(a,a.return);break;case 3:if(Ri(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Md(e,i)}catch(y){Ie(a,a.return,y)}}break;case 27:i===null&&l&4&&Xp(a);case 26:case 5:Ri(e,a),i===null&&l&4&&Gp(a),l&512&&us(a,a.return);break;case 12:Ri(e,a);break;case 13:Ri(e,a),l&4&&kp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$v.bind(null,a),y1(e,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){i=i!==null&&i.memoizedState!==null||ft,o=si;var f=ft;si=l,(ft=i)&&!f?Oi(e,a,(a.subtreeFlags&8772)!==0):Ri(e,a),si=o,ft=f}break;case 30:break;default:Ri(e,a)}}function Zp(e){var i=e.alternate;i!==null&&(e.alternate=null,Zp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ju(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Vt=!1;function li(e,i,a){for(a=a.child;a!==null;)Fp(e,i,a),a=a.sibling}function Fp(e,i,a){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:ft||jn(a,i),li(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||jn(a,i);var l=tt,o=Vt;Ui(a.type)&&(tt=a.stateNode,Vt=!1),li(e,i,a),ys(a.stateNode),tt=l,Vt=o;break;case 5:ft||jn(a,i);case 6:if(l=tt,o=Vt,tt=null,li(e,i,a),tt=l,Vt=o,tt!==null)if(Vt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(f){Ie(a,i,f)}else try{tt.removeChild(a.stateNode)}catch(f){Ie(a,i,f)}break;case 18:tt!==null&&(Vt?(e=tt,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ts(e)):Nm(tt,a.stateNode));break;case 4:l=tt,o=Vt,tt=a.stateNode.containerInfo,Vt=!0,li(e,i,a),tt=l,Vt=o;break;case 0:case 11:case 14:case 15:ft||Mi(2,a,i),ft||Mi(4,a,i),li(e,i,a);break;case 1:ft||(jn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yp(a,i,l)),li(e,i,a);break;case 21:li(e,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,li(e,i,a),ft=l;break;default:li(e,i,a)}}function kp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(a){Ie(i,i.return,a)}}function Kv(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qp),i;default:throw Error(s(435,e.tag))}}function vc(e,i){var a=Kv(e);i.forEach(function(l){var o=e1.bind(null,e,l);a.has(l)||(a.add(l),l.then(o,o))})}function It(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],f=e,y=i,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(Ui(w.type)){tt=w.stateNode,Vt=!1;break e}break;case 5:tt=w.stateNode,Vt=!1;break e;case 3:case 4:tt=w.stateNode.containerInfo,Vt=!0;break e}w=w.return}if(tt===null)throw Error(s(160));Fp(f,y,o),tt=null,Vt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Jp(i,e),i=i.sibling}var Dn=null;function Jp(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(i,e),Wt(e),l&4&&(Mi(3,e,e.return),ls(3,e),Mi(5,e,e.return));break;case 1:It(i,e),Wt(e),l&512&&(ft||a===null||jn(a,a.return)),l&64&&si&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=Dn;if(It(i,e),Wt(e),l&512&&(ft||a===null||jn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Br]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(l),o.head.insertBefore(f,o.querySelector("head > title"))),Ot(f,l,a),f[Te]=e,wt(f),l=f;break e;case"link":var y=Xm("link","href",o).get(l+(a.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(w,1);break t}}f=o.createElement(l),Ot(f,l,a),o.head.appendChild(f);break;case"meta":if(y=Xm("meta","content",o).get(l+(a.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(w,1);break t}}f=o.createElement(l),Ot(f,l,a),o.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=e,wt(f),l=f}e.stateNode=l}else Qm(o,e.type,e.stateNode);else e.stateNode=Vm(o,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Qm(o,e.type,e.stateNode):Vm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pc(e,e.memoizedProps,a.memoizedProps)}break;case 27:It(i,e),Wt(e),l&512&&(ft||a===null||jn(a,a.return)),a!==null&&l&4&&pc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(It(i,e),Wt(e),l&512&&(ft||a===null||jn(a,a.return)),e.flags&32){o=e.stateNode;try{Ga(o,"")}catch(V){Ie(e,e.return,V)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,pc(e,o,a!==null?a.memoizedProps:o)),l&1024&&(yc=!0);break;case 6:if(It(i,e),Wt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(V){Ie(e,e.return,V)}}break;case 3:if(tu=null,o=Dn,Dn=$l(i.containerInfo),It(i,e),Dn=o,Wt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ts(i.containerInfo)}catch(V){Ie(e,e.return,V)}yc&&(yc=!1,Pp(e));break;case 4:l=Dn,Dn=$l(e.stateNode.containerInfo),It(i,e),Wt(e),Dn=l;break;case 12:It(i,e),Wt(e);break;case 13:It(i,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 22:o=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=si,k=ft;if(si=j||o,ft=k||R,It(i,e),ft=k,si=j,Wt(e),l&8192)e:for(i=e.stateNode,i._visibility=o?i._visibility&-2:i._visibility|1,o&&(a===null||R||si||ft||fa(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,o)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=R.stateNode;var ee=R.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(V){Ie(R,R.return,V)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=o?"":R.memoizedProps}catch(V){Ie(R,R.return,V)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(e,a))));break;case 19:It(i,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 30:break;case 21:break;default:It(i,e),Wt(e)}}function Wt(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Vp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var o=a.stateNode,f=mc(e);Yl(e,f,o);break;case 5:var y=a.stateNode;a.flags&32&&(Ga(y,""),a.flags&=-33);var w=mc(e);Yl(e,w,y);break;case 3:case 4:var R=a.stateNode.containerInfo,j=mc(e);gc(e,j,R);break;default:throw Error(s(161))}}catch(k){Ie(e,e.return,k)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Pp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ri(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kp(e,i.alternate,i),i=i.sibling}function fa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),fa(i);break;case 1:jn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yp(i,i.return,a),fa(i);break;case 27:ys(i.stateNode);case 26:case 5:jn(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}e=e.sibling}}function Oi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,o=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(o,f,a),ls(4,f);break;case 1:if(Oi(o,f,a),l=f,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(j){Ie(l,l.return,j)}if(l=f,o=l.updateQueue,o!==null){var w=l.stateNode;try{var R=o.shared.hiddenCallbacks;if(R!==null)for(o.shared.hiddenCallbacks=null,o=0;o<R.length;o++)Td(R[o],w)}catch(j){Ie(l,l.return,j)}}a&&y&64&&jp(f),us(f,f.return);break;case 27:Xp(f);case 26:case 5:Oi(o,f,a),a&&l===null&&y&4&&Gp(f),us(f,f.return);break;case 12:Oi(o,f,a);break;case 13:Oi(o,f,a),a&&y&4&&kp(o,f);break;case 22:f.memoizedState===null&&Oi(o,f,a),us(f,f.return);break;case 30:break;default:Oi(o,f,a)}i=i.sibling}}function bc(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fr(a))}function Ac(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fr(e))}function Yn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ip(e,i,a,l),i=i.sibling}function Ip(e,i,a,l){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i,a,l),o&2048&&ls(9,i);break;case 1:Yn(e,i,a,l);break;case 3:Yn(e,i,a,l),o&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fr(e)));break;case 12:if(o&2048){Yn(e,i,a,l),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ie(i,i.return,R)}}else Yn(e,i,a,l);break;case 13:Yn(e,i,a,l);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Yn(e,i,a,l):os(e,i):f._visibility&2?Yn(e,i,a,l):(f._visibility|=2,sr(e,i,a,l,(i.subtreeFlags&10256)!==0)),o&2048&&bc(y,i);break;case 24:Yn(e,i,a,l),o&2048&&Ac(i.alternate,i);break;default:Yn(e,i,a,l)}}function sr(e,i,a,l,o){for(o=o&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,w=a,R=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:sr(f,y,w,R,o),ls(8,y);break;case 23:break;case 22:var k=y.stateNode;y.memoizedState!==null?k._visibility&2?sr(f,y,w,R,o):os(f,y):(k._visibility|=2,sr(f,y,w,R,o)),o&&j&2048&&bc(y.alternate,y);break;case 24:sr(f,y,w,R,o),o&&j&2048&&Ac(y.alternate,y);break;default:sr(f,y,w,R,o)}i=i.sibling}}function os(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,o=l.flags;switch(l.tag){case 22:os(a,l),o&2048&&bc(l.alternate,l);break;case 24:os(a,l),o&2048&&Ac(l.alternate,l);break;default:os(a,l)}i=i.sibling}}var cs=8192;function lr(e){if(e.subtreeFlags&cs)for(e=e.child;e!==null;)Wp(e),e=e.sibling}function Wp(e){switch(e.tag){case 26:lr(e),e.flags&cs&&e.memoizedState!==null&&q1(Dn,e.memoizedState,e.memoizedProps);break;case 5:lr(e);break;case 3:case 4:var i=Dn;Dn=$l(e.stateNode.containerInfo),lr(e),Dn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=cs,cs=16777216,lr(e),cs=i):lr(e));break;default:lr(e)}}function $p(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fs(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Et=l,tm(l,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 0:case 11:case 15:fs(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:fs(e);break;case 12:fs(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Gl(e)):fs(e);break;default:fs(e)}}function Gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Et=l,tm(l,e)}$p(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),Gl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Gl(i));break;default:Gl(i)}e=e.sibling}}function tm(e,i){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:Mi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Et=l;else e:for(a=e;Et!==null;){l=Et;var o=l.sibling,f=l.return;if(Zp(l),l===a){Et=null;break e}if(o!==null){o.return=f,Et=o;break e}Et=f}}}var Zv={getCacheForType:function(e){var i=Bt(gt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Fv=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Ne=0,Ve=0,$t=null,Ci=!1,ur=!1,wc=!1,ui=0,ut=0,qi=0,ha=0,xc=0,vn=0,or=0,hs=null,Xt=null,Ec=!1,Sc=0,Vl=1/0,Xl=null,Di=null,Rt=0,Bi=null,cr=null,fr=0,Tc=0,Mc=null,nm=null,ds=0,Rc=null;function en(){if((Ge&2)!==0&&Ne!==0)return Ne&-Ne;if(z.T!==null){var e=Wa;return e!==0?e:Uc()}return P()}function im(){vn===0&&(vn=(Ne&536870912)===0||je?_a():536870912);var e=yn.current;return e!==null&&(e.flags|=32),vn}function tn(e,i,a){(e===et&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(hr(e,0),_i(e,Ne,vn,!1)),yi(e,a),((Ge&2)===0||e!==et)&&(e===et&&((Ge&2)===0&&(ha|=a),ut===4&&_i(e,Ne,vn,!1)),Gn(e))}function am(e,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Ji(e,i),o=l?Pv(e,i):qc(e,i,!0),f=l;do{if(o===0){ur&&!l&&_i(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!kv(a)){o=qc(e,i,!1),f=!1;continue}if(o===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var w=e;o=hs;var R=w.current.memoizedState.isDehydrated;if(R&&(hr(w,y).flags|=256),y=qc(w,y,!1),y!==2){if(wc&&!R){w.errorRecoveryDisabledLanes|=f,ha|=f,o=4;break e}f=Xt,Xt=o,f!==null&&(Xt===null?Xt=f:Xt.push.apply(Xt,f))}o=y}if(f=!1,o!==2)continue}}if(o===1){hr(e,0),_i(e,i,0,!0);break}e:{switch(l=e,f=o,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_i(l,i,vn,!Ci);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(o=Sc+300-Ke(),10<o)){if(_i(l,i,vn,!Ci),Ba(l,0,!0)!==0)break e;l.timeoutHandle=_m(rm.bind(null,l,a,Xt,Xl,Ec,i,vn,ha,or,Ci,f,2,-0,0),o);break e}rm(l,a,Xt,Xl,Ec,i,vn,ha,or,Ci,f,0,-0,0)}}break}while(!0);Gn(e)}function rm(e,i,a,l,o,f,y,w,R,j,k,ee,Y,V){if(e.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:C1},Wp(i),ee=D1(),ee!==null)){e.cancelPendingCommit=ee(hm.bind(null,e,i,f,a,l,o,y,w,R,k,1,Y,V)),_i(e,f,y,!j);return}hm(e,i,f,a,l,o,y,w,R)}function kv(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],f=o.getSnapshot;o=o.value;try{if(!Jt(f(),o))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _i(e,i,a,l){i&=~xc,i&=~ha,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var o=i;0<o;){var f=31-Je(o),y=1<<f;l[f]=-1,o&=~y}a!==0&&qr(e,a,i)}function Ql(){return(Ge&6)===0?(ps(0),!1):!0}function Oc(){if(De!==null){if(Ve===0)var e=De.return;else e=De,ei=sa=null,Ko(e),ar=null,as=0,e=De;for(;e!==null;)Hp(e.alternate,e),e=e.return;De=null}}function hr(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,h1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Oc(),et=e,De=a=In(e.current,null),Ne=i,Ve=0,$t=null,Ci=!1,ur=Ji(e,i),wc=!1,or=vn=xc=ha=qi=ut=0,Xt=hs=null,Ec=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var o=31-Je(l),f=1<<o;i|=e[o],l&=~f}return ui=i,hl(),a}function sm(e,i){Oe=null,z.H=Dl,i===Jr||i===wl?(i=Ed(),Ve=3):i===Ad?(i=Ed(),Ve=4):Ve=i===Sp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$t=i,De===null&&(ut=1,zl(e,dn(i,e.current)))}function lm(){var e=z.H;return z.H=Dl,e===null?Dl:e}function um(){var e=z.A;return z.A=Zv,e}function Cc(){ut=4,Ci||(Ne&4194048)!==Ne&&yn.current!==null||(ur=!0),(qi&134217727)===0&&(ha&134217727)===0||et===null||_i(et,Ne,vn,!1)}function qc(e,i,a){var l=Ge;Ge|=2;var o=lm(),f=um();(et!==e||Ne!==i)&&(Xl=null,hr(e,i)),i=!1;var y=ut;e:do try{if(Ve!==0&&De!==null){var w=De,R=$t;switch(Ve){case 8:Oc(),y=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var j=Ve;if(Ve=0,$t=null,dr(e,w,R,j),a&&ur){y=0;break e}break;default:j=Ve,Ve=0,$t=null,dr(e,w,R,j)}}Jv(),y=ut;break}catch(k){sm(e,k)}while(!0);return i&&e.shellSuspendCounter++,ei=sa=null,Ge=l,z.H=o,z.A=f,De===null&&(et=null,Ne=0,hl()),y}function Jv(){for(;De!==null;)om(De)}function Pv(e,i){var a=Ge;Ge|=2;var l=lm(),o=um();et!==e||Ne!==i?(Xl=null,Vl=Ke()+500,hr(e,i)):ur=Ji(e,i);e:do try{if(Ve!==0&&De!==null){i=De;var f=$t;t:switch(Ve){case 1:Ve=0,$t=null,dr(e,i,f,1);break;case 2:case 9:if(wd(f)){Ve=0,$t=null,cm(i);break}i=function(){Ve!==2&&Ve!==9||et!==e||(Ve=7),Gn(e)},f.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:wd(f)?(Ve=0,$t=null,cm(i)):(Ve=0,$t=null,dr(e,i,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var w=De;if(!y||Km(y)){Ve=0,$t=null;var R=w.sibling;if(R!==null)De=R;else{var j=w.return;j!==null?(De=j,Kl(j)):De=null}break t}}Ve=0,$t=null,dr(e,i,f,5);break;case 6:Ve=0,$t=null,dr(e,i,f,6);break;case 8:Oc(),ut=6;break e;default:throw Error(s(462))}}Iv();break}catch(k){sm(e,k)}while(!0);return ei=sa=null,z.H=l,z.A=o,Ge=a,De!==null?0:(et=null,Ne=0,hl(),ut)}function Iv(){for(;De!==null&&!Re();)om(De)}function om(e){var i=zp(e.alternate,e,ui);e.memoizedProps=e.pendingProps,i===null?Kl(e):De=i}function cm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=qp(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=qp(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Ko(i);default:Hp(a,i),i=De=fd(i,ui),i=zp(a,i,ui)}e.memoizedProps=e.pendingProps,i===null?Kl(e):De=i}function dr(e,i,a,l){ei=sa=null,Ko(i),ar=null,as=0;var o=i.return;try{if(Yv(e,o,i,a,Ne)){ut=1,zl(e,dn(a,e.current)),De=null;return}}catch(f){if(o!==null)throw De=o,f;ut=1,zl(e,dn(a,e.current)),De=null;return}i.flags&32768?(je||l===1?e=!0:ur||(Ne&536870912)!==0?e=!1:(Ci=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fm(i,e)):Kl(i)}function Kl(e){var i=e;do{if((i.flags&32768)!==0){fm(i,Ci);return}e=i.return;var a=Vv(i.alternate,i,ui);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=e}while(i!==null);ut===0&&(ut=5)}function fm(e,i){do{var a=Xv(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);ut=6,De=null}function hm(e,i,a,l,o,f,y,w,R){e.cancelPendingCommit=null;do Zl();while(Rt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ao,ku(e,a,f,y,w,R),e===et&&(De=et=null,Ne=0),cr=i,Bi=e,fr=a,Tc=f,Mc=o,nm=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,t1(gi,function(){return ym(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,o=te.p,te.p=2,y=Ge,Ge|=4;try{Qv(e,i,a)}finally{Ge=y,te.p=o,z.T=l}}Rt=1,dm(),pm(),mm()}}function dm(){if(Rt===1){Rt=0;var e=Bi,i=cr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=te.p;te.p=2;var o=Ge;Ge|=4;try{Jp(i,e);var f=Vc,y=td(e.containerInfo),w=f.focusedElem,R=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&ed(w.ownerDocument.documentElement,w)){if(R!==null&&mo(w)){var j=R.start,k=R.end;if(k===void 0&&(k=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(k,w.value.length);else{var ee=w.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var V=Y.getSelection(),Ee=w.textContent.length,ve=Math.min(R.start,Ee),ke=R.end===void 0?ve:Math.min(R.end,Ee);!V.extend&&ve>ke&&(y=ke,ke=ve,ve=y);var U=$h(w,ve),D=$h(w,ke);if(U&&D&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var N=ee.createRange();N.setStart(U.node,U.offset),V.removeAllRanges(),ve>ke?(V.addRange(N),V.extend(D.node,D.offset)):(N.setEnd(D.node,D.offset),V.addRange(N))}}}}for(ee=[],V=w;V=V.parentNode;)V.nodeType===1&&ee.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var I=ee[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}au=!!Gc,Vc=Gc=null}finally{Ge=o,te.p=l,z.T=a}}e.current=i,Rt=2}}function pm(){if(Rt===2){Rt=0;var e=Bi,i=cr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=te.p;te.p=2;var o=Ge;Ge|=4;try{Kp(e,i.alternate,i)}finally{Ge=o,te.p=l,z.T=a}}Rt=3}}function mm(){if(Rt===4||Rt===3){Rt=0,$e();var e=Bi,i=cr,a=fr,l=nm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rt=5:(Rt=0,cr=Bi=null,gm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Di=null),Q(a),i=i.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=z.T,o=te.p,te.p=2,z.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var w=l[y];f(w.value,{componentStack:w.stack})}}finally{z.T=i,te.p=o}}(fr&3)!==0&&Zl(),Gn(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===Rc?ds++:(ds=0,Rc=e):ds=0,ps(0)}}function gm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fr(i)))}function Zl(e){return dm(),pm(),mm(),ym()}function ym(){if(Rt!==5)return!1;var e=Bi,i=Tc;Tc=0;var a=Q(fr),l=z.T,o=te.p;try{te.p=32>a?32:a,z.T=null,a=Mc,Mc=null;var f=Bi,y=fr;if(Rt=0,cr=Bi=null,fr=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,em(f.current),Ip(f,f.current,y,a),Ge=w,ps(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Dt,f)}catch{}return!0}finally{te.p=o,z.T=l,gm(e,i)}}function vm(e,i,a){i=dn(a,i),i=rc(e.stateNode,i,2),e=xi(e,i,2),e!==null&&(yi(e,2),Gn(e))}function Ie(e,i,a){if(e.tag===3)vm(e,e,a);else for(;i!==null;){if(i.tag===3){vm(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){e=dn(a,e),a=xp(2),l=xi(i,a,2),l!==null&&(Ep(a,l,i,e),yi(l,2),Gn(l));break}}i=i.return}}function Dc(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Fv;var o=new Set;l.set(i,o)}else o=l.get(i),o===void 0&&(o=new Set,l.set(i,o));o.has(a)||(wc=!0,o.add(a),e=Wv.bind(null,e,i,a),i.then(e,e))}function Wv(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,et===e&&(Ne&a)===a&&(ut===4||ut===3&&(Ne&62914560)===Ne&&300>Ke()-Sc?(Ge&2)===0&&hr(e,0):xc|=a,or===Ne&&(or=0)),Gn(e)}function bm(e,i){i===0&&(i=Pi()),e=ka(e,i),e!==null&&(yi(e,i),Gn(e))}function $v(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),bm(e,a)}function e1(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),bm(e,a)}function t1(e,i){return he(e,i)}var Fl=null,pr=null,Bc=!1,kl=!1,_c=!1,da=0;function Gn(e){e!==pr&&e.next===null&&(pr===null?Fl=pr=e:pr=pr.next=e),kl=!0,Bc||(Bc=!0,i1())}function ps(e,i){if(!_c&&kl){_c=!0;do for(var a=!1,l=Fl;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var f=0;else{var y=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Je(42|e)+1)-1,f&=o&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Em(l,f))}else f=Ne,f=Ba(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ji(l,f)||(a=!0,Em(l,f));l=l.next}while(a);_c=!1}}function n1(){Am()}function Am(){kl=Bc=!1;var e=0;da!==0&&(f1()&&(e=da),da=0);for(var i=Ke(),a=null,l=Fl;l!==null;){var o=l.next,f=wm(l,i);f===0?(l.next=null,a===null?Fl=o:a.next=o,o===null&&(pr=a)):(a=l,(e!==0||(f&3)!==0)&&(kl=!0)),l=o}ps(e)}function wm(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Je(f),w=1<<y,R=o[y];R===-1?((w&a)===0||(w&l)!==0)&&(o[y]=zt(w,i)):R<=i&&(e.expiredLanes|=w),f&=~w}if(i=et,a=Ne,a=Ba(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Se(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Se(l),Q(a)){case 2:case 8:a=Rn;break;case 32:a=gi;break;case 268435456:a=Ra;break;default:a=gi}return l=xm.bind(null,e),a=he(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Se(l),e.callbackPriority=2,e.callbackNode=null,2}function xm(e,i){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zl()&&e.callbackNode!==a)return null;var l=Ne;return l=Ba(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(am(e,l,i),wm(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?xm.bind(null,e):null)}function Em(e,i){if(Zl())return null;am(e,i,!0)}function i1(){d1(function(){(Ge&6)!==0?he(Tt,n1):Am()})}function Uc(){return da===0&&(da=_a()),da}function Sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rl(""+e)}function Tm(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function a1(e,i,a,l,o){if(i==="submit"&&a&&a.stateNode===o){var f=Sm((o[He]||null).action),y=l.submitter;y&&(i=(i=y[He]||null)?Sm(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var w=new ol("action","action",null,l,o);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var R=y?Tm(o,y):new FormData(o);ec(a,{pending:!0,data:R,method:o.method,action:f},null,R)}}else typeof f=="function"&&(w.preventDefault(),R=y?Tm(o,y):new FormData(o),ec(a,{pending:!0,data:R,method:o.method,action:f},f,R))},currentTarget:o}]})}}for(var Nc=0;Nc<bo.length;Nc++){var zc=bo[Nc],r1=zc.toLowerCase(),s1=zc[0].toUpperCase()+zc.slice(1);qn(r1,"on"+s1)}qn(ad,"onAnimationEnd"),qn(rd,"onAnimationIteration"),qn(sd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Ev,"onTransitionRun"),qn(Sv,"onTransitionStart"),qn(Tv,"onTransitionCancel"),qn(ld,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function Mm(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var y=l.length-1;0<=y;y--){var w=l[y],R=w.instance,j=w.currentTarget;if(w=w.listener,R!==f&&o.isPropagationStopped())break e;f=w,o.currentTarget=j;try{f(o)}catch(k){Nl(k)}o.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(w=l[y],R=w.instance,j=w.currentTarget,w=w.listener,R!==f&&o.isPropagationStopped())break e;f=w,o.currentTarget=j;try{f(o)}catch(k){Nl(k)}o.currentTarget=null,f=R}}}}function Be(e,i){var a=i[kt];a===void 0&&(a=i[kt]=new Set);var l=e+"__bubble";a.has(l)||(Rm(i,e,2,!1),a.add(l))}function Lc(e,i,a){var l=0;i&&(l|=4),Rm(a,e,l,i)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[Jl]){e[Jl]=!0,Ah.forEach(function(a){a!=="selectionchange"&&(l1.has(a)||Lc(a,!1,e),Lc(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Jl]||(i[Jl]=!0,Lc("selectionchange",!1,i))}}function Rm(e,i,a,l){switch(Im(i)){case 2:var o=U1;break;case 8:o=N1;break;default:o=Wc}a=o.bind(null,i,a,e),o=void 0,!ro||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(i,a,{capture:!0,passive:o}):e.addEventListener(i,a,!0):o!==void 0?e.addEventListener(i,a,{passive:o}):e.addEventListener(i,a,!1)}function jc(e,i,a,l,o){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var w=l.stateNode.containerInfo;if(w===o)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;w!==null;){if(y=Na(w),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue e}w=w.parentNode}}l=l.return}Uh(function(){var j=f,k=io(a),ee=[];e:{var Y=ud.get(e);if(Y!==void 0){var V=ol,Ee=e;switch(e){case"keypress":if(ll(a)===0)break e;case"keydown":case"keyup":V=tv;break;case"focusin":Ee="focus",V=oo;break;case"focusout":Ee="blur",V=oo;break;case"beforeblur":case"afterblur":V=oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=av;break;case ad:case rd:case sd:V=Z0;break;case ld:V=sv;break;case"scroll":case"scrollend":V=G0;break;case"wheel":V=uv;break;case"copy":case"cut":case"paste":V=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=jh;break;case"toggle":case"beforetoggle":V=cv}var ve=(i&4)!==0,ke=!ve&&(e==="scroll"||e==="scrollend"),U=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var D=j,N;D!==null;){var I=D;if(N=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||N===null||U===null||(I=Ur(D,U),I!=null&&ve.push(gs(D,I,N))),ke)break;D=D.return}0<ve.length&&(Y=new V(Y,Ee,null,a,k),ee.push({event:Y,listeners:ve}))}}if((i&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",Y&&a!==no&&(Ee=a.relatedTarget||a.fromElement)&&(Na(Ee)||Ee[Pe]))break e;if((V||Y)&&(Y=k.window===k?k:(Y=k.ownerDocument)?Y.defaultView||Y.parentWindow:window,V?(Ee=a.relatedTarget||a.toElement,V=j,Ee=Ee?Na(Ee):null,Ee!==null&&(ke=c(Ee),ve=Ee.tag,Ee!==ke||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(V=null,Ee=j),V!==Ee)){if(ve=Lh,I="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ve=jh,I="onPointerLeave",U="onPointerEnter",D="pointer"),ke=V==null?Y:_r(V),N=Ee==null?Y:_r(Ee),Y=new ve(I,D+"leave",V,a,k),Y.target=ke,Y.relatedTarget=N,I=null,Na(k)===j&&(ve=new ve(U,D+"enter",Ee,a,k),ve.target=N,ve.relatedTarget=ke,I=ve),ke=I,V&&Ee)t:{for(ve=V,U=Ee,D=0,N=ve;N;N=mr(N))D++;for(N=0,I=U;I;I=mr(I))N++;for(;0<D-N;)ve=mr(ve),D--;for(;0<N-D;)U=mr(U),N--;for(;D--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=mr(ve),U=mr(U)}ve=null}else ve=null;V!==null&&Om(ee,Y,V,ve,!1),Ee!==null&&ke!==null&&Om(ee,ke,Ee,ve,!0)}}e:{if(Y=j?_r(j):window,V=Y.nodeName&&Y.nodeName.toLowerCase(),V==="select"||V==="input"&&Y.type==="file")var oe=Fh;else if(Kh(Y))if(kh)oe=Av;else{oe=vv;var qe=yv}else V=Y.nodeName,!V||V.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?j&&to(j.elementType)&&(oe=Fh):oe=bv;if(oe&&(oe=oe(e,j))){Zh(ee,oe,a,k);break e}qe&&qe(e,Y,j),e==="focusout"&&j&&Y.type==="number"&&j.memoizedProps.value!=null&&eo(Y,"number",Y.value)}switch(qe=j?_r(j):window,e){case"focusin":(Kh(qe)||qe.contentEditable==="true")&&(Ka=qe,go=j,Vr=null);break;case"focusout":Vr=go=Ka=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,nd(ee,a,k);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":nd(ee,a,k)}var de;if(fo)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Qa?Xh(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Yh&&a.locale!=="ko"&&(Qa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Qa&&(de=Nh()):(vi=k,so="value"in vi?vi.value:vi.textContent,Qa=!0)),qe=Pl(j,Ae),0<qe.length&&(Ae=new Hh(Ae,e,null,a,k),ee.push({event:Ae,listeners:qe}),de?Ae.data=de:(de=Qh(a),de!==null&&(Ae.data=de)))),(de=hv?dv(e,a):pv(e,a))&&(Ae=Pl(j,"onBeforeInput"),0<Ae.length&&(qe=new Hh("onBeforeInput","beforeinput",null,a,k),ee.push({event:qe,listeners:Ae}),qe.data=de)),a1(ee,e,j,a,k)}Mm(ee,i)})}function gs(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pl(e,i){for(var a=i+"Capture",l=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Ur(e,a),o!=null&&l.unshift(gs(e,o,f)),o=Ur(e,i),o!=null&&l.push(gs(e,o,f))),e.tag===3)return l;e=e.return}return[]}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,i,a,l,o){for(var f=i._reactName,y=[];a!==null&&a!==l;){var w=a,R=w.alternate,j=w.stateNode;if(w=w.tag,R!==null&&R===l)break;w!==5&&w!==26&&w!==27||j===null||(R=j,o?(j=Ur(a,f),j!=null&&y.unshift(gs(a,j,R))):o||(j=Ur(a,f),j!=null&&y.push(gs(a,j,R)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var u1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(u1,`
`).replace(o1,"")}function qm(e,i){return i=Cm(i),Cm(e)===i}function Il(){}function Fe(e,i,a,l,o,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ga(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ga(e,""+l);break;case"className":nl(e,"class",l);break;case"tabIndex":nl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(e,a,l);break;case"style":Bh(e,l,f);break;case"data":if(i!=="object"){nl(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=rl(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Fe(e,i,"name",o.name,o,null),Fe(e,i,"formEncType",o.formEncType,o,null),Fe(e,i,"formMethod",o.formMethod,o,null),Fe(e,i,"formTarget",o.formTarget,o,null)):(Fe(e,i,"encType",o.encType,o,null),Fe(e,i,"method",o.method,o,null),Fe(e,i,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=rl(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Il);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=rl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),tl(e,"popover",l);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=j0.get(a)||a,tl(e,a,l))}}function Yc(e,i,a,l,o,f){switch(a){case"style":Bh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ga(e,l):(typeof l=="number"||typeof l=="bigint")&&Ga(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),i=a.slice(2,o?a.length-7:void 0),f=e[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,o),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):tl(e,a,l)}}}function Ot(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,o=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Fe(e,i,f,y,a,null)}}o&&Fe(e,i,"srcSet",a.srcSet,a,null),l&&Fe(e,i,"src",a.src,a,null);return;case"input":Be("invalid",e);var w=f=y=o=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":o=k;break;case"type":y=k;break;case"checked":R=k;break;case"defaultChecked":j=k;break;case"value":f=k;break;case"defaultValue":w=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:Fe(e,i,l,k,a,null)}}Oh(e,f,w,R,j,y,o,!1),il(e);return;case"select":Be("invalid",e),l=y=f=null;for(o in a)if(a.hasOwnProperty(o)&&(w=a[o],w!=null))switch(o){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":l=w;default:Fe(e,i,o,w,a,null)}i=f,a=y,e.multiple=!!l,i!=null?Ya(e,!!l,i,!1):a!=null&&Ya(e,!!l,a,!0);return;case"textarea":Be("invalid",e),f=o=l=null;for(y in a)if(a.hasOwnProperty(y)&&(w=a[y],w!=null))switch(y){case"value":l=w;break;case"defaultValue":o=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Fe(e,i,y,w,a,null)}qh(e,l,o,f),il(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(e,i,R,l,a,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<ms.length;l++)Be(ms[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Fe(e,i,j,l,a,null)}return;default:if(to(i)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&Yc(e,i,k,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Fe(e,i,w,l,a,null))}function c1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,y=null,w=null,R=null,j=null,k=null;for(V in a){var ee=a[V];if(a.hasOwnProperty(V)&&ee!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=ee;default:l.hasOwnProperty(V)||Fe(e,i,V,null,l,ee)}}for(var Y in l){var V=l[Y];if(ee=a[Y],l.hasOwnProperty(Y)&&(V!=null||ee!=null))switch(Y){case"type":f=V;break;case"name":o=V;break;case"checked":j=V;break;case"defaultChecked":k=V;break;case"value":y=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==ee&&Fe(e,i,Y,V,l,ee)}}$u(e,y,w,R,j,k,f,o);return;case"select":V=y=w=Y=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":V=R;default:l.hasOwnProperty(f)||Fe(e,i,f,null,l,R)}for(o in l)if(f=l[o],R=a[o],l.hasOwnProperty(o)&&(f!=null||R!=null))switch(o){case"value":Y=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==R&&Fe(e,i,o,f,l,R)}i=w,a=y,l=V,Y!=null?Ya(e,!!a,Y,!1):!!l!=!!a&&(i!=null?Ya(e,!!a,i,!0):Ya(e,!!a,a?[]:"",!1));return;case"textarea":V=Y=null;for(w in a)if(o=a[w],a.hasOwnProperty(w)&&o!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Fe(e,i,w,null,l,o)}for(y in l)if(o=l[y],f=a[y],l.hasOwnProperty(y)&&(o!=null||f!=null))switch(y){case"value":Y=o;break;case"defaultValue":V=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==f&&Fe(e,i,y,o,l,f)}Ch(e,Y,V);return;case"option":for(var Ee in a)if(Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:Fe(e,i,Ee,null,l,Y)}for(R in l)if(Y=l[R],V=a[R],l.hasOwnProperty(R)&&Y!==V&&(Y!=null||V!=null))switch(R){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Fe(e,i,R,Y,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!l.hasOwnProperty(ve)&&Fe(e,i,ve,null,l,Y);for(j in l)if(Y=l[j],V=a[j],l.hasOwnProperty(j)&&Y!==V&&(Y!=null||V!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Fe(e,i,j,Y,l,V)}return;default:if(to(i)){for(var ke in a)Y=a[ke],a.hasOwnProperty(ke)&&Y!==void 0&&!l.hasOwnProperty(ke)&&Yc(e,i,ke,void 0,l,Y);for(k in l)Y=l[k],V=a[k],!l.hasOwnProperty(k)||Y===V||Y===void 0&&V===void 0||Yc(e,i,k,Y,l,V);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&Fe(e,i,U,null,l,Y);for(ee in l)Y=l[ee],V=a[ee],!l.hasOwnProperty(ee)||Y===V||Y==null&&V==null||Fe(e,i,ee,Y,l,V)}var Gc=null,Vc=null;function Wl(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qc=null;function f1(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var _m=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(p1)}:_m;function p1(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function Nm(e,i){var a=i,l=0,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=e.ownerDocument;if(a&1&&ys(y.documentElement),a&2&&ys(y.body),a&4)for(a=y.head,ys(a),y=a.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[Br]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=w}}if(o===0){e.removeChild(f),Ts(i);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ts(i)}function Kc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kc(a),Ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function m1(e,i,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Br])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function g1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function Zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function y1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Fc=null;function zm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Lm(e,i,a){switch(i=Wl(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ys(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ju(e)}var bn=new Map,Hm=new Set;function $l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oi=te.d;te.d={f:v1,r:b1,D:A1,C:w1,L:x1,m:E1,X:T1,S:S1,M:M1};function v1(){var e=oi.f(),i=Ql();return e||i}function b1(e){var i=za(e);i!==null&&i.tag===5&&i.type==="form"?ap(i):oi.r(e)}var gr=typeof document>"u"?null:document;function jm(e,i,a){var l=gr;if(l&&typeof i=="string"&&i){var o=hn(i);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Hm.has(o)||(Hm.add(o),e={rel:e,crossOrigin:a,href:i},l.querySelector(o)===null&&(i=l.createElement("link"),Ot(i,"link",e),wt(i),l.head.appendChild(i)))}}function A1(e){oi.D(e),jm("dns-prefetch",e,null)}function w1(e,i){oi.C(e,i),jm("preconnect",e,i)}function x1(e,i,a){oi.L(e,i,a);var l=gr;if(l&&e&&i){var o='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+hn(a.imageSizes)+'"]')):o+='[href="'+hn(e)+'"]';var f=o;switch(i){case"style":f=yr(e);break;case"script":f=vr(e)}bn.has(f)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),bn.set(f,e),l.querySelector(o)!==null||i==="style"&&l.querySelector(vs(f))||i==="script"&&l.querySelector(bs(f))||(i=l.createElement("link"),Ot(i,"link",e),wt(i),l.head.appendChild(i)))}}function E1(e,i){oi.m(e,i);var a=gr;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",o='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',f=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vr(e)}if(!bn.has(f)&&(e=v({rel:"modulepreload",href:e},i),bn.set(f,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bs(f)))return}l=a.createElement("link"),Ot(l,"link",e),wt(l),a.head.appendChild(l)}}}function S1(e,i,a){oi.S(e,i,a);var l=gr;if(l&&e){var o=La(l).hoistableStyles,f=yr(e);i=i||"default";var y=o.get(f);if(!y){var w={loading:0,preload:null};if(y=l.querySelector(vs(f)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=bn.get(f))&&kc(e,a);var R=y=l.createElement("link");wt(R),Ot(R,"link",e),R._p=new Promise(function(j,k){R.onload=j,R.onerror=k}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eu(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:w},o.set(f,y)}}}function T1(e,i){oi.X(e,i);var a=gr;if(a&&e){var l=La(a).hoistableScripts,o=vr(e),f=l.get(o);f||(f=a.querySelector(bs(o)),f||(e=v({src:e,async:!0},i),(i=bn.get(o))&&Jc(e,i),f=a.createElement("script"),wt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function M1(e,i){oi.M(e,i);var a=gr;if(a&&e){var l=La(a).hoistableScripts,o=vr(e),f=l.get(o);f||(f=a.querySelector(bs(o)),f||(e=v({src:e,async:!0,type:"module"},i),(i=bn.get(o))&&Jc(e,i),f=a.createElement("script"),wt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function Ym(e,i,a,l){var o=(o=xe.current)?$l(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yr(a.href),a=La(o).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=yr(a.href);var f=La(o).hoistableStyles,y=f.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=o.querySelector(vs(e)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||R1(o,e,a,y.state))),i&&l===null)throw Error(s(528,""));return y}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vr(a),a=La(o).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yr(e){return'href="'+hn(e)+'"'}function vs(e){return'link[rel="stylesheet"]['+e+"]"}function Gm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function R1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ot(i,"link",a),wt(i),e.head.appendChild(i))}function vr(e){return'[src="'+hn(e)+'"]'}function bs(e){return"script[async]"+e}function Vm(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),wt(l),Ot(l,"style",o),eu(l,a.precedence,e),i.instance=l;case"stylesheet":o=yr(a.href);var f=e.querySelector(vs(o));if(f)return i.state.loading|=4,i.instance=f,wt(f),f;l=Gm(a),(o=bn.get(o))&&kc(l,o),f=(e.ownerDocument||e).createElement("link"),wt(f);var y=f;return y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),Ot(f,"link",l),i.state.loading|=4,eu(f,a.precedence,e),i.instance=f;case"script":return f=vr(a.src),(o=e.querySelector(bs(f)))?(i.instance=o,wt(o),o):(l=a,(o=bn.get(f))&&(l=v({},a),Jc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),wt(o),Ot(o,"link",l),e.head.appendChild(o),i.instance=o);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eu(l,a.precedence,e));return i.instance}function eu(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,f=o,y=0;y<l.length;y++){var w=l[y];if(w.dataset.precedence===i)f=w;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function kc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var tu=null;function Xm(e,i,a){if(tu===null){var l=new Map,o=tu=new Map;o.set(a,l)}else o=tu,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var f=a[o];if(!(f[Br]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var w=l.get(y);w?w.push(f):l.set(y,[f])}}return l}function Qm(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function O1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var As=null;function C1(){}function q1(e,i,a){if(As===null)throw Error(s(475));var l=As;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=yr(a.href),f=e.querySelector(vs(o));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=nu.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=f,wt(f);return}f=e.ownerDocument||e,a=Gm(a),(o=bn.get(o))&&kc(a,o),f=f.createElement("link"),wt(f);var y=f;y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),Ot(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nu.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function D1(){if(As===null)throw Error(s(475));var e=As;return e.stylesheets&&e.count===0&&Pc(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nu(){if(this.count--,this.count===0){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function Pc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,i.forEach(B1,e),iu=null,nu.call(e))}function B1(e,i){if(!(i.state.loading&4)){var a=iu.get(e);if(a)var l=a.get(null);else{a=new Map,iu.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var y=o[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}o=i.instance,y=o.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,o),a.set(y,o),this.count++,l=nu.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),i.state.loading|=4}}var ws={$$typeof:G,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function _1(e,i,a,l,o,f,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zm(e,i,a,l,o,f,y,w,R,j,k,ee){return e=new _1(e,i,a,y,w,R,j,ee),i=1,f===!0&&(i|=24),f=Pt(3,null,null,i),e.current=f,f.stateNode=e,i=Do(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},No(f),e}function Fm(e){return e?(e=Ja,e):Ja}function km(e,i,a,l,o,f){o=Fm(o),l.context===null?l.context=o:l.pendingContext=o,l=wi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=xi(e,l,i),a!==null&&(tn(a,e,i),Ir(a,e,i))}function Jm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ic(e,i){Jm(e,i),(e=e.alternate)&&Jm(e,i)}function Pm(e){if(e.tag===13){var i=ka(e,67108864);i!==null&&tn(i,e,67108864),Ic(e,67108864)}}var au=!0;function U1(e,i,a,l){var o=z.T;z.T=null;var f=te.p;try{te.p=2,Wc(e,i,a,l)}finally{te.p=f,z.T=o}}function N1(e,i,a,l){var o=z.T;z.T=null;var f=te.p;try{te.p=8,Wc(e,i,a,l)}finally{te.p=f,z.T=o}}function Wc(e,i,a,l){if(au){var o=$c(l);if(o===null)jc(e,i,l,ru,a),Wm(e,l);else if(L1(o,e,i,a,l))l.stopPropagation();else if(Wm(e,l),i&4&&-1<z1.indexOf(e)){for(;o!==null;){var f=za(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=zn(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var R=1<<31-Je(y);w.entanglements[1]|=R,y&=~R}Gn(f),(Ge&6)===0&&(Vl=Ke()+500,ps(0))}}break;case 13:w=ka(f,2),w!==null&&tn(w,f,2),Ql(),Ic(f,2)}if(f=$c(l),f===null&&jc(e,i,l,ru,a),f===o)break;o=f}o!==null&&l.stopPropagation()}else jc(e,i,l,null,a)}}function $c(e){return e=io(e),ef(e)}var ru=null;function ef(e){if(ru=null,e=Na(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ru=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Tt:return 2;case Rn:return 8;case gi:case Or:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var tf=!1,Ni=null,zi=null,Li=null,xs=new Map,Es=new Map,Hi=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,i){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":xs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(i.pointerId)}}function Ss(e,i,a,l,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[o]},i!==null&&(i=za(i),i!==null&&Pm(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function L1(e,i,a,l,o){switch(i){case"focusin":return Ni=Ss(Ni,e,i,a,l,o),!0;case"dragenter":return zi=Ss(zi,e,i,a,l,o),!0;case"mouseover":return Li=Ss(Li,e,i,a,l,o),!0;case"pointerover":var f=o.pointerId;return xs.set(f,Ss(xs.get(f)||null,e,i,a,l,o)),!0;case"gotpointercapture":return f=o.pointerId,Es.set(f,Ss(Es.get(f)||null,e,i,a,l,o)),!0}return!1}function $m(e){var i=Na(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,le(e.priority,function(){if(a.tag===13){var l=en();l=O(l);var o=ka(a,l);o!==null&&tn(o,a,l),Ic(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function su(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=$c(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);no=l,a.target.dispatchEvent(l),no=null}else return i=za(a),i!==null&&Pm(i),e.blockedOn=a,!1;i.shift()}return!0}function eg(e,i,a){su(e)&&a.delete(i)}function H1(){tf=!1,Ni!==null&&su(Ni)&&(Ni=null),zi!==null&&su(zi)&&(zi=null),Li!==null&&su(Li)&&(Li=null),xs.forEach(eg),Es.forEach(eg)}function lu(e,i){e.blockedOn===i&&(e.blockedOn=null,tf||(tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H1)))}var uu=null;function tg(e){uu!==e&&(uu=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uu===e&&(uu=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],o=e[i+2];if(typeof l!="function"){if(ef(l||a)===null)continue;break}var f=za(a);f!==null&&(e.splice(i,3),i-=3,ec(f,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function Ts(e){function i(R){return lu(R,e)}Ni!==null&&lu(Ni,e),zi!==null&&lu(zi,e),Li!==null&&lu(Li,e),xs.forEach(i),Es.forEach(i);for(var a=0;a<Hi.length;a++){var l=Hi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)$m(a),a.blockedOn===null&&Hi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],f=a[l+1],y=o[He]||null;if(typeof f=="function")y||tg(a);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(o=f,y=f[He]||null)w=y.formAction;else if(ef(o)!==null)continue}else w=y.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),tg(a)}}}function nf(e){this._internalRoot=e}ou.prototype.render=nf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=en();km(a,l,e,i,null,null)},ou.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;km(e.current,2,null,e,null,null),Ql(),i[Pe]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var i=P();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hi.length&&i!==0&&i<Hi[a].priority;a++);Hi.splice(a,0,e),a===0&&$m(e)}};var ng=n.version;if(ng!=="19.1.0")throw Error(s(527,ng,"19.1.0"));te.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?d(e):null,e=e===null?null:e.stateNode,e};var j1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Dt=cu.inject(j1),st=cu}catch{}}return Rs.createRoot=function(e,i){if(!u(e))throw Error(s(299));var a=!1,l="",o=vp,f=bp,y=Ap,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(o=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Zm(e,1,!1,null,null,a,l,o,f,y,w,null),e[Pe]=i.current,Hc(e),new nf(i)},Rs.hydrateRoot=function(e,i,a){if(!u(e))throw Error(s(299));var l=!1,o="",f=vp,y=bp,w=Ap,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=Zm(e,1,!0,i,a??null,l,o,f,y,w,R,j),i.context=Fm(null),a=i.current,l=en(),l=O(l),o=wi(l),o.callback=null,xi(a,o,l),a=l,i.current.lanes=a,yi(i,a),Gn(i),e[Pe]=i.current,Hc(e),new ou(i)},Rs.version="19.1.0",Rs}var hg;function I1(){if(hg)return sf.exports;hg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),sf.exports=P1(),sf.exports}var W1=I1(),Os={},dg;function $1(){if(dg)return Os;dg=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.parse=h,Os.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,c=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function h(m,S){const b=new c,C=m.length;if(C<2)return b;const E=(S==null?void 0:S.decode)||v;let T=0;do{const _=m.indexOf("=",T);if(_===-1)break;const G=m.indexOf(";",T),$=G===-1?C:G;if(_>$){T=m.lastIndexOf(";",_-1)+1;continue}const F=g(m,T,_),q=p(m,_,F),B=m.slice(F,q);if(b[B]===void 0){let H=g(m,_+1,$),W=p(m,$,H);const ie=E(m.slice(H,W));b[B]=ie}T=$+1}while(T<C);return b}function g(m,S,b){do{const C=m.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<b);return b}function p(m,S,b){for(;S>b;){const C=m.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return b}function d(m,S,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(m))throw new TypeError(`argument name is invalid: ${m}`);const E=C(S);if(!n.test(E))throw new TypeError(`argument val is invalid: ${S}`);let T=m+"="+E;if(!b)return T;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);T+="; Max-Age="+b.maxAge}if(b.domain){if(!r.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);T+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);T+="; Path="+b.path}if(b.expires){if(!x(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);T+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(T+="; HttpOnly"),b.secure&&(T+="; Secure"),b.partitioned&&(T+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return T}function v(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function x(m){return u.call(m)==="[object Date]"}return Os}$1();var pg="popstate";function eb(t={}){function n(u,c){let{pathname:h="/",search:g="",hash:p=""}=Ea(u.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),vf("",{pathname:h,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(u,c){let h=u.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let p=u.location.href,d=p.indexOf("#");g=d===-1?p:p.slice(0,d)}return g+"#"+(typeof c=="string"?c:Qs(c))}function s(u,c){Un(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return nb(n,r,s,t)}function rt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Un(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function mg(t,n){return{usr:t.state,key:t.key,idx:n}}function vf(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Ea(n):n,state:r,key:n&&n.key||s||tb()}}function Qs({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ea(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function nb(t,n,r,s={}){let{window:u=document.defaultView,v5Compat:c=!1}=s,h=u.history,g="POP",p=null,d=v();d==null&&(d=0,h.replaceState({...h.state,idx:d},""));function v(){return(h.state||{idx:null}).idx}function x(){g="POP";let E=v(),T=E==null?null:E-d;d=E,p&&p({action:g,location:C.location,delta:T})}function m(E,T){g="PUSH";let _=vf(C.location,E,T);r&&r(_,E),d=v()+1;let G=mg(_,d),$=C.createHref(_);try{h.pushState(G,"",$)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;u.location.assign($)}c&&p&&p({action:g,location:C.location,delta:1})}function S(E,T){g="REPLACE";let _=vf(C.location,E,T);r&&r(_,E),d=v();let G=mg(_,d),$=C.createHref(_);h.replaceState(G,"",$),c&&p&&p({action:g,location:C.location,delta:0})}function b(E){return ib(E)}let C={get action(){return g},get location(){return t(u,h)},listen(E){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(pg,x),p=E,()=>{u.removeEventListener(pg,x),p=null}},createHref(E){return n(u,E)},createURL:b,encodeLocation(E){let T=b(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:S,go(E){return h.go(E)}};return C}function ib(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rt(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Qs(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Vg(t,n,r="/"){return ab(t,n,r,!1)}function ab(t,n,r,s){let u=typeof n=="string"?Ea(n):n,c=hi(u.pathname||"/",r);if(c==null)return null;let h=Xg(t);rb(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let d=gb(c);g=pb(h[p],d,s)}return g}function Xg(t,n=[],r=[],s=""){let u=(c,h,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let d=fi([s,p.relativePath]),v=r.concat(p);c.children&&c.children.length>0&&(rt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Xg(c.children,n,v,d)),!(c.path==null&&!c.index)&&n.push({path:d,score:hb(d,c.index),routesMeta:v})};return t.forEach((c,h)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))u(c,h);else for(let p of Qg(c.path))u(c,h,p)}),n}function Qg(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return u?[c,""]:[c];let h=Qg(s.join("/")),g=[];return g.push(...h.map(p=>p===""?c:[c,p].join("/"))),u&&g.push(...h),g.map(p=>t.startsWith("/")&&p===""?"/":p)}function rb(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:db(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var sb=/^:[\w-]+$/,lb=3,ub=2,ob=1,cb=10,fb=-2,gg=t=>t==="*";function hb(t,n){let r=t.split("/"),s=r.length;return r.some(gg)&&(s+=fb),n&&(s+=ub),r.filter(u=>!gg(u)).reduce((u,c)=>u+(sb.test(c)?lb:c===""?ob:cb),s)}function db(t,n){return t.length===n.length&&t.slice(0,-1).every((s,u)=>s===n[u])?t[t.length-1]-n[n.length-1]:0}function pb(t,n,r=!1){let{routesMeta:s}=t,u={},c="/",h=[];for(let g=0;g<s.length;++g){let p=s[g],d=g===s.length-1,v=c==="/"?n:n.slice(c.length)||"/",x=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},v),m=p.route;if(!x&&d&&r&&!s[s.length-1].route.index&&(x=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:fi([c,x.pathname]),pathnameBase:Ab(fi([c,x.pathnameBase])),route:m}),x.pathnameBase!=="/"&&(c=fi([c,x.pathnameBase]))}return h}function Ru(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=mb(t.path,t.caseSensitive,t.end),u=n.match(r);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((d,{paramName:v,isOptional:x},m)=>{if(v==="*"){let b=g[m]||"";h=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const S=g[m];return x&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:c,pathnameBase:h,pattern:t}}function mb(t,n=!1,r=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],u="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),u+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":t!==""&&t!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),s]}function gb(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function hi(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function yb(t,n="/"){let{pathname:r,search:s="",hash:u=""}=typeof t=="string"?Ea(t):t;return{pathname:r?r.startsWith("/")?r:vb(r,n):n,search:wb(s),hash:xb(u)}}function vb(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function cf(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bb(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Kg(t){let n=bb(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function Zg(t,n,r,s=!1){let u;typeof t=="string"?u=Ea(t):(u={...t},rt(!u.pathname||!u.pathname.includes("?"),cf("?","pathname","search",u)),rt(!u.pathname||!u.pathname.includes("#"),cf("#","pathname","hash",u)),rt(!u.search||!u.search.includes("#"),cf("#","search","hash",u)));let c=t===""||u.pathname==="",h=c?"/":u.pathname,g;if(h==null)g=r;else{let x=n.length-1;if(!s&&h.startsWith("..")){let m=h.split("/");for(;m[0]==="..";)m.shift(),x-=1;u.pathname=m.join("/")}g=x>=0?n[x]:"/"}let p=yb(u,g),d=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(d||v)&&(p.pathname+="/"),p}var fi=t=>t.join("/").replace(/\/\/+/g,"/"),Ab=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Eb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Fg=["POST","PUT","PATCH","DELETE"];new Set(Fg);var Sb=["GET",...Fg];new Set(Sb);var Er=J.createContext(null);Er.displayName="DataRouter";var Lu=J.createContext(null);Lu.displayName="DataRouterState";var kg=J.createContext({isTransitioning:!1});kg.displayName="ViewTransition";var Tb=J.createContext(new Map);Tb.displayName="Fetchers";var Mb=J.createContext(null);Mb.displayName="Await";var kn=J.createContext(null);kn.displayName="Navigation";var Ps=J.createContext(null);Ps.displayName="Location";var di=J.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Zf=J.createContext(null);Zf.displayName="RouteError";function Rb(t,{relative:n}={}){rt(Is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=J.useContext(kn),{hash:u,pathname:c,search:h}=Ws(t,{relative:n}),g=c;return r!=="/"&&(g=c==="/"?r:fi([r,c])),s.createHref({pathname:g,search:h,hash:u})}function Is(){return J.useContext(Ps)!=null}function Sa(){return rt(Is(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Ps).location}var Jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pg(t){J.useContext(kn).static||J.useLayoutEffect(t)}function Ob(){let{isDataRoute:t}=J.useContext(di);return t?Gb():Cb()}function Cb(){rt(Is(),"useNavigate() may be used only in the context of a <Router> component.");let t=J.useContext(Er),{basename:n,navigator:r}=J.useContext(kn),{matches:s}=J.useContext(di),{pathname:u}=Sa(),c=JSON.stringify(Kg(s)),h=J.useRef(!1);return Pg(()=>{h.current=!0}),J.useCallback((p,d={})=>{if(Un(h.current,Jg),!h.current)return;if(typeof p=="number"){r.go(p);return}let v=Zg(p,JSON.parse(c),u,d.relative==="path");t==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:fi([n,v.pathname])),(d.replace?r.replace:r.push)(v,d.state,d)},[n,r,c,u,t])}J.createContext(null);function Ws(t,{relative:n}={}){let{matches:r}=J.useContext(di),{pathname:s}=Sa(),u=JSON.stringify(Kg(r));return J.useMemo(()=>Zg(t,JSON.parse(u),s,n==="path"),[t,u,s,n])}function qb(t,n){return Ig(t,n)}function Ig(t,n,r,s){var T;rt(Is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=J.useContext(kn),{matches:c}=J.useContext(di),h=c[c.length-1],g=h?h.params:{},p=h?h.pathname:"/",d=h?h.pathnameBase:"/",v=h&&h.route;{let _=v&&v.path||"";Wg(p,!v||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Sa(),m;if(n){let _=typeof n=="string"?Ea(n):n;rt(d==="/"||((T=_.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=x;let S=m.pathname||"/",b=S;if(d!=="/"){let _=d.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=Vg(t,{pathname:b});Un(v||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Un(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Nb(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},g,_.params),pathname:fi([d,u.encodeLocation?u.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:fi([d,u.encodeLocation?u.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),c,r,s);return n&&E?J.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},E):E}function Db(){let t=Yb(),n=Eb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:c},"ErrorBoundary")," or"," ",J.createElement("code",{style:c},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},n),r?J.createElement("pre",{style:u},r):null,h)}var Bb=J.createElement(Db,null),_b=class extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?J.createElement(di.Provider,{value:this.props.routeContext},J.createElement(Zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ub({routeContext:t,match:n,children:r}){let s=J.useContext(Er);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(di.Provider,{value:t},r)}function Nb(t,n=[],r=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,c=r==null?void 0:r.errors;if(c!=null){let p=u.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let h=!1,g=-1;if(r)for(let p=0;p<u.length;p++){let d=u[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(g=p),d.route.id){let{loaderData:v,errors:x}=r,m=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!x||x[d.route.id]===void 0);if(d.route.lazy||m){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,d,v)=>{let x,m=!1,S=null,b=null;r&&(x=c&&d.route.id?c[d.route.id]:void 0,S=d.route.errorElement||Bb,h&&(g<0&&v===0?(Wg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):g===v&&(m=!0,b=d.route.hydrateFallbackElement||null)));let C=n.concat(u.slice(0,v+1)),E=()=>{let T;return x?T=S:m?T=b:d.route.Component?T=J.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=p,J.createElement(Ub,{match:d,routeContext:{outlet:p,matches:C,isDataRoute:r!=null},children:T})};return r&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?J.createElement(_b,{location:r.location,revalidation:r.revalidation,component:S,error:x,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}function Ff(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(t){let n=J.useContext(Er);return rt(n,Ff(t)),n}function Lb(t){let n=J.useContext(Lu);return rt(n,Ff(t)),n}function Hb(t){let n=J.useContext(di);return rt(n,Ff(t)),n}function kf(t){let n=Hb(t),r=n.matches[n.matches.length-1];return rt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function jb(){return kf("useRouteId")}function Yb(){var s;let t=J.useContext(Zf),n=Lb("useRouteError"),r=kf("useRouteError");return t!==void 0?t:(s=n.errors)==null?void 0:s[r]}function Gb(){let{router:t}=zb("useNavigate"),n=kf("useNavigate"),r=J.useRef(!1);return Pg(()=>{r.current=!0}),J.useCallback(async(u,c={})=>{Un(r.current,Jg),r.current&&(typeof u=="number"?t.navigate(u):await t.navigate(u,{fromRouteId:n,...c}))},[t,n])}var yg={};function Wg(t,n,r){!n&&!yg[t]&&(yg[t]=!0,Un(!1,r))}J.memo(Vb);function Vb({routes:t,future:n,state:r}){return Ig(t,void 0,r,n)}function gu(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xb({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:u,static:c=!1}){rt(!Is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),g=J.useMemo(()=>({basename:h,navigator:u,static:c,future:{}}),[h,u,c]);typeof r=="string"&&(r=Ea(r));let{pathname:p="/",search:d="",hash:v="",state:x=null,key:m="default"}=r,S=J.useMemo(()=>{let b=hi(p,h);return b==null?null:{location:{pathname:b,search:d,hash:v,state:x,key:m},navigationType:s}},[h,p,d,v,x,m,s]);return Un(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:J.createElement(kn.Provider,{value:g},J.createElement(Ps.Provider,{children:n,value:S}))}function Qb({children:t,location:n}){return qb(bf(t),n)}function bf(t,n=[]){let r=[];return J.Children.forEach(t,(s,u)=>{if(!J.isValidElement(s))return;let c=[...n,u];if(s.type===J.Fragment){r.push.apply(r,bf(s.props.children,c));return}rt(s.type===gu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=bf(s.props.children,c)),r.push(h)}),r}var yu="get",vu="application/x-www-form-urlencoded";function Hu(t){return t!=null&&typeof t.tagName=="string"}function Kb(t){return Hu(t)&&t.tagName.toLowerCase()==="button"}function Zb(t){return Hu(t)&&t.tagName.toLowerCase()==="form"}function Fb(t){return Hu(t)&&t.tagName.toLowerCase()==="input"}function kb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jb(t,n){return t.button===0&&(!n||n==="_self")&&!kb(t)}var fu=null;function Pb(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var Ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(t){return t!=null&&!Ib.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):t}function Wb(t,n){let r,s,u,c,h;if(Zb(t)){let g=t.getAttribute("action");s=g?hi(g,n):null,r=t.getAttribute("method")||yu,u=ff(t.getAttribute("enctype"))||vu,c=new FormData(t)}else if(Kb(t)||Fb(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||g.getAttribute("action");if(s=p?hi(p,n):null,r=t.getAttribute("formmethod")||g.getAttribute("method")||yu,u=ff(t.getAttribute("formenctype"))||ff(g.getAttribute("enctype"))||vu,c=new FormData(g,t),!Pb()){let{name:d,type:v,value:x}=t;if(v==="image"){let m=d?`${d}.`:"";c.append(`${m}x`,"0"),c.append(`${m}y`,"0")}else d&&c.append(d,x)}}else{if(Hu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=yu,s=null,u=vu,h=t}return c&&u==="text/plain"&&(h=c,c=void 0),{action:s,method:r.toLowerCase(),encType:u,formData:c,body:h}}function Jf(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}async function $b(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tA(t,n,r){let s=await Promise.all(t.map(async u=>{let c=n.routes[u.route.id];if(c){let h=await $b(c,r);return h.links?h.links():[]}return[]}));return rA(s.flat(1).filter(eA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function vg(t,n,r,s,u,c){let h=(p,d)=>r[d]?p.route.id!==r[d].route.id:!0,g=(p,d)=>{var v;return r[d].pathname!==p.pathname||((v=r[d].route.path)==null?void 0:v.endsWith("*"))&&r[d].params["*"]!==p.params["*"]};return c==="assets"?n.filter((p,d)=>h(p,d)||g(p,d)):c==="data"?n.filter((p,d)=>{var x;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,d)||g(p,d))return!0;if(p.route.shouldRevalidate){let m=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function nA(t,n,{includeHydrateFallback:r}={}){return iA(t.map(s=>{let u=n.routes[s.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function iA(t){return[...new Set(t)]}function aA(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function rA(t,n){let r=new Set;return new Set(n),t.reduce((s,u)=>{let c=JSON.stringify(aA(u));return r.has(c)||(r.add(c),s.push({key:c,link:u})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sA=new Set([100,101,204,205]);function lA(t,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":n&&hi(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function $g(){let t=J.useContext(Er);return Jf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uA(){let t=J.useContext(Lu);return Jf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pf=J.createContext(void 0);Pf.displayName="FrameworkContext";function ey(){let t=J.useContext(Pf);return Jf(t,"You must render this element inside a <HydratedRouter> element"),t}function oA(t,n){let r=J.useContext(Pf),[s,u]=J.useState(!1),[c,h]=J.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:d,onMouseLeave:v,onTouchStart:x}=n,m=J.useRef(null);J.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let C=T=>{T.forEach(_=>{h(_.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return m.current&&E.observe(m.current),()=>{E.disconnect()}}},[t]),J.useEffect(()=>{if(s){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[s]);let S=()=>{u(!0)},b=()=>{u(!1),h(!1)};return r?t!=="intent"?[c,m,{}]:[c,m,{onFocus:Cs(g,S),onBlur:Cs(p,b),onMouseEnter:Cs(d,S),onMouseLeave:Cs(v,b),onTouchStart:Cs(x,S)}]:[!1,m,{}]}function Cs(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function cA({page:t,...n}){let{router:r}=$g(),s=J.useMemo(()=>Vg(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?J.createElement(hA,{page:t,matches:s,...n}):null}function fA(t){let{manifest:n,routeModules:r}=ey(),[s,u]=J.useState([]);return J.useEffect(()=>{let c=!1;return tA(t,n,r).then(h=>{c||u(h)}),()=>{c=!0}},[t,n,r]),s}function hA({page:t,matches:n,...r}){let s=Sa(),{manifest:u,routeModules:c}=ey(),{basename:h}=$g(),{loaderData:g,matches:p}=uA(),d=J.useMemo(()=>vg(t,n,p,u,s,"data"),[t,n,p,u,s]),v=J.useMemo(()=>vg(t,n,p,u,s,"assets"),[t,n,p,u,s]),x=J.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,C=!1;if(n.forEach(T=>{var G;let _=u.routes[T.route.id];!_||!_.hasLoader||(!d.some($=>$.route.id===T.route.id)&&T.route.id in g&&((G=c[T.route.id])!=null&&G.shouldRevalidate)||_.hasClientLoader?C=!0:b.add(T.route.id))}),b.size===0)return[];let E=lA(t,h);return C&&b.size>0&&E.searchParams.set("_routes",n.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[h,g,s,u,d,n,t,c]),m=J.useMemo(()=>nA(v,u),[v,u]),S=fA(v);return J.createElement(J.Fragment,null,x.map(b=>J.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),m.map(b=>J.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),S.map(({key:b,link:C})=>J.createElement("link",{key:b,...C})))}function dA(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var ty=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ty&&(window.__reactRouterVersion="7.6.2")}catch{}function pA({basename:t,children:n,window:r}){let s=J.useRef();s.current==null&&(s.current=eb({window:r,v5Compat:!0}));let u=s.current,[c,h]=J.useState({action:u.action,location:u.location}),g=J.useCallback(p=>{J.startTransition(()=>h(p))},[h]);return J.useLayoutEffect(()=>u.listen(g),[u,g]),J.createElement(Xb,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u})}var ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iy=J.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:u,reloadDocument:c,replace:h,state:g,target:p,to:d,preventScrollReset:v,viewTransition:x,...m},S){let{basename:b}=J.useContext(kn),C=typeof d=="string"&&ny.test(d),E,T=!1;if(typeof d=="string"&&C&&(E=d,ty))try{let W=new URL(window.location.href),ie=d.startsWith("//")?new URL(W.protocol+d):new URL(d),ae=hi(ie.pathname,b);ie.origin===W.origin&&ae!=null?d=ae+ie.search+ie.hash:T=!0}catch{Un(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Rb(d,{relative:u}),[G,$,F]=oA(s,m),q=vA(d,{replace:h,state:g,target:p,preventScrollReset:v,relative:u,viewTransition:x});function B(W){n&&n(W),W.defaultPrevented||q(W)}let H=J.createElement("a",{...m,...F,href:E||_,onClick:T||c?n:B,ref:dA(S,$),target:p,"data-discover":!C&&r==="render"?"true":void 0});return G&&!C?J.createElement(J.Fragment,null,H,J.createElement(cA,{page:_})):H});iy.displayName="Link";var mA=J.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:u=!1,style:c,to:h,viewTransition:g,children:p,...d},v){let x=Ws(h,{relative:d.relative}),m=Sa(),S=J.useContext(Lu),{navigator:b,basename:C}=J.useContext(kn),E=S!=null&&EA(x)&&g===!0,T=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,_=m.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(_=_.toLowerCase(),G=G?G.toLowerCase():null,T=T.toLowerCase()),G&&C&&(G=hi(G,C)||G);const $=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let F=_===T||!u&&_.startsWith(T)&&_.charAt($)==="/",q=G!=null&&(G===T||!u&&G.startsWith(T)&&G.charAt(T.length)==="/"),B={isActive:F,isPending:q,isTransitioning:E},H=F?n:void 0,W;typeof s=="function"?W=s(B):W=[s,F?"active":null,q?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(B):c;return J.createElement(iy,{...d,"aria-current":H,className:W,ref:v,style:ie,to:h,viewTransition:g},typeof p=="function"?p(B):p)});mA.displayName="NavLink";var gA=J.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:u,state:c,method:h=yu,action:g,onSubmit:p,relative:d,preventScrollReset:v,viewTransition:x,...m},S)=>{let b=wA(),C=xA(g,{relative:d}),E=h.toLowerCase()==="get"?"get":"post",T=typeof g=="string"&&ny.test(g),_=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let $=G.nativeEvent.submitter,F=($==null?void 0:$.getAttribute("formmethod"))||h;b($||G.currentTarget,{fetcherKey:n,method:F,navigate:r,replace:u,state:c,relative:d,preventScrollReset:v,viewTransition:x})};return J.createElement("form",{ref:S,method:E,action:C,onSubmit:s?p:_,...m,"data-discover":!T&&t==="render"?"true":void 0})});gA.displayName="Form";function yA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ay(t){let n=J.useContext(Er);return rt(n,yA(t)),n}function vA(t,{target:n,replace:r,state:s,preventScrollReset:u,relative:c,viewTransition:h}={}){let g=Ob(),p=Sa(),d=Ws(t,{relative:c});return J.useCallback(v=>{if(Jb(v,n)){v.preventDefault();let x=r!==void 0?r:Qs(p)===Qs(d);g(t,{replace:x,state:s,preventScrollReset:u,relative:c,viewTransition:h})}},[p,g,d,r,s,n,t,u,c,h])}var bA=0,AA=()=>`__${String(++bA)}__`;function wA(){let{router:t}=ay("useSubmit"),{basename:n}=J.useContext(kn),r=jb();return J.useCallback(async(s,u={})=>{let{action:c,method:h,encType:g,formData:p,body:d}=Wb(s,n);if(u.navigate===!1){let v=u.fetcherKey||AA();await t.fetch(v,r,u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:d,formMethod:u.method||h,formEncType:u.encType||g,flushSync:u.flushSync})}else await t.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:d,formMethod:u.method||h,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[t,n,r])}function xA(t,{relative:n}={}){let{basename:r}=J.useContext(kn),s=J.useContext(di);rt(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),c={...Ws(t||".",{relative:n})},h=Sa();if(t==null){c.search=h.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(v=>v==="")){g.delete("index"),p.filter(x=>x).forEach(x=>g.append("index",x));let v=g.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:fi([r,c.pathname])),Qs(c)}function EA(t,n={}){let r=J.useContext(kg);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ay("useViewTransitionState"),u=Ws(t,{relative:n.relative});if(!r.isTransitioning)return!1;let c=hi(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=hi(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ru(u.pathname,h)!=null||Ru(u.pathname,c)!=null}[...sA];const Fn=Object.create(null);Fn.open="0";Fn.close="1";Fn.ping="2";Fn.pong="3";Fn.message="4";Fn.upgrade="5";Fn.noop="6";const bu=Object.create(null);Object.keys(Fn).forEach(t=>{bu[Fn[t]]=t});const Af={type:"error",data:"parser error"},ry=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sy=typeof ArrayBuffer=="function",ly=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,If=({type:t,data:n},r,s)=>ry&&n instanceof Blob?r?s(n):bg(n,s):sy&&(n instanceof ArrayBuffer||ly(n))?r?s(n):bg(new Blob([n]),s):s(Fn[t]+(n||"")),bg=(t,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(t)};function Ag(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let hf;function SA(t,n){if(ry&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ag).then(n);if(sy&&(t.data instanceof ArrayBuffer||ly(t.data)))return n(Ag(t.data));If(t,!1,r=>{hf||(hf=new TextEncoder),n(hf.encode(r))})}const wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<wg.length;t++)_s[wg.charCodeAt(t)]=t;const TA=t=>{let n=t.length*.75,r=t.length,s,u=0,c,h,g,p;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);const d=new ArrayBuffer(n),v=new Uint8Array(d);for(s=0;s<r;s+=4)c=_s[t.charCodeAt(s)],h=_s[t.charCodeAt(s+1)],g=_s[t.charCodeAt(s+2)],p=_s[t.charCodeAt(s+3)],v[u++]=c<<2|h>>4,v[u++]=(h&15)<<4|g>>2,v[u++]=(g&3)<<6|p&63;return d},MA=typeof ArrayBuffer=="function",Wf=(t,n)=>{if(typeof t!="string")return{type:"message",data:uy(t,n)};const r=t.charAt(0);return r==="b"?{type:"message",data:RA(t.substring(1),n)}:bu[r]?t.length>1?{type:bu[r],data:t.substring(1)}:{type:bu[r]}:Af},RA=(t,n)=>{if(MA){const r=TA(t);return uy(r,n)}else return{base64:!0,data:t}},uy=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},oy="",OA=(t,n)=>{const r=t.length,s=new Array(r);let u=0;t.forEach((c,h)=>{If(c,!1,g=>{s[h]=g,++u===r&&n(s.join(oy))})})},CA=(t,n)=>{const r=t.split(oy),s=[];for(let u=0;u<r.length;u++){const c=Wf(r[u],n);if(s.push(c),c.type==="error")break}return s};function qA(){return new TransformStream({transform(t,n){SA(t,r=>{const s=r.length;let u;if(s<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,s);else if(s<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(u[0]|=128),n.enqueue(u),n.enqueue(r)})}})}let df;function hu(t){return t.reduce((n,r)=>n+r.length,0)}function du(t,n){if(t[0].length===n)return t.shift();const r=new Uint8Array(n);let s=0;for(let u=0;u<n;u++)r[u]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),r}function DA(t,n){df||(df=new TextDecoder);const r=[];let s=0,u=-1,c=!1;return new TransformStream({transform(h,g){for(r.push(h);;){if(s===0){if(hu(r)<1)break;const p=du(r,1);c=(p[0]&128)===128,u=p[0]&127,u<126?s=3:u===126?s=1:s=2}else if(s===1){if(hu(r)<2)break;const p=du(r,2);u=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(hu(r)<8)break;const p=du(r,8),d=new DataView(p.buffer,p.byteOffset,p.length),v=d.getUint32(0);if(v>Math.pow(2,21)-1){g.enqueue(Af);break}u=v*Math.pow(2,32)+d.getUint32(4),s=3}else{if(hu(r)<u)break;const p=du(r,u);g.enqueue(Wf(c?p:df.decode(p),n)),s=0}if(u===0||u>t){g.enqueue(Af);break}}}})}const cy=4;function mt(t){if(t)return BA(t)}function BA(t){for(var n in mt.prototype)t[n]=mt.prototype[n];return t}mt.prototype.on=mt.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};mt.prototype.once=function(t,n){function r(){this.off(t,r),n.apply(this,arguments)}return r.fn=n,this.on(t,r),this};mt.prototype.off=mt.prototype.removeListener=mt.prototype.removeAllListeners=mt.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,u=0;u<r.length;u++)if(s=r[u],s===n||s.fn===n){r.splice(u,1);break}return r.length===0&&delete this._callbacks["$"+t],this};mt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+t],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,u=r.length;s<u;++s)r[s].apply(this,n)}return this};mt.prototype.emitReserved=mt.prototype.emit;mt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};mt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ju=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),wn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_A="arraybuffer";function fy(t,...n){return n.reduce((r,s)=>(t.hasOwnProperty(s)&&(r[s]=t[s]),r),{})}const UA=wn.setTimeout,NA=wn.clearTimeout;function Yu(t,n){n.useNativeTimers?(t.setTimeoutFn=UA.bind(wn),t.clearTimeoutFn=NA.bind(wn)):(t.setTimeoutFn=wn.setTimeout.bind(wn),t.clearTimeoutFn=wn.clearTimeout.bind(wn))}const zA=1.33;function LA(t){return typeof t=="string"?HA(t):Math.ceil((t.byteLength||t.size)*zA)}function HA(t){let n=0,r=0;for(let s=0,u=t.length;s<u;s++)n=t.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function hy(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function jA(t){let n="";for(let r in t)t.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n}function YA(t){let n={},r=t.split("&");for(let s=0,u=r.length;s<u;s++){let c=r[s].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class GA extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class $f extends mt{constructor(n){super(),this.writable=!1,Yu(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new GA(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Wf(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=jA(n);return r.length?"?"+r:""}}class VA extends $f{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};CA(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,OA(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=hy()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let dy=!1;try{dy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const XA=dy;function QA(){}class KA extends VA{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Qn extends mt{constructor(n,r,s){super(),this.createRequest=n,Yu(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=fy(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&s.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var u;s.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=Qn.requestsCount++,Qn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=QA,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qn.requestsCount=0;Qn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xg);else if(typeof addEventListener=="function"){const t="onpagehide"in wn?"pagehide":"unload";addEventListener(t,xg,!1)}}function xg(){for(let t in Qn.requests)Qn.requests.hasOwnProperty(t)&&Qn.requests[t].abort()}const ZA=function(){const t=py({xdomain:!1});return t&&t.responseType!==null}();class FA extends KA{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=ZA&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Qn(py,this.uri(),n)}}function py(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||XA))return new XMLHttpRequest}catch{}if(!n)try{return new wn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const my=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kA extends $f{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=my?{}:fy(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],u=r===n.length-1;If(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}u&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=hy()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const pf=wn.WebSocket||wn.MozWebSocket;class JA extends kA{createSocket(n,r,s){return my?new pf(n,r,s):r?new pf(n,r):new pf(n)}doWrite(n,r){this.ws.send(r)}}class PA extends $f{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=DA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),u=qA();u.readable.pipeTo(n.writable),this._writer=u.writable.getWriter();const c=()=>{s.read().then(({done:g,value:p})=>{g||(this.onPacket(p),c())}).catch(g=>{})};c();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],u=r===n.length-1;this._writer.write(s).then(()=>{u&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const IA={websocket:JA,webtransport:PA,polling:FA},WA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wf(t){if(t.length>8e3)throw"URI too long";const n=t,r=t.indexOf("["),s=t.indexOf("]");r!=-1&&s!=-1&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));let u=WA.exec(t||""),c={},h=14;for(;h--;)c[$A[h]]=u[h]||"";return r!=-1&&s!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=ew(c,c.path),c.queryKey=tw(c,c.query),c}function ew(t,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function tw(t,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,u,c){u&&(r[u]=c)}),r}const xf=typeof addEventListener=="function"&&typeof removeEventListener=="function",Au=[];xf&&addEventListener("offline",()=>{Au.forEach(t=>t())},!1);class Vi extends mt{constructor(n,r){if(super(),this.binaryType=_A,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=wf(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=wf(r.host).host);Yu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const u=s.prototype.name;this.transports.push(u),this._transportsByName[u]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=YA(this.opts.query)),xf&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Au.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=cy,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Vi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Vi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const u=this.writeBuffer[s].data;if(u&&(r+=LA(u)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,ju(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,u){if(typeof r=="function"&&(u=r,r=void 0),typeof s=="function"&&(u=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:n,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Vi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xf&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Au.indexOf(this._offlineEventListener);s!==-1&&Au.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Vi.protocol=cy;class nw extends Vi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Vi.priorWebsocketSuccess=!1;const u=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Vi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function c(){s||(s=!0,v(),r.close(),r=null)}const h=x=>{const m=new Error("probe error: "+x);m.transport=r.name,c(),this.emitReserved("upgradeError",m)};function g(){h("transport closed")}function p(){h("socket closed")}function d(x){r&&x.name!==r.name&&c()}const v=()=>{r.removeListener("open",u),r.removeListener("error",h),r.removeListener("close",g),this.off("close",p),this.off("upgrading",d)};r.once("open",u),r.once("error",h),r.once("close",g),this.once("close",p),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let iw=class extends nw{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(u=>IA[u]).filter(u=>!!u)),super(n,s)}};function aw(t,n="",r){let s=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),s=wf(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+n,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const rw=typeof ArrayBuffer=="function",sw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,gy=Object.prototype.toString,lw=typeof Blob=="function"||typeof Blob<"u"&&gy.call(Blob)==="[object BlobConstructor]",uw=typeof File=="function"||typeof File<"u"&&gy.call(File)==="[object FileConstructor]";function eh(t){return rw&&(t instanceof ArrayBuffer||sw(t))||lw&&t instanceof Blob||uw&&t instanceof File}function wu(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,s=t.length;r<s;r++)if(wu(t[r]))return!0;return!1}if(eh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wu(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&wu(t[r]))return!0;return!1}function ow(t){const n=[],r=t.data,s=t;return s.data=Ef(r,n),s.attachments=n.length,{packet:s,buffers:n}}function Ef(t,n){if(!t)return t;if(eh(t)){const r={_placeholder:!0,num:n.length};return n.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let s=0;s<t.length;s++)r[s]=Ef(t[s],n);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Ef(t[s],n));return r}return t}function cw(t,n){return t.data=Sf(t.data,n),delete t.attachments,t}function Sf(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Sf(t[r],n);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Sf(t[r],n));return t}const fw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hw=5;var Ue;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ue||(Ue={}));class dw{constructor(n){this.replacer=n}encode(n){return(n.type===Ue.EVENT||n.type===Ue.ACK)&&wu(n)?this.encodeAsBinary({type:n.type===Ue.EVENT?Ue.BINARY_EVENT:Ue.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===Ue.BINARY_EVENT||n.type===Ue.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=ow(n),s=this.encodeAsString(r.packet),u=r.buffers;return u.unshift(s),u}}function Eg(t){return Object.prototype.toString.call(t)==="[object Object]"}class th extends mt{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===Ue.BINARY_EVENT;s||r.type===Ue.BINARY_ACK?(r.type=s?Ue.EVENT:Ue.ACK,this.reconstructor=new pw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(eh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(Ue[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ue.BINARY_EVENT||s.type===Ue.BINARY_ACK){const c=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const h=n.substring(c,r);if(h!=Number(h)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(h)}if(n.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(c,r)}else s.nsp="/";const u=n.charAt(r+1);if(u!==""&&Number(u)==u){const c=r+1;for(;++r;){const h=n.charAt(r);if(h==null||Number(h)!=h){--r;break}if(r===n.length)break}s.id=Number(n.substring(c,r+1))}if(n.charAt(++r)){const c=this.tryParse(n.substr(r));if(th.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case Ue.CONNECT:return Eg(r);case Ue.DISCONNECT:return r===void 0;case Ue.CONNECT_ERROR:return typeof r=="string"||Eg(r);case Ue.EVENT:case Ue.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fw.indexOf(r[0])===-1);case Ue.ACK:case Ue.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=cw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:th,Encoder:dw,get PacketType(){return Ue},protocol:hw},Symbol.toStringTag,{value:"Module"}));function _n(t,n,r){return t.on(n,r),function(){t.off(n,r)}}const gw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yy extends mt{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[_n(n,"open",this.onopen.bind(this)),_n(n,"packet",this.onpacket.bind(this)),_n(n,"error",this.onerror.bind(this)),_n(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,u,c;if(gw.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const h={type:Ue.EVENT,data:r};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,x=r.pop();this._registerAckCallback(v,x),h.id=v}const g=(u=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||u===void 0?void 0:u.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!g||(p?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(n,r){var s;const u=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(u===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===n&&this.sendBuffer.splice(g,1);r.call(this,new Error("operation has timed out"))},u),h=(...g)=>{this.io.clearTimeoutFn(c),r.apply(this,g)};h.withError=!0,this.acks[n]=h}emitWithAck(n,...r){return new Promise((s,u)=>{const c=(h,g)=>h?u(h):s(g);c.withError=!0,r.push(c),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((u,...c)=>s!==this._queue[0]?void 0:(u!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(u)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Ue.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ue.EVENT:case Ue.BINARY_EVENT:this.onevent(n);break;case Ue.ACK:case Ue.BINARY_ACK:this.onack(n);break;case Ue.DISCONNECT:this.ondisconnect();break;case Ue.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...u){s||(s=!0,r.packet({type:Ue.ACK,id:n,data:u}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function Sr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Sr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*t);t=(Math.floor(n*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Sr.prototype.reset=function(){this.attempts=0};Sr.prototype.setMin=function(t){this.ms=t};Sr.prototype.setMax=function(t){this.max=t};Sr.prototype.setJitter=function(t){this.jitter=t};class Tf extends mt{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Sr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const u=r.parser||mw;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new iw(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const u=_n(r,"open",function(){s.onopen(),n&&n()}),c=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),n?n(g):this.maybeReconnectOnOpen()},h=_n(r,"error",c);if(this._timeout!==!1){const g=this._timeout,p=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),r.close()},g);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(u),this.subs.push(h),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(_n(n,"ping",this.onping.bind(this)),_n(n,"data",this.ondata.bind(this)),_n(n,"error",this.onerror.bind(this)),_n(n,"close",this.onclose.bind(this)),_n(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){ju(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new yy(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(u=>{u?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",u)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const qs={};function xu(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};const r=aw(t,n.path||"/socket.io"),s=r.source,u=r.id,c=r.path,h=qs[u]&&c in qs[u].nsps,g=n.forceNew||n["force new connection"]||n.multiplex===!1||h;let p;return g?p=new Tf(s,n):(qs[u]||(qs[u]=new Tf(s,n)),p=qs[u]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(xu,{Manager:Tf,Socket:yy,io:xu,connect:xu});const Ht=xu("https://api.donger.ca");function yw(){const t=document.getElementById("game"),n=document.getElementById("root");n.style.pointerEvents="none";const[r,s]=J.useState({id:"",username:"",loggedIn:!1});J.useEffect(()=>{fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then($=>$.json()).then($=>{s($)})},[]);const[u,c]=J.useState(0);Ht.on("UPDATE player/coins",$=>{c($.coins)});const[h,g]=J.useState(1),[p,d]=J.useState(0);Ht.on("UPDATE player/level",$=>{g($.level),d($.exp)});const[v,x]=J.useState(0);Ht.on("UPDATE player/crates",$=>{x($.crates)});const[m,S]=J.useState(!1),[b,C]=J.useState([]),E=()=>b.length===0?ge.jsxs("div",{id:"bag",children:[ge.jsx("h2",{children:"Bag"}),ge.jsx("p",{children:"No items in bag."})]}):ge.jsxs("div",{id:"bag",children:[ge.jsx("h2",{children:"Bag"}),ge.jsx("ul",{children:b.map($=>ge.jsxs("li",{children:[$.name," x",$.amount]},$.id))})]});function T(){if(m){S(!1),t.focus();return}Ht.emit("GET player/bag",$=>{$.status==="ok"&&(C($.data),S(!0),t.focus())})}function _(){window.location.href="https://agrifusion.donger.ca"}function G(){return r.loggedIn?(t.hidden=!1,t.focus(),ge.jsxs("div",{id:"ui_container",children:[ge.jsx("div",{id:"coins",children:"$"+u}),ge.jsx("button",{onClick:T,className:"btn",id:"btn_bag",children:"BAG"}),m&&E(),ge.jsx("div",{id:"level",children:h}),ge.jsx("div",{id:"exp",children:p}),ge.jsx("div",{id:"crates",children:v})]})):(t.hidden=!0,n.style.pointerEvents="all",ge.jsxs("h1",{onClick:_,id:"login_warning",children:["YOU NEED TO LOGIN TO PLAY!",ge.jsx("br",{}),"Click/tap to login"]}))}return ge.jsx("div",{className:"background",children:G()})}function vw(){const t=document.getElementById("game");t.hidden=!0;const n=document.getElementById("root");n.style.pointerEvents="all",fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then(h=>h.json()).then(h=>{if(h.loggedIn)window.location.href="/#/play";else{const g=document.cookie.split(";"),p={};if(g.forEach(d=>{const[v,x]=d.trim().split("=");p[v]=x}),p.error){const d=decodeURIComponent(p.error);s(d),document.cookie="error=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}});const[r,s]=J.useState(""),u=()=>ge.jsx("div",{id:"error",children:r});function c(){window.location.href="https://agrifusion.donger.ca/#/signup"}return ge.jsxs("div",{className:"background",children:[ge.jsx("div",{id:"title",children:"Agrifusion"}),ge.jsxs("form",{action:"https://api.donger.ca/api/login",method:"post",children:[u(),ge.jsxs("div",{id:"login-form",children:[ge.jsx("section",{children:ge.jsxs("label",{htmlFor:"username",children:["Username:",ge.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,autoFocus:!0})]})}),ge.jsx("section",{children:ge.jsxs("label",{htmlFor:"current-password",children:["Password:",ge.jsx("input",{id:"current-password",name:"password",type:"password",autoComplete:"current-password",required:!0})]})}),ge.jsx("input",{type:"hidden",name:"_csrf",value:"<%= csrfToken %>"})]}),ge.jsx("br",{}),ge.jsxs("div",{id:"buttons",children:[ge.jsx("button",{className:"btn",id:"btn_sign_in",type:"submit",children:"Sign in"}),ge.jsx("button",{className:"btn",id:"btn_sign_up",onClick:c,children:"Sign up"})]})]}),ge.jsx("br",{})]})}function bw(){const t=document.getElementById("game");t.style.pointerEvents="none",t.style.display="none";const n=document.getElementById("root");n.style.pointerEvents="all";const[r,s]=J.useState(""),u=document.cookie.split(";"),c={};if(u.forEach(g=>{const[p,d]=g.trim().split("=");c[p]=d}),c.error){const g=decodeURIComponent(c.error);s(g),document.cookie="error=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}const h=()=>ge.jsx("div",{id:"error",children:r});return ge.jsxs("div",{className:"background",children:[ge.jsx("h1",{children:"Sign up"}),h(),ge.jsxs("form",{action:"https://api.donger.ca/api/signup",method:"post",children:[ge.jsx("section",{children:ge.jsxs("label",{htmlFor:"username",children:["Username:",ge.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0})]})}),ge.jsx("section",{children:ge.jsxs("label",{htmlFor:"new-password",children:["Password:",ge.jsx("input",{id:"new-password",name:"password",type:"password",autoComplete:"new-password",required:!0})]})}),ge.jsx("button",{type:"submit",children:"Sign up"})]})]})}var Aw=(()=>{for(var t=new Uint8Array(128),n=0;n<64;n++)t[n<26?n+65:n<52?n+71:n<62?n-4:n*4-205]=n;return r=>{for(var s=r.length,u=new Uint8Array((s-(r[s-1]=="=")-(r[s-2]=="="))*3/4|0),c=0,h=0;c<s;){var g=t[r.charCodeAt(c++)],p=t[r.charCodeAt(c++)],d=t[r.charCodeAt(c++)],v=t[r.charCodeAt(c++)];u[h++]=g<<2|p>>4,u[h++]=p<<4|d>>2,u[h++]=d<<6|v}return u}})(),ww={version:"3001.0.18"};function Kn(t,n,r){return n>r?Kn(t,r,n):Math.min(Math.max(t,n),r)}var Ye,_e=(Ye=class{constructor(n,r,s){L(this,"r",255);L(this,"g",255);L(this,"b",255);this.r=Kn(n,0,255),this.g=Kn(r,0,255),this.b=Kn(s,0,255)}static fromArray(n){return new Ye(n[0],n[1],n[2])}static fromHex(n){if(typeof n=="number")return new Ye(n>>16&255,n>>8&255,n>>0&255);if(typeof n=="string"){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(!r)throw new Error("Invalid hex color format");return new Ye(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(n,r,s){if(r==0)return new Ye(255*s,255*s,255*s);let u=(v,x,m)=>(m<0&&(m+=1),m>1&&(m-=1),m<1/6?v+(x-v)*6*m:m<1/2?x:m<2/3?v+(x-v)*(2/3-m)*6:v),c=s<.5?s*(1+r):s+r-s*r,h=2*s-c,g=u(h,c,n+1/3),p=u(h,c,n),d=u(h,c,n-1/3);return new Ye(Math.round(g*255),Math.round(p*255),Math.round(d*255))}clone(){return new Ye(this.r,this.g,this.b)}lighten(n){return new Ye(this.r+n,this.g+n,this.b+n)}darken(n){return this.lighten(-n)}invert(){return new Ye(255-this.r,255-this.g,255-this.b)}mult(n){return new Ye(this.r*n.r/255,this.g*n.g/255,this.b*n.b/255)}lerp(n,r){return new Ye(rn(this.r,n.r,r),rn(this.g,n.g,r),rn(this.b,n.b,r))}toHSL(){let n=this.r/255,r=this.g/255,s=this.b/255,u=Math.max(n,r,s),c=Math.min(n,r,s),h=(u+c)/2,g=h,p=h;if(u==c)h=g=0;else{let d=u-c;switch(g=p>.5?d/(2-u-c):d/(u+c),u){case n:h=(r-s)/d+(r<s?6:0);break;case r:h=(s-n)/d+2;break;case s:h=(n-r)/d+4;break}h/=6}return[h,g,p]}eq(n){return this.r===n.r&&this.g===n.g&&this.b===n.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},L(Ye,"RED",new Ye(255,0,0)),L(Ye,"GREEN",new Ye(0,255,0)),L(Ye,"BLUE",new Ye(0,0,255)),L(Ye,"YELLOW",new Ye(255,255,0)),L(Ye,"MAGENTA",new Ye(255,0,255)),L(Ye,"CYAN",new Ye(0,255,255)),L(Ye,"WHITE",new Ye(255,255,255)),L(Ye,"BLACK",new Ye(0,0,0)),Ye);function Xe(...t){if(t.length===0)return new _e(255,255,255);if(t.length===1){if(t[0]instanceof _e)return t[0].clone();if(typeof t[0]=="string")return _e.fromHex(t[0]);if(Array.isArray(t[0])&&t[0].length===3)return _e.fromArray(t[0])}else if(t.length===2){if(t[0]instanceof _e)return t[0].clone()}else if(t.length===3||t.length===4)return new _e(t[0],t[1],t[2]);throw new Error("Invalid color arguments")}var xw=(t,n,r)=>_e.fromHSL(t,n,r);function bt(t){return t*Math.PI/180}function va(t){return t*180/Math.PI}function rn(t,n,r){if(typeof t=="number"&&typeof n=="number")return t+(n-t)*r;if(t instanceof Z&&n instanceof Z||t instanceof _e&&n instanceof _e)return t.lerp(n,r);throw new Error(`Bad value for lerp(): ${t}, ${n}. Only number, Vec2 and Color is supported.`)}function Xn(t,n,r,s,u){return s+(t-n)/(r-n)*(u-s)}function Ew(t,n,r,s,u){return Kn(Xn(t,n,r,s,u),s,u)}var We,Z=(We=class{constructor(n=0,r=n){L(this,"x",0);L(this,"y",0);this.x=n,this.y=r}static fromAngle(n){let r=bt(n);return new We(Math.cos(r),Math.sin(r))}static fromArray(n){return new We(n[0],n[1])}clone(){return new We(this.x,this.y)}add(...n){let r=X(...n);return new We(this.x+r.x,this.y+r.y)}sub(...n){let r=X(...n);return new We(this.x-r.x,this.y-r.y)}scale(...n){let r=X(...n);return new We(this.x*r.x,this.y*r.y)}dist(...n){let r=X(...n);return this.sub(r).len()}sdist(...n){let r=X(...n);return this.sub(r).slen()}static sdist(n,r){let s=n.x-r.x,u=n.y-r.y;return s*s+u*u}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let n=this.len();return n===0?new We(0):this.scale(1/n)}normal(){return new We(this.y,-this.x)}reflect(n){return this.sub(n.scale(2*this.dot(n)))}project(n){return n.scale(n.dot(this)/n.len())}reject(n){return this.sub(this.project(n))}dot(n){return this.x*n.x+this.y*n.y}static dot(n,r){return n.x*r.x+n.y*r.y}cross(n){return this.x*n.y-this.y*n.x}static cross(n,r){return n.x*r.y-n.y*r.x}angle(...n){let r=X(...n);return va(Math.atan2(this.y-r.y,this.x-r.x))}angleBetween(...n){let r=X(...n);return va(Math.atan2(this.cross(r),this.dot(r)))}lerp(n,r){return new We(rn(this.x,n.x,r),rn(this.y,n.y,r))}slerp(n,r){let s=this.dot(n),u=this.cross(n),c=Math.atan2(u,s);return this.scale(Math.sin((1-r)*c)).add(n.scale(Math.sin(r*c))).scale(1/u)}isZero(){return this.x===0&&this.y===0}toFixed(n){return new We(Number(this.x.toFixed(n)),Number(this.y.toFixed(n)))}transform(n){return n.multVec2(this)}eq(n){return this.x===n.x&&this.y===n.y}bbox(){return new nt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},L(We,"ZERO",new We(0,0)),L(We,"ONE",new We(1,1)),L(We,"LEFT",new We(-1,0)),L(We,"RIGHT",new We(1,0)),L(We,"UP",new We(0,-1)),L(We,"DOWN",new We(0,1)),We);function X(...t){if(t.length===1){if(t[0]instanceof Z)return new Z(t[0].x,t[0].y);if(Array.isArray(t[0])&&t[0].length===2)return new Z(...t[0])}return new Z(...t)}var ot=class Mf{constructor(n,r,s,u){L(this,"x",0);L(this,"y",0);L(this,"w",1);L(this,"h",1);this.x=n,this.y=r,this.w=s,this.h=u}scale(n){return new Mf(this.x+this.w*n.x,this.y+this.h*n.y,this.w*n.w,this.h*n.h)}pos(){return new Z(this.x,this.y)}clone(){return new Mf(this.x,this.y,this.w,this.h)}eq(n){return this.x===n.x&&this.y===n.y&&this.w===n.w&&this.h===n.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};function vt(t,n,r,s){return new ot(t,n,r,s)}var Ou=class Ar{constructor(n,r,s,u){L(this,"a");L(this,"b");L(this,"c");L(this,"d");this.a=n,this.b=r,this.c=s,this.d=u}mul(n){return new Ar(this.a*n.a+this.b*n.c,this.a*n.b+this.b*n.d,this.c*n.a+this.d*n.c,this.c*n.b+this.d*n.d)}transform(n){return X(this.a*n.x+this.b*n.y,this.c*n.x+this.d*n.y)}get inverse(){let n=this.det;return new Ar(this.d/n,-this.b/n,-this.c/n,this.a/n)}get transpose(){return new Ar(this.a,this.c,this.b,this.d)}get eigenvalues(){let n=this.trace/2,r=this.det,s=n+Math.sqrt(n*n-r),u=n-Math.sqrt(n*n-r);return[s,u]}eigenvectors(n,r){return this.c!=0?[[n-this.d,this.c],[r-this.d,this.c]]:this.b!=0?[[this.b,n-this.a],[this.b,r-this.a]]:Math.abs(this.transform(X(1,0)).x-n)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(n){let r=Math.cos(n),s=Math.sin(n);return new Ar(r,s,-s,r)}static scale(n,r){return new Ar(n,0,0,r)}},Us=class Ns{constructor(n,r,s,u,c,h,g,p,d){L(this,"m11");L(this,"m12");L(this,"m13");L(this,"m21");L(this,"m22");L(this,"m23");L(this,"m31");L(this,"m32");L(this,"m33");this.m11=n,this.m12=r,this.m13=s,this.m21=u,this.m22=c,this.m23=h,this.m31=g,this.m32=p,this.m33=d}static fromMat2(n){return new Ns(n.a,n.b,0,n.c,n.d,0,0,0,1)}toMat2(){return new Ou(this.m11,this.m12,this.m21,this.m22)}mul(n){return new Ns(this.m11*n.m11+this.m12*n.m21+this.m13*n.m31,this.m11*n.m12+this.m12*n.m22+this.m13*n.m32,this.m11*n.m13+this.m12*n.m23+this.m13*n.m33,this.m21*n.m11+this.m22*n.m21+this.m23*n.m31,this.m21*n.m12+this.m22*n.m22+this.m23*n.m32,this.m21*n.m13+this.m22*n.m23+this.m23*n.m33,this.m31*n.m11+this.m32*n.m21+this.m33*n.m31,this.m31*n.m12+this.m32*n.m22+this.m33*n.m32,this.m31*n.m13+this.m32*n.m23+this.m33*n.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(n){let r=Math.cos(n),s=Math.sin(n),u=this.m11,c=this.m12;return this.m11=r*this.m11+s*this.m21,this.m12=r*this.m12+s*this.m22,this.m21=r*this.m21-s*u,this.m22=r*this.m22-s*c,this}scale(n,r){return this.m11*=n,this.m12*=n,this.m21*=r,this.m22*=r,this}get inverse(){let n=this.det;return new Ns((this.m22*this.m33-this.m23*this.m32)/n,(this.m13*this.m32-this.m12*this.m33)/n,(this.m12*this.m23-this.m13*this.m22)/n,(this.m23*this.m31-this.m21*this.m33)/n,(this.m11*this.m33-this.m13*this.m31)/n,(this.m13*this.m21-this.m11*this.m23)/n,(this.m21*this.m32-this.m22*this.m31)/n,(this.m12*this.m31-this.m11*this.m32)/n,(this.m11*this.m22-this.m12*this.m21)/n)}get transpose(){return new Ns(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},Zn=class ci{constructor(n){L(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);n&&(this.m=n)}static translate(n){return new ci([1,0,0,0,0,1,0,0,0,0,1,0,n.x,n.y,0,1])}static scale(n){return new ci([n.x,0,0,0,0,n.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(n){n=bt(-n);let r=Math.cos(n),s=Math.sin(n);return new ci([1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1])}static rotateY(n){n=bt(-n);let r=Math.cos(n),s=Math.sin(n);return new ci([r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1])}static rotateZ(n){n=bt(-n);let r=Math.cos(n),s=Math.sin(n);return new ci([r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1])}translate(n){return this.m[12]+=this.m[0]*n.x+this.m[4]*n.y,this.m[13]+=this.m[1]*n.x+this.m[5]*n.y,this.m[14]+=this.m[2]*n.x+this.m[6]*n.y,this.m[15]+=this.m[3]*n.x+this.m[7]*n.y,this}scale(n){return this.m[0]*=n.x,this.m[4]*=n.y,this.m[1]*=n.x,this.m[5]*=n.y,this.m[2]*=n.x,this.m[6]*=n.y,this.m[3]*=n.x,this.m[7]*=n.y,this}rotate(n){n=bt(-n);let r=Math.cos(n),s=Math.sin(n),u=this.m[0],c=this.m[1],h=this.m[4],g=this.m[5];return this.m[0]=u*r+c*s,this.m[1]=-u*s+c*r,this.m[4]=h*r+g*s,this.m[5]=-h*s+g*r,this}mult(n){let r=[];for(let s=0;s<4;s++)for(let u=0;u<4;u++)r[s*4+u]=this.m[0*4+u]*n.m[s*4+0]+this.m[1*4+u]*n.m[s*4+1]+this.m[2*4+u]*n.m[s*4+2]+this.m[3*4+u]*n.m[s*4+3];return new ci(r)}multVec2(n){return new Z(n.x*this.m[0]+n.y*this.m[4]+this.m[12],n.x*this.m[1]+n.y*this.m[5]+this.m[13])}getTranslation(){return new Z(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],r=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(r,n/r)}else if(this.m[4]!=0||this.m[5]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],r=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(n/r,r)}else return new Z(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return va(this.m[1]>0?Math.acos(this.m[0]/n):-Math.acos(this.m[0]/n))}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return va(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/n):-Math.acos(this.m[4]/n)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n),0)}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n))}else return new Z(0,0)}invert(){let n=[],r=this.m[10]*this.m[15]-this.m[14]*this.m[11],s=this.m[9]*this.m[15]-this.m[13]*this.m[11],u=this.m[9]*this.m[14]-this.m[13]*this.m[10],c=this.m[8]*this.m[15]-this.m[12]*this.m[11],h=this.m[8]*this.m[14]-this.m[12]*this.m[10],g=this.m[8]*this.m[13]-this.m[12]*this.m[9],p=this.m[6]*this.m[15]-this.m[14]*this.m[7],d=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],x=this.m[4]*this.m[15]-this.m[12]*this.m[7],m=this.m[4]*this.m[14]-this.m[12]*this.m[6],S=this.m[5]*this.m[15]-this.m[13]*this.m[7],b=this.m[4]*this.m[13]-this.m[12]*this.m[5],C=this.m[6]*this.m[11]-this.m[10]*this.m[7],E=this.m[5]*this.m[11]-this.m[9]*this.m[7],T=this.m[5]*this.m[10]-this.m[9]*this.m[6],_=this.m[4]*this.m[11]-this.m[8]*this.m[7],G=this.m[4]*this.m[10]-this.m[8]*this.m[6],$=this.m[4]*this.m[9]-this.m[8]*this.m[5];n[0]=this.m[5]*r-this.m[6]*s+this.m[7]*u,n[4]=-(this.m[4]*r-this.m[6]*c+this.m[7]*h),n[8]=this.m[4]*s-this.m[5]*c+this.m[7]*g,n[12]=-(this.m[4]*u-this.m[5]*h+this.m[6]*g),n[1]=-(this.m[1]*r-this.m[2]*s+this.m[3]*u),n[5]=this.m[0]*r-this.m[2]*c+this.m[3]*h,n[9]=-(this.m[0]*s-this.m[1]*c+this.m[3]*g),n[13]=this.m[0]*u-this.m[1]*h+this.m[2]*g,n[2]=this.m[1]*p-this.m[2]*d+this.m[3]*v,n[6]=-(this.m[0]*p-this.m[2]*x+this.m[3]*m),n[10]=this.m[0]*S-this.m[1]*x+this.m[3]*b,n[14]=-(this.m[0]*v-this.m[1]*m+this.m[2]*b),n[3]=-(this.m[1]*C-this.m[2]*E+this.m[3]*T),n[7]=this.m[0]*C-this.m[2]*_+this.m[3]*G,n[11]=-(this.m[0]*E-this.m[1]*_+this.m[3]*$),n[15]=this.m[0]*T-this.m[1]*G+this.m[2]*$;let F=this.m[0]*n[0]+this.m[1]*n[4]+this.m[2]*n[8]+this.m[3]*n[12];for(let q=0;q<4;q++)for(let B=0;B<4;B++)n[q*4+B]*=1/F;return new ci(n)}clone(){return new ci([...this.m])}toString(){return this.m.toString()}};function vy(t,n,r,s=u=>-Math.cos(u)){return t+(s(r)+1)/2*(n-t)}var Sw=1103515245,Tw=12345,Sg=2147483648,by=class{constructor(t){L(this,"seed");this.seed=t}gen(){return this.seed=(Sw*this.seed+Tw)%Sg,this.seed/Sg}genNumber(t,n){return t+this.gen()*(n-t)}genVec2(t,n){return new Z(this.genNumber(t.x,n.x),this.genNumber(t.y,n.y))}genColor(t,n){return new _e(this.genNumber(t.r,n.r),this.genNumber(t.g,n.g),this.genNumber(t.b,n.b))}genAny(...t){if(t.length===0)return this.gen();if(t.length===1){if(typeof t[0]=="number")return this.genNumber(0,t[0]);if(t[0]instanceof Z)return this.genVec2(X(0,0),t[0]);if(t[0]instanceof _e)return this.genColor(Xe(0,0,0),t[0])}else if(t.length===2){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.genNumber(t[0],t[1]);if(t[0]instanceof Z&&t[1]instanceof Z)return this.genVec2(t[0],t[1]);if(t[0]instanceof _e&&t[1]instanceof _e)return this.genColor(t[0],t[1])}throw new Error("More than 2 arguments not supported")}},Rf=new by(Date.now());function Mw(t){return t!=null&&(Rf.seed=t),Rf.seed}function Ct(...t){return Rf.genAny(...t)}function Ay(...t){return Math.floor(Ct(...t.length>0?t:[2]))}function Rw(t){return Ct()<=t}function wy(t){for(let n=t.length-1;n>0;n--){let r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Ow(t,n){return t.length<=n?t.slice():wy(t.slice()).slice(0,n)}function Cw(t){return t[Ay(t.length)]}function xy(t,n){return t.pos.x+t.width>n.pos.x&&t.pos.x<n.pos.x+n.width&&t.pos.y+t.height>n.pos.y&&t.pos.y<n.pos.y+n.height}function qw(t,n){if(t.p1.x===t.p2.x&&t.p1.y===t.p2.y||n.p1.x===n.p2.x&&n.p1.y===n.p2.y)return null;let r=(n.p2.y-n.p1.y)*(t.p2.x-t.p1.x)-(n.p2.x-n.p1.x)*(t.p2.y-t.p1.y);if(r===0)return null;let s=((n.p2.x-n.p1.x)*(t.p1.y-n.p1.y)-(n.p2.y-n.p1.y)*(t.p1.x-n.p1.x))/r,u=((t.p2.x-t.p1.x)*(t.p1.y-n.p1.y)-(t.p2.y-t.p1.y)*(t.p1.x-n.p1.x))/r;return s<0||s>1||u<0||u>1?null:s}function nh(t,n){let r=qw(t,n);return r?X(t.p1.x+r*(t.p2.x-t.p1.x),t.p1.y+r*(t.p2.y-t.p1.y)):null}function ih(t,n){let r=n.p2.sub(n.p1),s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(r.x!=0){let c=(t.pos.x-n.p1.x)/r.x,h=(t.pos.x+t.width-n.p1.x)/r.x;s=Math.max(s,Math.min(c,h)),u=Math.min(u,Math.max(c,h))}if(r.y!=0){let c=(t.pos.y-n.p1.y)/r.y,h=(t.pos.y+t.height-n.p1.y)/r.y;s=Math.max(s,Math.min(c,h)),u=Math.min(u,Math.max(c,h))}return u>=s&&u>=0&&s<=1}function Gu(t,n){return n.x>t.pos.x&&n.x<t.pos.x+t.width&&n.y>t.pos.y&&n.y<t.pos.y+t.height}function Ey(t,n){let r=Math.max(t.pos.x,Math.min(n.center.x,t.pos.x+t.width)),s=Math.max(t.pos.y,Math.min(n.center.y,t.pos.y+t.height));return X(r,s).sdist(n.center)<=n.radius*n.radius}function Sy(t,n){return Ty(n,new Zt(t.points()))}function ah(t,n){let r=n.sub(t.p1),s=t.p2.sub(t.p1);if(Math.abs(r.cross(s))>Number.EPSILON)return!1;let u=r.dot(s)/s.dot(s);return u>=0&&u<=1}function $s(t,n){let r=t.p2.sub(t.p1),s=r.dot(r),u=t.p1.sub(n.center),c=2*r.dot(u),h=u.dot(u)-n.radius*n.radius,g=c*c-4*s*h;if(s<=Number.EPSILON||g<0)return!1;if(g==0){let p=-c/(2*s);if(p>=0&&p<=1)return!0}else{let p=(-c+Math.sqrt(g))/(2*s),d=(-c-Math.sqrt(g))/(2*s);if(p>=0&&p<=1||d>=0&&d<=1)return!0}return Vu(n,t.p1)}function rh(t,n){if(Ki(n,t.p1)||Ki(n,t.p2))return!0;for(let r=0;r<n.pts.length;r++){let s=n.pts[r],u=n.pts[(r+1)%n.pts.length];if(nh(t,new ln(s,u)))return!0}return!1}function Vu(t,n){return t.center.sdist(n)<t.radius*t.radius}function Dw(t,n){return t.center.sdist(n.center)<(t.radius+n.radius)*(t.radius+n.radius)}function Xu(t,n){let r=n.pts[n.pts.length-1];for(let s of n.pts){if($s(new ln(r,s),t))return!0;r=s}return Vu(t,n.pts[0])?!0:Ki(n,t.center)}function Ty(t,n){for(let r=0;r<t.pts.length;r++)if(rh(new ln(t.pts[r],t.pts[(r+1)%t.pts.length]),n))return!0;return!!(t.pts.some(r=>Ki(n,r))||n.pts.some(r=>Ki(t,r)))}function Ki(t,n){let r=!1,s=t.pts;for(let u=0,c=s.length-1;u<s.length;c=u++)s[u].y>n.y!=s[c].y>n.y&&n.x<(s[c].x-s[u].x)*(n.y-s[u].y)/(s[c].y-s[u].y)+s[u].x&&(r=!r);return r}function sh(t,n){n=n.sub(t.center);let r=bt(t.angle),s=Math.cos(r),u=Math.sin(r),c=n.x*s+n.y*u,h=-n.x*u+n.y*s;return c*c/(t.radiusX*t.radiusX)+h*h/(t.radiusY*t.radiusY)<1}function Cu(t,n){let r=n.center.sub(t.center),s=bt(t.angle),u=Math.cos(s),c=Math.sin(s),h=r.x*u+r.y*c,g=-r.x*c+r.y*u;return sh(new pi(X(),t.radiusX+n.radius,t.radiusY+n.radius,0),X(h,g))}function My(t,n){let r=t.toMat2().inverse;return n=new ln(r.transform(n.p1.sub(t.center)),r.transform(n.p2.sub(t.center))),$s(n,new sn(X(),1))}function Bw(t,n){if(t.radiusX===t.radiusY)return Cu(n,new sn(t.center,t.radiusX));if(n.radiusX===n.radiusY)return Cu(t,new sn(n.center,n.radiusX));let r=new Us(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),s=new Us(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),u=t.center.x,c=t.center.y,h=n.center.x,g=n.center.y,p=bt(t.angle),d=bt(n.angle),v=new Us(Math.cos(p),-Math.sin(p),u,Math.sin(p),Math.cos(p),c,0,0,1),x=new Us(Math.cos(d),-Math.sin(d),h,Math.sin(d),Math.cos(d),g,0,0,1),m=v.inverse,S=x.inverse,b=m.transpose.mul(r).mul(m),C=S.transpose.mul(s).mul(S),E=b.m11,T=b.m12,_=b.m13,G=b.m21,$=b.m22,F=b.m23,q=b.m31,B=b.m32,H=b.m33,W=C.m11,ie=C.m12,ae=C.m13,ue=C.m21,pe=C.m22,we=C.m23,be=C.m31,z=C.m32,te=C.m33,se=E*$*H-E*F*B-T*G*H+T*F*q+_*G*B-_*$*q,ce=(E*$*te-E*F*z-E*B*we+E*H*pe-T*G*te+T*F*be+T*q*we-T*H*ue+_*G*z-_*$*be-_*q*pe+_*B*ue+G*B*ae-G*H*ie-$*q*ae+$*H*W+F*q*ie-F*B*W)/se,M=(E*pe*te-E*we*z-T*ue*te+T*we*be+_*ue*z-_*pe*be-G*ie*te+G*ae*z+$*W*te-$*ae*be-F*W*z+F*ie*be+q*ie*we-q*ae*pe-B*W*we+B*ae*ue+H*W*pe-H*ie*ue)/se,K=(W*pe*te-W*we*z-ie*ue*te+ie*we*be+ae*ue*z-ae*pe*be)/se;if(ce>=0){let ne=-3*M+ce**2,re=3*ce*K+M*ce**2-4*M**2,fe=-27*K**2+18*K*ce*M+ce**2*M**2-4*ce**3*K-4*M**3;return!(ne>0&&re<0&&fe>0)}else{let ne=-3*M+ce**2,re=-27*K**2+18*K*ce*M+ce**2*M**2-4*ce**3*K-4*M**3;return!(ne>0&&re>0)}}function Ry(t,n){return lh(t,new Zt(n.points()))}function lh(t,n){let r=t.toMat2().inverse;return n=new Zt(n.pts.map(s=>r.transform(s.sub(t.center)))),Xu(new sn(X(),1),n)}function _w(t,n){return t.x===n.x&&t.y===n.y}function Uw(t,n){return n instanceof Z?_w(n,t.pt):n instanceof sn?Vu(n,t.pt):n instanceof ln?ah(n,t.pt):n instanceof nt?Gu(n,t.pt):n instanceof Zt?Ki(n,t.pt):n instanceof pi?sh(n,t.pt):!1}function Nw(t,n){return n instanceof Z?ah(t,n):n instanceof sn?$s(t,n):n instanceof ln?nh(t,n)!=null:n instanceof nt?ih(n,t):n instanceof Zt?rh(t,n):n instanceof pi?My(n,t):!1}function zw(t,n){return n instanceof Z?Vu(t,n):n instanceof sn?Dw(t,n):n instanceof ln?$s(n,t):n instanceof nt?Ey(n,t):n instanceof Zt?Xu(t,n):n instanceof pi?Cu(n,t):!1}function Lw(t,n){return n instanceof Z?Gu(t,n):n instanceof sn?Ey(t,n):n instanceof ln?ih(t,n):n instanceof nt?xy(t,n):n instanceof Zt?Sy(t,n):n instanceof pi?Ry(n,t):!1}function Hw(t,n){return n instanceof Z?Ki(t,n):n instanceof sn?Xu(n,t):n instanceof ln?rh(n,t):n instanceof nt?Sy(n,t):n instanceof Zt?Ty(n,t):n instanceof pi?lh(n,t):!1}function jw(t,n){return n instanceof Z?sh(t,n):n instanceof sn?Cu(t,n):n instanceof ln?My(t,n):n instanceof nt?Ry(t,n):n instanceof Zt?lh(t,n):n instanceof pi?Bw(n,t):!1}function Oy(t,n,r){let s=t,u=r.p1,c=r.p2,h=n,g=c.sub(u),p=h.cross(g);if(Math.abs(p)<Number.EPSILON)return null;let d=u.sub(s),v=d.cross(g)/p;if(v<=0||v>=1)return null;let x=d.cross(h)/p;if(x<=0||x>=1)return null;let m=g.normal().unit();return n.dot(m)>0&&(m.x*=-1,m.y*=-1),{point:s.add(h.scale(v)),normal:m,fraction:v}}function Yw(t,n,r){let s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,c;if(t.x!=0){let h=(r.pos.x-t.x)/n.x,g=(r.pos.x+r.width-t.x)/n.x;c=X(-Math.sign(n.x),0),s=Math.max(s,Math.min(h,g)),u=Math.min(u,Math.max(h,g))}if(t.y!=0){let h=(r.pos.y-t.y)/n.y,g=(r.pos.y+r.height-t.y)/n.y;Math.min(h,g)>s&&(c=X(0,-Math.sign(n.y))),s=Math.max(s,Math.min(h,g)),u=Math.min(u,Math.max(h,g))}return u>=s&&s>=0&&s<=1?{point:t.add(n.scale(s)),normal:c,fraction:s}:null}function Cy(t,n,r){let s=t,u=r.center,c=n,h=c.dot(c),g=s.sub(u),p=2*c.dot(g),d=g.dot(g)-r.radius*r.radius,v=p*p-4*h*d;if(h<=Number.EPSILON||v<0)return null;if(v==0){let x=-p/(2*h);if(x>=0&&x<=1){let m=s.add(c.scale(x));return{point:m,normal:m.sub(u),fraction:x}}}else{let x=(-p+Math.sqrt(v))/(2*h),m=(-p-Math.sqrt(v))/(2*h),S=null;if(x>=0&&x<=1&&(S=x),m>=0&&m<=1&&(S=Math.min(m,S??m)),S!=null){let b=s.add(c.scale(S));return{point:b,normal:b.sub(u).unit(),fraction:S}}}return null}function Gw(t,n,r){let s=r.pts,u=null,c=s[s.length-1];for(let h=0;h<s.length;h++){let g=s[h],p=Oy(t,n,new ln(c,g));p&&(!u||u.fraction>p.fraction)&&(u=p),c=g}return u}function Vw(t,n,r){let s=r.toMat2(),u=s.inverse,c=u.transform(t.sub(r.center)),h=u.transform(n),g=Cy(c,h,new sn(X(),1));if(g){let p=Ou.rotation(bt(-r.angle)),d=Ou.scale(r.radiusX,r.radiusY).transform(g.point),v=s.transform(g.point).add(r.center),x=v.dist(t)/n.len();return{point:v,normal:p.transform(X(r.radiusY**2*d.x,r.radiusX**2*d.y)).unit(),fraction:x}}return g}function Xw(t,n,r,s=64){let u=t,c=n.len(),h=n.scale(1/c),g=0,p=X(Math.floor(t.x),Math.floor(t.y)),d=X(h.x>0?1:-1,h.y>0?1:-1),v=X(Math.abs(1/h.x),Math.abs(1/h.y)),x=X(d.x>0?p.x+1-t.x:t.x-p.x,d.y>0?p.y+1-t.y:t.y-p.y),m=X(v.x<1/0?v.x*x.x:1/0,v.y<1/0?v.y*x.y:1/0),S=-1;for(;g<=s;){let b=r(p);if(b===!0)return{point:u.add(h.scale(g)),normal:X(S===0?-d.x:0,S===1?-d.y:0),fraction:g/c,gridPos:p};if(b)return b;m.x<m.y?(p.x+=d.x,g=m.x,m.x+=v.x,S=0):(p.y+=d.y,g=m.y,m.y+=v.y,S=1)}return null}var Qw=class Of{constructor(n){L(this,"pt");this.pt=n.clone()}transform(n){return new Of(n.multVec2(this.pt))}bbox(){return new nt(this.pt,0,0)}area(){return 0}clone(){return new Of(this.pt)}collides(n){return Uw(this,n)}contains(n){return this.pt.eq(n)}raycast(n,r){return null}random(){return this.pt.clone()}},ln=class Cf{constructor(n,r){L(this,"p1");L(this,"p2");this.p1=n.clone(),this.p2=r.clone()}transform(n){return new Cf(n.multVec2(this.p1),n.multVec2(this.p2))}bbox(){return nt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Cf(this.p1,this.p2)}collides(n){return Nw(this,n)}contains(n){return this.collides(n)}raycast(n,r){return Oy(n,r,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(Ct(1)))}},nt=class qf{constructor(n,r,s){L(this,"pos");L(this,"width");L(this,"height");this.pos=n.clone(),this.width=r,this.height=s}static fromPoints(n,r){return new qf(n.clone(),r.x-n.x,r.y-n.y)}center(){return new Z(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(n){return new Zt(this.points().map(r=>n.multVec2(r)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new qf(this.pos.clone(),this.width,this.height)}distToPoint(n){return Math.sqrt(this.sdistToPoint(n))}sdistToPoint(n){let r=this.pos,s=this.pos.add(this.width,this.height),u=Math.max(r.x-n.x,0,n.x-s.x),c=Math.max(r.y-n.y,0,n.y-s.y);return u*u+c*c}collides(n){return Lw(this,n)}contains(n){return this.collides(n)}raycast(n,r){return Yw(n,r,this)}random(){return this.pos.add(Ct(this.width),Ct(this.height))}},sn=class qy{constructor(n,r){L(this,"center");L(this,"radius");this.center=n.clone(),this.radius=r}transform(n){return new pi(this.center,this.radius,this.radius).transform(n)}bbox(){return nt.fromPoints(this.center.sub(X(this.radius)),this.center.add(X(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new qy(this.center,this.radius)}collides(n){return zw(this,n)}contains(n){return this.collides(n)}raycast(n,r){return Cy(n,r,this)}random(){return this.center.add(Z.fromAngle(Ct(360)).scale(Ct(this.radius)))}},pi=class wr{constructor(n,r,s,u=0){L(this,"center");L(this,"radiusX");L(this,"radiusY");L(this,"angle");this.center=n.clone(),this.radiusX=r,this.radiusY=s,this.angle=u}static fromMat2(n){let r=n.inverse,s=r.transpose.mul(r),[u,c]=s.eigenvalues,[h,g]=s.eigenvectors(u,c),[p,d]=[1/Math.sqrt(u),1/Math.sqrt(c)];return p>d?new wr(X(),p,d,va(Math.atan2(-h[1],h[0]))):new wr(X(),d,p,va(Math.atan2(-g[1],g[0])))}toMat2(){let n=bt(this.angle),r=Math.cos(n),s=Math.sin(n);return new Ou(r*this.radiusX,-s*this.radiusY,s*this.radiusX,r*this.radiusY)}transform(n){if(this.angle==0&&n.getRotation()==0)return new wr(n.multVec2(this.center),n.m[0]*this.radiusX,n.m[5]*this.radiusY);{let r=this.toMat2(),s=n.getRotation(),u=n.getScale();r=Us.fromMat2(r).scale(u.x,u.y).rotate(s).toMat2();let c=wr.fromMat2(r);return c.center=n.multVec2(this.center),c}}bbox(){if(this.angle==0)return nt.fromPoints(this.center.sub(X(this.radiusX,this.radiusY)),this.center.add(X(this.radiusX,this.radiusY)));{let n=bt(this.angle),r=Math.cos(n),s=Math.sin(n),u=this.radiusX*r,c=this.radiusX*s,h=this.radiusY*s,g=this.radiusY*r,p=Math.sqrt(u*u+h*h),d=Math.sqrt(c*c+g*g);return nt.fromPoints(this.center.sub(X(p,d)),this.center.add(X(p,d)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new wr(this.center,this.radiusX,this.radiusY,this.angle)}collides(n){return jw(this,n)}contains(n){n=n.sub(this.center);let r=bt(this.angle),s=Math.cos(r),u=Math.sin(r),c=n.x*s+n.y*u,h=-n.x*u+n.y*s;return c*c/(this.radiusX*this.radiusX)+h*h/(this.radiusY*this.radiusY)<1}raycast(n,r){return Vw(n,r,this)}random(){return this.center}};function Kw(t,n,r,s){let u=n.sub(t),c=s.sub(r),h=u.cross(c);return h<1e-5&&h>-1e-5||(h=r.sub(t).cross(c)/h,h<0||h>1)?null:t.add(u.scale(h))}var Zt=class zs{constructor(n){L(this,"pts");if(n.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=n}transform(n){return new zs(this.pts.map(r=>n.multVec2(r)))}bbox(){let n=X(Number.MAX_VALUE),r=X(-Number.MAX_VALUE);for(let s of this.pts)n.x=Math.min(n.x,s.x),r.x=Math.max(r.x,s.x),n.y=Math.min(n.y,s.y),r.y=Math.max(r.y,s.y);return nt.fromPoints(n,r)}area(){let n=0,r=this.pts.length;for(let s=0;s<r;s++){let u=this.pts[s],c=this.pts[(s+1)%r];n+=u.x*c.y*.5,n-=c.x*u.y*.5}return Math.abs(n)}clone(){return new zs(this.pts.map(n=>n.clone()))}collides(n){return Hw(this,n)}contains(n){return this.collides(n)}raycast(n,r){return Gw(n,r,this)}random(){return X()}cut(n,r){new ln(n,r);let s=[],u=[],c=r.sub(n),h=this.pts[this.pts.length-1],g=h.sub(n),p=c.cross(g)>0;return this.pts.forEach(d=>{g=d.sub(n);let v=c.cross(g)>0;if(p!=v){let x=Kw(h,d,n,r);s.push(x),u.push(x),p=v}(v?s:u).push(d),h=d}),[s.length?new zs(s):null,u.length?new zs(u):null]}};function Zw(t,n,r,s){let u=s*s,c=1-s,h=c*c;return t.scale(h).add(n.scale(2*c*s)).add(r.scale(u))}function Fw(t,n,r,s){let u=1-s;return n.sub(t).scale(2*u).add(r.sub(n).scale(2*s))}function kw(t,n,r,s){return r.sub(n.scale(2)).add(t).scale(2)}function uh(t,n,r,s,u){let c=u*u,h=c*u,g=1-u,p=g*g,d=p*g;return t.scale(d).add(n.scale(3*p*u)).add(r.scale(3*g*c)).add(s.scale(h))}function Jw(t,n,r,s,u){let c=u*u,h=1-u,g=h*h;return n.sub(t).scale(3*g).add(r.sub(n).scale(6*h*u)).add(s.sub(r).scale(3*c))}function Pw(t,n,r,s,u){let c=1-u;return r.sub(n.scale(2)).add(t).scale(6*c).add(s.sub(r.scale(2)).add(n).scale(6*u))}function Iw(t,n,r,s,u){let c=.5*(((-u+2)*u-1)*u),h=.5*((3*u-5)*u*u+2),g=.5*(((-3*u+4)*u+1)*u),p=.5*((u-1)*u*u);return t.scale(c).add(n.scale(h)).add(r.scale(g)).add(s.scale(p))}function Ww(t,n,r,s,u){let c=.5*((-3*u+4)*u-1),h=.5*((9*u-10)*u),g=.5*((-9*u+8)*u+1),p=.5*((3*u-2)*u);return t.scale(c).add(n.scale(h)).add(r.scale(g)).add(s.scale(p))}function $w(t){let n=Dy(t),r=n(1);return s=>{let u=s*r,c=n(u,!0);return t(c)}}function Dy(t,n=10,r=10){let s=[0],u=[0],c=1/(n-1)/r,h=0,g=t(0),p=0;for(let d=1;d<n;d++){for(let v=0;v<r;v++){p+=c;let x=t(p),m=x.dist(g);h+=m,g=x}s[d]=h,u[d]=p}return u[n-1]=1,(d,v=!1)=>{if(v){let x=d;if(x<=0)return 0;if(x>=h)return 1;let m=0;for(;s[m+1]<x;)m++;let S=u[m],b=u[m+1],C=s[m],E=s[m+1],T=(x-C)/(E-C);return S+(b-S)*T}else{if(d<=0)return 0;if(d>=1)return s[n-1];let x=0;for(;u[x+1]<d;)x++;let m=u[x],S=u[x+1],b=s[x],C=s[x+1],E=(d-m)/(S-m);return b+(C-b)*E}}}function el(t,n,r,s){let u=2*t+n-2*s+r,c=-3*t+3*s-2*n-r,h=n,g=t;return p=>{let d=p*p,v=d*p;return u*v+c*d+h*p+g}}function By(t,n,r,s,u,c=el){let h=c(n.x,(1-u)*(r.x-t.x),(1-u)*(s.x-n.x),r.x),g=c(n.y,(1-u)*(r.y-t.y),(1-u)*(s.y-n.y),r.y);return p=>new Z(h(p),g(p))}function qu(t,n,r,s,u=el){return By(t,n,r,s,.5,u)}function e2(t,n,r,s,u=el){return qu(s.add(t.sub(n).scale(6)),t,s,t.add(s.sub(r).scale(6)),u)}function t2(t,n,r,s,u,c,h,g=el){let p=g(n.x,.5*(1-u)*(1+h)*(1+c)*(n.x-t.x)+.5*(1-u)*(1-h)*(1-c)*(r.x-n.x),.5*(1-u)*(1+h)*(1-c)*(r.x-n.x)+.5*(1-u)*(1-h)*(1+c)*(s.x-r.x),r.x),d=g(n.y,.5*(1-u)*(1+h)*(1+c)*(n.y-t.y)+.5*(1-u)*(1-h)*(1-c)*(r.y-n.y),.5*(1-u)*(1+h)*(1-c)*(r.y-n.y)+.5*(1-u)*(1-h)*(1+c)*(s.y-r.y),r.y);return v=>new Z(p(v),d(v))}function n2(t,n,r,s){let u=2*t+n-2*s+r,c=-3*t+3*s-2*n+r,h=n;return g=>{let p=g*g;return 3*u*p+2*c*g+h}}function Ds(t){return 0<=t&&t<=1}function mf(t,n){return Math.abs(t-n)<=Number.EPSILON}function Bs(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function i2(t,n,r,s){let u=3*t-6*n+3*r,c=-3*t+3*n,h=t,g=-t+3*n-3*r+s;if(mf(g,0)){if(mf(u,0))return mf(c,0)?[]:[-h/c].filter(Ds);let E=Math.sqrt(c*c-4*u*h),T=2*u;return[(E-c)/T,(-c-E)/T].filter(Ds)}u/=g,c/=g,h/=g;let p=(3*c-u*u)/3,d=p/3,v=(2*u*u*u-9*u*c+27*h)/27,x=v/2,m=x*x+d*d*d;if(m<0){let E=-p/3,T=E*E*E,_=Math.sqrt(T),G=-v/(2*_),$=G<-1?-1:G>1?1:G,F=Math.acos($),q=2*Bs(_),B=q*Math.cos(F/3)-u/3,H=q*Math.cos((F+2*Math.PI)/3)-u/3,W=q*Math.cos((F+4*Math.PI)/3)-u/3;return[B,H,W].filter(Ds)}if(m===0){let E=x<0?Bs(-x):-Bs(x),T=2*E-u/3,_=-E-u/3;return[T,_].filter(Ds)}let S=Math.sqrt(m),b=Bs(S-x),C=Bs(S+x);return[b-C-u/3].filter(Ds)}function a2(t,n,r,s,u){let c=i2(t.x-u,n.x-u,r.x-u,s.x-u);return c.length>0?uh(t,n,r,s,c[0]).y:NaN}function r2(t){if(!t||t.length==0)throw new Error("Need at least one point for easingLinear.");let n=t.length;return r=>{if(r<=0||t.length==1||r<=t[0].x)return t[0].y;for(let s=0;s<n;s++)if(t[s].x>=r)return Xn(r,t[s-1].x,t[s].x,t[s-1].y,t[s].y);return t[t.length-1].y}}function s2(t,n){return r=>a2(X(0,0),t,n,X(1,1),r)}function l2(t,n="jump-end"){let r=1/t,s=n=="jump-start"||n=="jump-both",u=n=="jump-end"||n=="jump-both",c=1/(t+(u?1:0)),h=s?c:0;return g=>{let p=Math.floor(g/r);return h+p*c}}function u2(t,n){let r=Number.MAX_VALUE,s={normal:X(0),distance:0};for(let u of[t,n])for(let c=0;c<u.pts.length;c++){let h=u.pts[c],g=u.pts[(c+1)%u.pts.length].sub(h).normal().unit(),p=Number.MAX_VALUE,d=-Number.MAX_VALUE;for(let S=0;S<t.pts.length;S++){let b=t.pts[S].dot(g);p=Math.min(p,b),d=Math.max(d,b)}let v=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(let S=0;S<n.pts.length;S++){let b=n.pts[S].dot(g);v=Math.min(v,b),x=Math.max(x,b)}let m=Math.min(d,x)-Math.max(p,v);if(m<0)return null;if(m<Math.abs(r)){let S=x-p,b=v-d;r=Math.abs(S)<Math.abs(b)?S:b,s.normal=g,s.distance=r}}return s}function _y(t,n,r){return(n.x-t.x)*(r.y-t.y)-(n.y-t.y)*(r.x-t.x)>=0}function o2(t){let n=0,r=t[t.length-1];for(let s=0;s<t.length;s++)n+=(t[s].x-r.x)*(t[s].y+r.y),r=t[s];return n<0}function gf(t,n,r,s){let u=s.x-r.x,c=s.y-r.y,h=u*(t.y-r.y)-c*(t.x-r.x),g=u*(n.y-r.y)-c*(n.x-r.x);return h*g>=0}function c2(t,n,r,s){return gf(t,n,r,s)&&gf(t,r,n,s)&&gf(t,s,n,r)}function f2(t,n,r,s){for(let u of t)if(u!==n&&u!==r&&u!==s&&c2(u,n,r,s))return!0;return!1}function h2(t,n,r,s){return _y(t,n,r)&&!f2(s,t,n,r)}function Uy(t){if(t.length<3)return[];if(t.length==3)return[t];let n=[],r=[],s=0;for(let x=0;x<t.length;x++){let m=t[s],S=t[x];(S.x<m.x||S.x==m.x&&S.y<m.y)&&(s=s),n[x]=x+1,r[x]=x-1}n[n.length-1]=0,r[0]=r.length-1,o2(t)||([n,r]=[r,n]);let u=[];for(let x=0;x<t.length;++x)_y(t[r[x]],t[x],t[n[x]])||u.push(t[x]);let c=[],h=t.length,g=1,p=0,d,v;for(;h>3;){d=n[g],v=r[g];let x=t[v],m=t[g],S=t[d];if(h2(x,m,S,u))c.push([x,m,S]),n[v]=d,r[d]=v,u.splice(u.indexOf(m),1),--h,p=0;else if(++p>h)return[];g=d}return d=n[g],v=r[g],c.push([t[v],t[g],t[d]]),c}function d2(t){if(t.length<3)return!1;let n=t.length-2,r=t.length-1,s=0,u=t[r].sub(t[n]),c=t[s].sub(t[r]),h=u.cross(c);for(;s+1<t.length;)if(n=r,r=s,s++,u=t[r].sub(t[n]),c=t[s].sub(t[r]),u.cross(c)*h<0)return!1;return!0}var Ny=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Qu="topleft",p2="monospace",Du="monospace",Df="linear",oh=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],m2=oh.reduce((t,n)=>t+n.size,0),zy=2048,g2=zy*4*m2,y2=zy*6,v2=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,b2=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Bf=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,_f=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,A2=new Set(["id","require"]),w2=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Tg=200,x2=640,E2=65536,Ly=Symbol.for("kaplay.cancel"),Hy=class extends Map{constructor(){super(...arguments);L(this,"lastID",0)}push(n){let r=this.lastID;return this.set(r,n),this.lastID++,r}pushd(n){let r=this.push(n);return()=>this.delete(r)}},Ta=class jy{constructor(n){L(this,"paused",!1);L(this,"cancel");this.cancel=n}static join(n){let r=new jy(()=>n.forEach(s=>s.cancel()));return Object.defineProperty(r,"paused",{get:()=>n[0].paused,set:s=>n.forEach(u=>u.paused=s)}),r.paused=!1,r}static replace(n,r){return n.cancel=()=>r.cancel(),r.paused=n.paused,Object.defineProperty(n,"paused",{get:()=>r.paused,set:s=>r.paused=s}),n}},Kt=class{constructor(){L(this,"cancellers",new WeakMap);L(this,"handlers",new Hy)}add(t){function n(...u){if(!s.paused)return t(...u)}let r=this.handlers.pushd(n),s=new Ta(r);return this.cancellers.set(n,r),s}addOnce(t){let n=this.add((...r)=>{n.cancel(),t(...r)});return n}next(){return new Promise(t=>this.addOnce(t))}trigger(...t){this.handlers.forEach(n=>{let r=n(...t),s;r===Ly&&(s=this.cancellers.get(n))&&s()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},Ks=class{constructor(){L(this,"handlers",{});L(this,"registers",{})}on(t,n){return this.handlers[t]||(this.handlers[t]=new Kt),this.handlers[t].add(n)}onOnce(t,n){let r=this.on(t,(...s)=>{r.cancel(),n(...s)});return r}next(t){return new Promise(n=>{this.onOnce(t,(...r)=>n(r[0]))})}trigger(t,...n){this.handlers[t]&&this.handlers[t].trigger(...n)}remove(t){delete this.handlers[t]}clear(){this.handlers={}}numListeners(t){var n;return((n=this.handlers[t])==null?void 0:n.numListeners())??0}},S2=t=>t[0]instanceof _e,T2=t=>t[0]instanceof Z,M2=t=>typeof t[0]=="number",Yy=class{constructor(t=(n,r)=>n<r){L(this,"_items");L(this,"_compareFn");this._compareFn=t,this._items=[]}insert(t){this._items.push(t),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let t=this._items[0],n=this._items.pop();return this._items.length!==0&&(this._items[0]=n,this.moveDown(0)),t}clear(){this._items.splice(0,this._items.length)}moveUp(t){for(;t>0;){let n=Math.floor((t-1)/2);if(!this._compareFn(this._items[t],this._items[n])&&this._items[t]>=this._items[n])break;this.swap(t,n),t=n}}moveDown(t){for(;t<Math.floor(this._items.length/2);){let n=2*t+1;if(n<this._items.length-1&&!this._compareFn(this._items[n],this._items[n+1])&&++n,this._compareFn(this._items[t],this._items[n]))break;this.swap(t,n),t=n}}swap(t,n){[this._items[t],this._items[n]]=[this._items[n],this._items[t]]}get length(){return this._items.length}};function R2(t){let n=window.atob(t),r=n.length,s=new Uint8Array(r);for(let u=0;u<r;u++)s[u]=n.charCodeAt(u);return s.buffer}function O2(t){return R2(t.split(",")[1])}function ch(t,n){let r=document.createElement("a");r.href=n,r.download=t,r.click()}function Gy(t,n){ch(t,"data:text/plain;charset=utf-8,"+n)}function C2(t,n){Gy(t,JSON.stringify(n))}function Mg(t,n){let r=URL.createObjectURL(n);ch(t,r),URL.revokeObjectURL(r)}var Vy=t=>t.match(/^data:\w+\/\w+;base64,.+/),q2=t=>t.split(".").slice(0,-1).join(".");function fh(t,n){if(t===n)return!0;let r=typeof t,s=typeof n;if(r!==s)return!1;if(r==="object"&&s==="object"&&t!==null&&n!==null){if(Array.isArray(t)!==Array.isArray(n))return!1;let u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;for(let h of u){let g=t[h],p=n[h];if(!fh(g,p))return!1}return!0}return!1}var Rg=new Set,D2=t=>t instanceof Error?t.message:String(t);function B2(t){Rg.has(t)||(Rg.add(t),console.warn(t))}function Tr(t,n){B2(`${t} is deprecated. Use ${n} instead.`)}function Uf(t,n){return Number(t.toFixed(n))}function at(t,n){return(...r)=>{let s=r.length;if(s===t.length)return t(...r);if(s===n.length)return n(...r)}}var _2=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function U2(t){if(typeof t!="string")throw new TypeError("string cannot be undefined or null");let n=[],r=0,s=0;for(;r<t.length;){if(s+=N2(r+s,t),V2(t[r+s])&&s++,j2(t[r+s])&&s++,Y2(t[r+s])&&s++,X2(t[r+s])){s++;continue}n.push(t.substring(r,r+s)),r+=s,s=0}return n}function N2(t,n){let r=n[t];if(!z2(r)||t===n.length-1)return 1;let s=r+n[t+1],u=n.substring(t+2,t+5);return Og(s)&&Og(u)?4:L2(s)&&G2(u)?n.slice(t).indexOf(String.fromCodePoint(917631))+2:H2(u)?4:2}function z2(t){return t&&Ma(t[0].charCodeAt(0),55296,56319)}function Og(t){return Ma(hh(t),127462,127487)}function L2(t){return Ma(hh(t),127988,127988)}function H2(t){return Ma(hh(t),127995,127999)}function j2(t){return typeof t=="string"&&Ma(t.charCodeAt(0),65024,65039)}function Y2(t){return typeof t=="string"&&Ma(t.charCodeAt(0),8400,8447)}function G2(t){let n=t.codePointAt(0);return typeof t=="string"&&typeof n=="number"&&Ma(n,917504,917631)}function V2(t){return typeof t=="string"&&_2.includes(t.charCodeAt(0))}function X2(t){return typeof t=="string"&&t.charCodeAt(0)===8205}function hh(t){let n=t.charCodeAt(0)-55296,r=t.charCodeAt(1)-56320;return(n<<10)+r+65536}function Ma(t,n,r){return t>=n&&t<=r}var An=(t,n)=>Array.isArray(t)?t==null?void 0:t.includes(n):t===n,Vn=(t,n)=>Array.isArray(n)?n.some(r=>t.has(r)):t.has(n),pu=(t,n,r)=>{var s;t.has(n)?(s=t.get(n))==null||s.push(r):t.set(n,[r])},Q2=(()=>{let t=0;return()=>t++})(),K2={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}};function Xy(){let t=A.globalOpt.pixelDensity??1,n=A.globalOpt.width,r=A.globalOpt.height,s=A.gfx.ggl.gl.drawingBufferWidth,u=A.gfx.ggl.gl.drawingBufferHeight,c=s/t,h=u/t,g=0,p=0,d=c,v=h;if(A.globalOpt.letterbox){if(!n||!r)throw new Error("Letterboxing requires width and height defined.");let x=c/h,m=n/r;if(x>m){let S=h*m;g=(c-S)/2,d=S}else{let S=c/m;v=S,p=(h-S)/2}}if(A.globalOpt.stretch&&(!A.globalOpt.width||!A.globalOpt.height))throw new Error("Stretching requires width and height defined.");A.gfx.viewport={x:g,y:p,width:d,height:v,scale:(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}}function Z2(t){return new Z(t.x*A.gfx.viewport.width/A.gfx.width,t.y*A.gfx.viewport.height/A.gfx.height)}function F2(t){return new Z((t.x-A.gfx.viewport.x)*A.gfx.width/A.gfx.viewport.width,(t.y-A.gfx.viewport.y)*A.gfx.height/A.gfx.viewport.height)}var k2=()=>ga.lastInputDevice,J2=()=>{let t=ga.buttons;for(let n in t){let r=t[n].keyboard&&[t[n].keyboard].flat(),s=t[n].keyboardCode&&[t[n].keyboardCode].flat(),u=t[n].gamepad&&[t[n].gamepad].flat(),c=t[n].mouse&&[t[n].mouse].flat();r&&r.forEach(h=>{pu(ga.buttonsByKey,h,n)}),s&&s.forEach(h=>{pu(ga.buttonsByKeyCode,h,n)}),u&&u.forEach(h=>{pu(ga.buttonsByGamepad,h,n)}),c&&c.forEach(h=>{pu(ga.buttonsByMouse,h,n)})}},Ys=class{constructor(){L(this,"pressed",new Set([]));L(this,"pressedRepeat",new Set([]));L(this,"released",new Set([]));L(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(t){this.pressed.add(t),this.pressedRepeat.add(t),this.down.add(t)}pressRepeat(t){this.pressedRepeat.add(t)}release(t){this.down.delete(t),this.pressed.delete(t),this.released.add(t)}},P2=class{constructor(){L(this,"buttonState",new Ys);L(this,"stickState",new Map)}},I2=class{constructor(){L(this,"dts",[]);L(this,"timer",0);L(this,"fps",0)}tick(t){this.dts.push(t),this.timer+=t,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((n,r)=>n+r)/this.dts.length)),this.dts=[])}},ga,Cg=K2,W2=t=>{let n=t.buttons??{};return{canvas:t.canvas,buttons:n,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new I2,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new Z(0),mouseDeltaPos:new Z(0),keyState:new Ys,mouseState:new Ys,mergedGamepadState:new P2,gamepadStates:new Map,lastInputDevice:null,buttonState:new Ys,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:t.canvas.offsetWidth,lastHeight:t.canvas.offsetHeight,events:new Ks}},$2=t=>{if(!t.canvas)throw new Error("Please provide a canvas");let n=W2(t);ga=n,J2();function r(){return n.dt*n.timeScale}function s(){return n.fixedDt*n.timeScale}function u(){return n.restDt*n.timeScale}function c(){return n.isHidden}function h(){return n.time}function g(){return n.fpsCounter.fps}function p(){return n.numFrames}function d(){return n.canvas.toDataURL()}function v(O){n.canvas.style.cursor=O}function x(){return n.canvas.style.cursor}function m(O){if(O)try{let Q=n.canvas.requestPointerLock();Q!=null&&Q.catch&&Q.catch(P=>console.error(P))}catch(Q){console.error(Q)}else document.exitPointerLock()}function S(){return!!document.pointerLockElement}function b(O){O.requestFullscreen?O.requestFullscreen():O.webkitRequestFullscreen&&O.webkitRequestFullscreen()}function C(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}function E(O=!0){O?b(n.canvas):C()}function T(){return document.fullscreenElement===n.canvas||document.webkitFullscreenElement===n.canvas}function _(){n.stopped=!0;let O=Object.entries(zt),Q=Object.entries(_a),P=Object.entries(Pi);for(let[le,ye]of O)n.canvas.removeEventListener(le,ye);for(let[le,ye]of Q)document.removeEventListener(le,ye);for(let[le,ye]of P)window.removeEventListener(le,ye);Dr.disconnect()}function G(O,Q){n.loopID!==null&&cancelAnimationFrame(n.loopID);let P=0,le=0,ye=Te=>{if(n.stopped)return;if(document.visibilityState!=="visible"){n.loopID=requestAnimationFrame(ye);return}let He=Te/1e3,Pe=Math.min(He-n.realTime,.25),kt=t.maxFPS?1/t.maxFPS:0;if(n.realTime=He,le+=Pe,le>kt){if(!n.skipTime){for(P+=le,n.dt=n.fixedDt,n.restDt=0;P>n.fixedDt;)P-=n.fixedDt,P<n.fixedDt&&(n.restDt=P),O();n.restDt=P,n.dt=le,n.time+=r(),n.fpsCounter.tick(n.dt)}le=0,n.skipTime=!1,n.numFrames++,Q(qa,Da)}n.loopID=requestAnimationFrame(ye)};ye(0)}function $(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function F(){return n.mousePos.clone()}function q(){return n.mouseDeltaPos.clone()}function B(O="left"){return n.mouseState.pressed.has(O)}function H(O="left"){return n.mouseState.down.has(O)}function W(O="left"){return n.mouseState.released.has(O)}function ie(){return n.isMouseMoved}function ae(O){return O===void 0?n.keyState.pressed.size>0:Vn(n.keyState.pressed,O)}function ue(O){return O===void 0?n.keyState.pressedRepeat.size>0:Vn(n.keyState.pressedRepeat,O)}function pe(O){return O===void 0?n.keyState.down.size>0:Vn(n.keyState.down,O)}function we(O){return O===void 0?n.keyState.released.size>0:Vn(n.keyState.released,O)}function be(O){return O===void 0?n.mergedGamepadState.buttonState.pressed.size>0:Vn(n.mergedGamepadState.buttonState.pressed,O)}function z(O){return O===void 0?n.mergedGamepadState.buttonState.down.size>0:Vn(n.mergedGamepadState.buttonState.down,O)}function te(O){return O===void 0?n.mergedGamepadState.buttonState.released.size>0:Vn(n.mergedGamepadState.buttonState.released,O)}function se(O){return O===void 0?n.buttonState.pressed.size>0:Vn(n.buttonState.pressed,O)}function ce(O){return O===void 0?n.buttonState.down.size>0:Vn(n.buttonState.down,O)}function M(O){return O===void 0?n.buttonState.released.size>0:Vn(n.buttonState.released,O)}function K(O){var Q;return(Q=n.buttons)==null?void 0:Q[O]}function ne(O,Q){n.buttons[O]={...n.buttons[O],...Q}}function re(O){n.buttonState.press(O),n.events.trigger("buttonPress",O)}function fe(O){n.buttonState.release(O),n.events.trigger("buttonRelease",O)}function Ce(O){return n.events.on("resize",O)}let xe=at(O=>n.events.on("keyDown",O),(O,Q)=>n.events.on("keyDown",P=>An(O,P)&&Q(P))),At=at(O=>n.events.on("keyPress",Q=>O(Q)),(O,Q)=>n.events.on("keyPress",P=>An(O,P)&&Q(P))),Qe=at(O=>n.events.on("keyPressRepeat",O),(O,Q)=>n.events.on("keyPressRepeat",P=>An(O,P)&&Q(P))),on=at(O=>n.events.on("keyRelease",O),(O,Q)=>n.events.on("keyRelease",P=>An(O,P)&&Q(P))),Nn=at(O=>n.events.on("mouseDown",Q=>O(Q)),(O,Q)=>n.events.on("mouseDown",P=>An(O,P)&&Q(P))),Nt=at(O=>n.events.on("mousePress",Q=>O(Q)),(O,Q)=>n.events.on("mousePress",P=>An(O,P)&&Q(P))),mi=at(O=>n.events.on("mouseRelease",Q=>O(Q)),(O,Q)=>n.events.on("mouseRelease",P=>P===O&&Q(P)));function he(O){return n.events.on("mouseMove",()=>O(F(),q()))}function Se(O){return n.events.on("charInput",O)}function Re(O){return n.events.on("touchStart",O)}function $e(O){return n.events.on("touchMove",O)}function Ke(O){return n.events.on("touchEnd",O)}function Le(O){return n.events.on("scroll",O)}function Tt(O){return n.events.on("hide",O)}function Rn(O){return n.events.on("show",O)}let gi=at(O=>n.events.on("gamepadButtonPress",(Q,P)=>O(Q,P)),(O,Q)=>n.events.on("gamepadButtonPress",(P,le)=>An(O,P)&&Q(P,le))),Or=at(O=>n.events.on("gamepadButtonDown",(Q,P)=>O(Q,P)),(O,Q)=>n.events.on("gamepadButtonDown",(P,le)=>An(O,P)&&Q(P,le))),Ra=at(O=>n.events.on("gamepadButtonRelease",(Q,P)=>O(Q,P)),(O,Q)=>n.events.on("gamepadButtonRelease",(P,le)=>An(O,P)&&Q(P,le)));function Cr(O,Q){return n.events.on("gamepadStick",(P,le,ye)=>P===O&&Q(le,ye))}function Oa(O){n.events.on("gamepadConnect",O)}function Dt(O){n.events.on("gamepadDisconnect",O)}function st(O){return n.mergedGamepadState.stickState.get(O)||new Z(0)}function Ft(){return[...n.charInputted]}function Je(){return[...n.gamepads]}let ki=at(O=>n.events.on("buttonPress",Q=>O(Q)),(O,Q)=>n.events.on("buttonPress",P=>An(O,P)&&Q(P))),On=at(O=>n.events.on("buttonDown",Q=>O(Q)),(O,Q)=>n.events.on("buttonDown",P=>An(O,P)&&Q(P))),Ca=at(O=>n.events.on("buttonRelease",Q=>O(Q)),(O,Q)=>n.events.on("buttonRelease",P=>An(O,P)&&Q(P)));function qa(){n.events.trigger("input"),n.keyState.down.forEach(O=>n.events.trigger("keyDown",O)),n.mouseState.down.forEach(O=>n.events.trigger("mouseDown",O)),n.buttonState.down.forEach(O=>{n.events.trigger("buttonDown",O)}),Ji()}function Da(){n.keyState.update(),n.mouseState.update(),n.buttonState.update(),n.mergedGamepadState.buttonState.update(),n.mergedGamepadState.stickState.forEach((O,Q)=>{n.mergedGamepadState.stickState.set(Q,new Z(0))}),n.charInputted=[],n.isMouseMoved=!1,n.mouseDeltaPos=new Z(0),n.gamepadStates.forEach(O=>{O.buttonState.update(),O.stickState.forEach((Q,P)=>{O.stickState.set(P,new Z(0))})})}function zn(O){let Q={index:O.index,isPressed:P=>{var le;return((le=n.gamepadStates.get(O.index))==null?void 0:le.buttonState.pressed.has(P))||!1},isDown:P=>{var le;return((le=n.gamepadStates.get(O.index))==null?void 0:le.buttonState.down.has(P))||!1},isReleased:P=>{var le;return((le=n.gamepadStates.get(O.index))==null?void 0:le.buttonState.released.has(P))||!1},getStick:P=>{var le;return((le=n.gamepadStates.get(O.index))==null?void 0:le.stickState.get(P))||X()}};return n.gamepads.push(Q),n.gamepadStates.set(O.index,{buttonState:new Ys,stickState:new Map([["left",new Z(0)],["right",new Z(0)]])}),Q}function Ba(O){n.gamepads=n.gamepads.filter(Q=>Q.index!==O.index),n.gamepadStates.delete(O.index)}function Ji(){var O,Q;for(let P of navigator.getGamepads())P&&!n.gamepadStates.has(P.index)&&zn(P);for(let P of n.gamepads){let le=navigator.getGamepads()[P.index];if(!le)continue;let ye=(t.gamepads??{})[le.id]||Cg[le.id]||Cg.default,Te=n.gamepadStates.get(P.index);if(Te){for(let He=0;He<le.buttons.length;He++){let Pe=ye.buttons[He],kt=le.buttons[He],cn=n.buttonsByGamepad.has(Pe);if(kt.pressed){if(Te.buttonState.down.has(Pe)){n.events.trigger("gamepadButtonDown",Pe,P);continue}n.lastInputDevice="gamepad",cn&&((O=n.buttonsByGamepad.get(Pe))==null||O.forEach(Cn=>{n.buttonState.press(Cn),n.events.trigger("buttonPress",Cn)})),n.mergedGamepadState.buttonState.press(Pe),Te.buttonState.press(Pe),n.events.trigger("gamepadButtonPress",Pe,P)}else Te.buttonState.down.has(Pe)&&(cn&&((Q=n.buttonsByGamepad.get(Pe))==null||Q.forEach(Cn=>{n.buttonState.release(Cn),n.events.trigger("buttonRelease",Cn)})),n.mergedGamepadState.buttonState.release(Pe),Te.buttonState.release(Pe),n.events.trigger("gamepadButtonRelease",Pe,P))}for(let He in ye.sticks){let Pe=ye.sticks[He];if(!Pe)continue;let kt=new Z(le.axes[Pe.x],le.axes[Pe.y]);Te.stickState.set(He,kt),n.mergedGamepadState.stickState.set(He,kt),n.events.trigger("gamepadStick",He,kt,P)}}}}let zt={},_a={},Pi={},Ua=t.pixelDensity||1;zt.mousemove=O=>{let Q=F2(new Z(O.offsetX,O.offsetY)),P=new Z(O.movementX,O.movementY);if(T()){let le=n.canvas.width/Ua,ye=n.canvas.height/Ua,Te=window.innerWidth,He=window.innerHeight,Pe=Te/He,kt=le/ye;if(Pe>kt){let cn=He/ye,Cn=(Te-le*cn)/2;Q.x=Xn(O.offsetX-Cn,0,le*cn,0,le),Q.y=Xn(O.offsetY,0,ye*cn,0,ye)}else{let cn=Te/le,Cn=(He-ye*cn)/2;Q.x=Xn(O.offsetX,0,le*cn,0,le),Q.y=Xn(O.offsetY-Cn,0,ye*cn,0,ye)}}n.events.onOnce("input",()=>{n.isMouseMoved=!0,n.mousePos=Q,n.mouseDeltaPos=P,n.events.trigger("mouseMove")})};let yi=["left","middle","right","back","forward"];zt.mousedown=O=>{n.events.onOnce("input",()=>{var P;let Q=yi[O.button];Q&&(n.lastInputDevice="mouse",n.buttonsByMouse.has(Q)&&((P=n.buttonsByMouse.get(Q))==null||P.forEach(le=>{n.buttonState.press(le),n.events.trigger("buttonPress",le)})),n.mouseState.press(Q),n.events.trigger("mousePress",Q))})},zt.mouseup=O=>{n.events.onOnce("input",()=>{var P;let Q=yi[O.button];Q&&(n.buttonsByMouse.has(Q)&&((P=n.buttonsByMouse.get(Q))==null||P.forEach(le=>{n.buttonState.release(le),n.events.trigger("buttonRelease",le)})),n.mouseState.release(Q),n.events.trigger("mouseRelease",Q))})};let ku=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),qr={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};zt.keydown=O=>{ku.has(O.key)&&O.preventDefault(),n.events.onOnce("input",()=>{var le,ye;let Q=qr[O.key]||O.key.toLowerCase(),P=O.code;if(Q===void 0)throw new Error(`Unknown key: ${O.key}`);Q.length===1?(n.events.trigger("charInput",Q),n.charInputted.push(Q)):Q==="space"&&(n.events.trigger("charInput"," "),n.charInputted.push(" ")),O.repeat?(n.keyState.pressRepeat(Q),n.events.trigger("keyPressRepeat",Q)):(n.lastInputDevice="keyboard",n.buttonsByKey.has(Q)&&((le=n.buttonsByKey.get(Q))==null||le.forEach(Te=>{n.buttonState.press(Te),n.events.trigger("buttonPress",Te)})),n.buttonsByKeyCode.has(P)&&((ye=n.buttonsByKeyCode.get(P))==null||ye.forEach(Te=>{n.buttonState.press(Te),n.events.trigger("buttonPress",Te)})),n.keyState.press(Q),n.events.trigger("keyPressRepeat",Q),n.events.trigger("keyPress",Q))})},zt.keyup=O=>{n.events.onOnce("input",()=>{var le,ye;let Q=qr[O.key]||O.key.toLowerCase(),P=O.code;n.buttonsByKey.has(Q)&&((le=n.buttonsByKey.get(Q))==null||le.forEach(Te=>{n.buttonState.release(Te),n.events.trigger("buttonRelease",Te)})),n.buttonsByKeyCode.has(P)&&((ye=n.buttonsByKeyCode.get(P))==null||ye.forEach(Te=>{n.buttonState.release(Te),n.events.trigger("buttonRelease",Te)})),n.keyState.release(Q),n.events.trigger("keyRelease",Q)})},zt.touchstart=O=>{O.preventDefault(),n.events.onOnce("input",()=>{var le;let Q=[...O.changedTouches],P=n.canvas.getBoundingClientRect();t.touchToMouse!==!1&&(n.mousePos=new Z(Q[0].clientX-P.x,Q[0].clientY-P.y),n.lastInputDevice="mouse",n.buttonsByMouse.has("left")&&((le=n.buttonsByMouse.get("left"))==null||le.forEach(ye=>{n.buttonState.press(ye),n.events.trigger("buttonPress",ye)})),n.mouseState.press("left"),n.events.trigger("mousePress","left")),Q.forEach(ye=>{n.events.trigger("touchStart",new Z(ye.clientX-P.x,ye.clientY-P.y),ye)})})},zt.touchmove=O=>{O.preventDefault(),n.events.onOnce("input",()=>{let Q=[...O.changedTouches],P=n.canvas.getBoundingClientRect();if(t.touchToMouse!==!1){let le=n.mousePos;n.mousePos=new Z(Q[0].clientX-P.x,Q[0].clientY-P.y),n.mouseDeltaPos=n.mousePos.sub(le),n.events.trigger("mouseMove")}Q.forEach(le=>{n.events.trigger("touchMove",new Z(le.clientX-P.x,le.clientY-P.y),le)})})},zt.touchend=O=>{n.events.onOnce("input",()=>{var le;let Q=[...O.changedTouches],P=n.canvas.getBoundingClientRect();t.touchToMouse!==!1&&(n.mousePos=new Z(Q[0].clientX-P.x,Q[0].clientY-P.y),n.mouseDeltaPos=new Z(0,0),n.buttonsByMouse.has("left")&&((le=n.buttonsByMouse.get("left"))==null||le.forEach(ye=>{n.buttonState.release(ye),n.events.trigger("buttonRelease",ye)})),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Q.forEach(ye=>{n.events.trigger("touchEnd",new Z(ye.clientX-P.x,ye.clientY-P.y),ye)})})},zt.touchcancel=O=>{n.events.onOnce("input",()=>{let Q=[...O.changedTouches],P=n.canvas.getBoundingClientRect();t.touchToMouse!==!1&&(n.mousePos=new Z(Q[0].clientX-P.x,Q[0].clientY-P.y),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Q.forEach(le=>{n.events.trigger("touchEnd",new Z(le.clientX-P.x,le.clientY-P.y),le)})})},zt.wheel=O=>{O.preventDefault(),n.events.onOnce("input",()=>{n.events.trigger("scroll",new Z(O.deltaX,O.deltaY))})},zt.contextmenu=O=>O.preventDefault(),_a.visibilitychange=()=>{document.visibilityState==="visible"?(n.skipTime=!0,n.isHidden=!1,n.events.trigger("show")):(n.isHidden=!0,n.events.trigger("hide"))},Pi.gamepadconnected=O=>{let Q=zn(O.gamepad);n.events.onOnce("input",()=>{n.events.trigger("gamepadConnect",Q)})},Pi.gamepaddisconnected=O=>{let Q=Je().filter(P=>P.index===O.gamepad.index)[0];Ba(O.gamepad),n.events.onOnce("input",()=>{n.events.trigger("gamepadDisconnect",Q)})};for(let[O,Q]of Object.entries(zt))n.canvas.addEventListener(O,Q);for(let[O,Q]of Object.entries(_a))document.addEventListener(O,Q);for(let[O,Q]of Object.entries(Pi))window.addEventListener(O,Q);let Dr=new ResizeObserver(O=>{for(let Q of O)if(Q.target===n.canvas){if(n.lastWidth===n.canvas.offsetWidth&&n.lastHeight===n.canvas.offsetHeight)return;n.lastWidth=n.canvas.offsetWidth,n.lastHeight=n.canvas.offsetHeight,n.events.onOnce("input",()=>{n.events.trigger("resize")})}});return Dr.observe(n.canvas),{state:n,dt:r,fixedDt:s,restDt:u,time:h,run:G,canvas:n.canvas,fps:g,numFrames:p,quit:_,isHidden:c,setFullscreen:E,isFullscreen:T,setCursor:v,screenshot:d,getGamepads:Je,getCursor:x,setCursorLocked:m,isCursorLocked:S,isTouchscreen:$,mousePos:F,mouseDeltaPos:q,isKeyDown:pe,isKeyPressed:ae,isKeyPressedRepeat:ue,isKeyReleased:we,isMouseDown:H,isMousePressed:B,isMouseReleased:W,isMouseMoved:ie,isGamepadButtonPressed:be,isGamepadButtonDown:z,isGamepadButtonReleased:te,getGamepadStick:st,isButtonPressed:se,isButtonDown:ce,isButtonReleased:M,setButton:ne,getButton:K,pressButton:re,releaseButton:fe,charInputted:Ft,onResize:Ce,onKeyDown:xe,onKeyPress:At,onKeyPressRepeat:Qe,onKeyRelease:on,onMouseDown:Nn,onMousePress:Nt,onMouseRelease:mi,onMouseMove:he,onCharInput:Se,onTouchStart:Re,onTouchMove:$e,onTouchEnd:Ke,onScroll:Le,onHide:Tt,onShow:Rn,onGamepadButtonDown:Or,onGamepadButtonPress:gi,onGamepadButtonRelease:Ra,onGamepadStick:Cr,onGamepadConnect:Oa,onGamepadDisconnect:Dt,onButtonPress:ki,onButtonDown:On,onButtonRelease:Ca,getLastInputDeviceType:k2,events:n.events}};function qt(){return A.app.dt()}function Nf(){return A.app.fixedDt()}function zf(){return A.app.restDt()}var ex=new Z(-1,-1),tx=new Z(0,-1),nx=new Z(1,-1),ix=new Z(-1,0),ax=new Z(0,0),rx=new Z(1,0),sx=new Z(-1,1),lx=new Z(0,1),ux=new Z(1,1);function Mr(t){switch(t){case"topleft":return ex;case"top":return tx;case"topright":return nx;case"left":return ix;case"center":return ax;case"right":return rx;case"botleft":return sx;case"bot":return lx;case"botright":return ux;default:return t}}function ox(t){switch(t){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}function cx(t){return t.createBuffer(1,1,44100)}var mu=2.5949095,qg=1.70158+1,Dg=2*Math.PI/3,Bg=2*Math.PI/4.5,Eu={linear:t=>t,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>qg*t*t*t-1.70158*t*t,easeOutBack:t=>1+qg*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((mu+1)*2*t-mu)/2:(Math.pow(2*t-2,2)*((mu+1)*(t*2-2)+mu)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*Dg),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*Dg)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Bg))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Bg)/2+1,easeInBounce:t=>1-Eu.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?(1-Eu.easeOutBounce(1-2*t))/2:(1+Eu.easeOutBounce(2*t-1))/2},Zs=Eu;function fx(t,n,r){let s=[],u=n;for(s.push(u);u!==t;){if(u=r.get(u),u==null)return null;s.push(u)}return s.reverse()}function hx(t,n,r){var h;let s=new Yy((g,p)=>g.cost<p.cost);s.insert({cost:0,node:n});let u=new Map;u.set(n,n);let c=new Map;for(c.set(n,0);s.length!==0;){let g=(h=s.remove())==null?void 0:h.node;if(g===r)break;let p=t.getNeighbours(g);for(let d of p){let v=(c.get(g)||0)+t.getCost(g,d)+t.getHeuristic(d,r);(!c.has(d)||v<c.get(d))&&(c.set(d,v),s.insert({cost:v,node:d}),u.set(d,g))}}return fx(n,r,u)}var dx=class{constructor(t,n,r){L(this,"a");L(this,"b");L(this,"polygon");this.a=t,this.b=n,this.polygon=new WeakRef(r)}isLeft(t,n){return(this.b.x-this.a.x)*(n-this.a.y)-(t-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},px=class{constructor(t){L(this,"_edges");L(this,"_centroid");L(this,"_id");this._id=t}get id(){return this._id}set edges(t){this._edges=t;let n=0,r=0,s=0;for(let u of this._edges){u.polygon=new WeakRef(this);let c=u.a.x*u.b.y-u.a.y*u.b.x;n+=(u.a.x+u.b.x)*c,r+=(u.a.y+u.b.y)*c,s+=c}s/=2,this._centroid=X(n/(6*s),r/(6*s))}get edges(){return this._edges}get centroid(){return this._centroid}contains(t){let n=!1;for(let r of this.edges)r.b.y>t.y!=r.a.y>t.y&&t.x<(r.a.x-r.b.x)*(t.y-r.b.y)/(r.a.y-r.b.y)+r.b.x&&(n=!n);return n}},mx=class{constructor(){L(this,"_polygons");L(this,"_pointCache");L(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(t){let n=this._pointCache[`${t.x}_${t.y}`];return n||(n=t.clone(),this._pointCache[`${t.x}_${t.y}`]=n,n)}_addEdge(t){let n=`${t.a.x}_${t.a.y}-${t.b.x}_${t.b.y}`;return this._edgeCache[n]=t,t}_findEdge(t,n){let r=`${t.x}_${t.y}-${n.x}_${n.y}`;return this._edgeCache[r]}_findCommonEdge(t,n){for(let r of t.edges){let s=this._findEdge(r.b,r.a);if(s&&s.polygon.deref().id===n.id)return s}return null}addPolygon(t){let n=new px(this._polygons.length),r=t.map((s,u)=>new dx(s,t[(u+1)%t.length],n));n.edges=r,this._polygons.push(n);for(let s of n.edges)this._addEdge(s);return n}addRect(t,n){let r=this._addPoint(t),s=this._addPoint(t.add(n.x,0)),u=this._addPoint(t.add(n)),c=this._addPoint(t.add(0,n.y));return this.addPolygon([r,s,u,c])}_getLocation(t){for(let n of this._polygons)if(n.contains(t))return n;return null}getNeighbours(t){let n=[];for(let r of this._polygons[t].edges){let s=this._findEdge(r.b,r.a);if(s){let u=s.polygon.deref();u&&n.push(u.id)}}return n}getCost(t,n){return 1}getHeuristic(t,n){let r=this._polygons[t],s=this._polygons[n],u=r.centroid.x-s.centroid.x,c=r.centroid.y-s.centroid.y;return Math.sqrt(u*u+c*c)}getPath(t,n){return t===void 0||n===void 0?[]:t===n?[t,n]:hx(this,t,n)}getWaypointPath(t,n,r){let s=(r==null?void 0:r.type)||"centroids",u=this._getLocation(t),c=this._getLocation(n);if(u===void 0||c===void 0)return[];let h=this.getPath(u.id,c.id);if(!h)return[];if(s==="edges"){let g=[];for(let p=1;p<h.length;p++){let d=this._polygons[h[p-1]],v=this._polygons[h[p]],x=this._findCommonEdge(d,v);g.push(x.middle.add(v.centroid.sub(x.middle).unit().scale(4)))}return[t,...g,n]}else return[t,...h.slice(1,-1).map(g=>this._polygons[g].centroid),n]}};function Gs(t){let n=new Zn;return t.pos&&n.translate(t.pos),t.scale&&n.scale(t.scale),t.angle&&n.rotate(t.angle),t.parent?n.mult(t.parent.transform):n}function gx(t){return new Z(t.x/Ut()*2-1,-t.y/jt()*2+1)}function Ls(t,n,r,s,u,c=1){s=bt(s%360),u=bt(u%360),u<=s&&(u+=Math.PI*2);let h=[],g=Math.ceil((u-s)/bt(8)*c),p=(u-s)/g,d=X(Math.cos(s),Math.sin(s)),v=X(Math.cos(p),Math.sin(p));for(let x=0;x<=g;x++)h.push(t.add(n*d.x,r*d.y)),d=X(d.x*v.x-d.y*v.y,d.x*v.y+d.y*v.x);return h}function yx(...t){let n=Xe(...t),r=t[3]??1;A.gfx.bgColor=n,A.gfx.bgAlpha=r,A.gfx.ggl.gl.clearColor(n.r/255,n.g/255,n.b/255,r)}function vx(){var t,n;return((n=(t=A.gfx.bgColor)==null?void 0:t.clone)==null?void 0:n.call(t))??null}function ht(...t){if(t[0]===void 0)return;let n=X(...t);n.x===0&&n.y===0||A.gfx.transform.translate(n)}function xn(){A.gfx.transformStack.push(A.gfx.transform.clone())}function bx(t){A.gfx.transform=t.clone()}function Fs(...t){if(t[0]===void 0)return;let n=X(...t);n.x===1&&n.y===1||A.gfx.transform.scale(n)}function xr(t){t&&A.gfx.transform.rotate(t)}function an(){A.gfx.transformStack.length>0&&(A.gfx.transform=A.gfx.transformStack.pop())}function En(){A.gfx.renderer.flush()}function Ut(){return A.gfx.width}function jt(){return A.gfx.height}function Qy(){return(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}function Bu(){return X(Ut()/2,jt()/2)}var Ax=class{constructor(t,n,r,s){L(this,"lastTextureId",0);L(this,"textures",[]);L(this,"bigTextures",[]);L(this,"texturesPosition",new Map);L(this,"canvas");L(this,"c2d");L(this,"x",0);L(this,"y",0);L(this,"curHeight",0);L(this,"gfx");L(this,"padding");this.gfx=t,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=r,this.textures=[Qi.fromImage(t,this.canvas)],this.bigTextures=[],this.padding=s;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}addSingle(t){let n=Qi.fromImage(this.gfx,t);return this.bigTextures.push(n),[n,new ot(0,0,1,1),0]}add(t){let n=t.width+this.padding*2,r=t.height+this.padding*2;if(n>this.canvas.width||r>this.canvas.height)return this.addSingle(t);this.x+n>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+r>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Qi.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let s=this.textures[this.textures.length-1],u=new Z(this.x+this.padding,this.y+this.padding);return this.x+=n,r>this.curHeight&&(this.curHeight=r),t instanceof ImageData?this.c2d.putImageData(t,u.x,u.y):this.c2d.drawImage(t,u.x,u.y),s.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new Z(t.width,t.height),texture:s}),this.lastTextureId++,[s,new ot(u.x/this.canvas.width,u.y/this.canvas.height,t.width/this.canvas.width,t.height/this.canvas.height),this.lastTextureId-1]}free(){for(let t of this.textures)t.free();for(let t of this.bigTextures)t.free()}};function Tn(t){return typeof t!="string"||Vy(t)?t:A.assets.urlPrefix+t}var Mn=class Ky{constructor(n){L(this,"loaded",!1);L(this,"data",null);L(this,"error",null);L(this,"onLoadEvents",new Kt);L(this,"onErrorEvents",new Kt);L(this,"onFinishEvents",new Kt);n.then(r=>{this.loaded=!0,this.data=r,this.onLoadEvents.trigger(r)}).catch(r=>{if(this.error=r,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(r);else throw r}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(n){let r=new Ky(Promise.resolve(n));return r.data=n,r.loaded=!0,r}onLoad(n){return this.loaded&&this.data?n(this.data):this.onLoadEvents.add(n),this}onError(n){return this.loaded&&this.error?n(this.error):this.onErrorEvents.add(n),this}onFinish(n){return this.loaded?n():this.onFinishEvents.add(n),this}then(n){return this.onLoad(n)}catch(n){return this.onError(n)}finally(n){return this.onFinish(n)}},br=class{constructor(){L(this,"assets",new Map);L(this,"lastUID",0)}add(t,n){let r=t??this.lastUID+++"",s=new Mn(n);return this.assets.set(r,s),s}addLoaded(t,n){let r=t??this.lastUID+++"",s=Mn.loaded(n);return this.assets.set(r,s),s}get(t){return this.assets.get(t)}progress(){if(this.assets.size===0)return 1;let t=0;return this.assets.forEach(n=>{n.loaded&&t++}),t/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(t=>this.assets.get(t).error!==null).map(t=>[t,this.assets.get(t)])}};function dh(t){return fetch(t).then(n=>{if(!n.ok)throw new Error(`Failed to fetch "${t}"`);return n})}function Ku(t){return dh(t).then(n=>n.json())}function wx(t){return dh(t).then(n=>n.text())}function xx(t){return dh(t).then(n=>n.arrayBuffer())}function Ex(t){return t!==void 0&&(A.assets.urlPrefix=t),A.assets.urlPrefix}function Sx(t,n){return A.assets.custom.add(t,Ku(Tn(n)))}function Zu(t){let n=new Image;return n.crossOrigin="anonymous",n.src=t,new Promise((r,s)=>{n.onload=()=>r(n),n.onerror=()=>s(new Error(`Failed to load image from "${t}"`))})}function ba(){let t=[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom];return t.reduce((n,r)=>n+r.progress(),0)/t.length}function Zy(){return[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom].reduce((t,n)=>t.concat(n.getFailedAssets()),[])}function Tx(t){return A.assets.custom.get(t)??null}function Lf(t){return A.assets.custom.add(null,t)}var Mx=(t,n)=>({urlPrefix:"",sprites:new br,fonts:new br,bitmapFonts:new br,sounds:new br,shaders:new br,custom:new br,music:{},packer:new Ax(t,2048,2048,n),loaded:!1}),Rx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Zi=class Hs{constructor(n,r,s={},u=null){L(this,"tex");L(this,"frames",[new ot(0,0,1,1)]);L(this,"anims",{});L(this,"slice9",null);this.tex=n,r&&(this.frames=r),this.anims=s,this.slice9=u}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(n,r={}){return typeof n=="string"?Hs.fromURL(n,r):Promise.resolve(Hs.fromImage(n,r))}static fromImage(n,r={}){let[s,u]=r.singular?A.assets.packer.addSingle(n):A.assets.packer.add(n),c=r.frames?r.frames.map(h=>new ot(u.x+h.x*u.w,u.y+h.y*u.h,h.w*u.w,h.h*u.h)):ky(r.sliceX||1,r.sliceY||1,u.x,u.y,u.w,u.h);return new Hs(s,c,r.anims,r.slice9)}static fromURL(n,r={}){return Zu(n).then(s=>Hs.fromImage(s,r))}};function Su(t){if(typeof t=="string"){let n=Fy(t);if(n)return n;if(ba()<1)return null;throw new Error(`Sprite not found: ${t}`)}else{if(t instanceof Zi)return Mn.loaded(t);if(t instanceof Mn)return t;throw new Error(`Invalid sprite: ${t}`)}}function Fy(t){return A.assets.sprites.get(t)??null}function Vs(t,n,r={sliceX:1,sliceY:1,anims:{}}){return n=Tn(n),Array.isArray(n)?n.some(s=>typeof s=="string")?A.assets.sprites.add(t,Promise.all(n.map(s=>typeof s=="string"?Zu(s):Promise.resolve(s))).then(s=>_g(s,r))):A.assets.sprites.addLoaded(t,_g(n,r)):typeof n=="string"?A.assets.sprites.add(t,Zi.from(n,r)):A.assets.sprites.addLoaded(t,Zi.fromImage(n,r))}function ky(t=1,n=1,r=0,s=0,u=1,c=1){let h=[],g=u/t,p=c/n;for(let d=0;d<n;d++)for(let v=0;v<t;v++)h.push(new ot(r+v*g,s+d*p,g,p));return h}function _g(t,n={}){let r=document.createElement("canvas"),s=t[0].width,u=t[0].height;r.width=s*t.length,r.height=u;let c=r.getContext("2d");if(!c)throw new Error("Failed to create canvas context");t.forEach((g,p)=>{g instanceof ImageData?c.putImageData(g,p*s,0):c.drawImage(g,p*s,0)});let h=c.getImageData(0,0,t.length*s,u);return Zi.fromImage(h,{...n,sliceX:t.length,sliceY:1})}function Ox(t="bean"){return Vs(t,Rx)}function Cx(t,n,r){n=Tn(n),r=Tn(r),typeof n=="string"&&!r&&(r=q2(n)+".json");let s=typeof r=="string"?Ku(r):Promise.resolve(r);return A.assets.sprites.add(t,s.then(u=>{let c=u.meta.size,h=u.frames.map(p=>new ot(p.frame.x/c.w,p.frame.y/c.h,p.frame.w/c.w,p.frame.h/c.h)),g={};for(let p of u.meta.frameTags)p.from===p.to?g[p.name]=p.from:g[p.name]={from:p.from,to:p.to,speed:10,loop:!0,pingpong:p.direction==="pingpong"};return Zi.from(n,{frames:h,anims:g})}))}var Tu=class{constructor(t,n={}){L(this,"fontface");L(this,"filter",Df);L(this,"outline",null);L(this,"size",64);if(this.fontface=t,this.filter=n.filter??Df,this.size=n.size??64,this.size>256)throw new Error("Max font size: 256");n.outline&&(this.outline={width:1,color:Xe(0,0,0)},typeof n.outline=="number"?this.outline.width=n.outline:typeof n.outline=="object"&&(n.outline.width&&(this.outline.width=n.outline.width),n.outline.color&&(this.outline.color=n.outline.color)))}};function Jy(t){if(!t)return Jy(A.globalOpt.font??p2);if(typeof t=="string"){let n=Iy(t),r=Py(t);if(n)return n.data??n;if(r)return r.data??r;if(document.fonts.check(`64px ${t}`))return t;if(ba()<1)return null;throw new Error(`Font not found: ${t}`)}else if(t instanceof Mn)return t.data?t.data:t;return t}function Py(t){return A.assets.fonts.get(t)??null}function qx(t,n,r={}){let s=Tn(n),u=new FontFace(t,typeof n=="string"?`url(${s})`:s);return document.fonts.add(u),A.assets.fonts.add(t,u.load().catch(c=>{throw new Error(`Failed to load font from "${s}": ${c}`)}).then(c=>new Tu(c,r)))}function Dx(t,n,r,s){let u=t.width/n,c={},h=s.split("").entries();for(let[g,p]of h)c[p]=new ot(g%u*n,Math.floor(g/u)*r,n,r);return{tex:t,map:c,size:r}}function Iy(t){return A.assets.bitmapFonts.get(t)??null}function Bx(t,n,r,s,u={}){let c=Tn(n);return A.assets.bitmapFonts.add(t,Zu(c).then(h=>Dx(Qi.fromImage(A.gfx.ggl,h,u),r,s,u.chars??Ny)))}function _x(t,n){return n=Tn(n),A.assets.sprites.add(t,new Promise(async r=>{let s=typeof n=="string"?await Ku(n):n,u=await Promise.all(s.frames.map(Zu)),c=document.createElement("canvas");c.width=s.width,c.height=s.height*s.frames.length;let h=c.getContext("2d");if(!h)throw new Error("Failed to create canvas context");u.forEach((p,d)=>{h.drawImage(p,0,d*s.height)});let g=await Vs(null,c,{sliceY:s.frames.length,anims:s.anims});r(g)}))}var Ux=class{constructor(t,n,r,s){L(this,"ctx");L(this,"glProgram");this.ctx=t,t.onDestroy(()=>this.free());let u=t.gl,c=u.createShader(u.VERTEX_SHADER),h=u.createShader(u.FRAGMENT_SHADER);if(!c||!h)throw new Error("Failed to create shader");u.shaderSource(c,n),u.shaderSource(h,r),u.compileShader(c),u.compileShader(h);let g=u.createProgram();if(this.glProgram=g,u.attachShader(g,c),u.attachShader(g,h),s.forEach((p,d)=>u.bindAttribLocation(g,d,p)),u.linkProgram(g),!u.getProgramParameter(g,u.LINK_STATUS)){let p=u.getShaderInfoLog(c);if(p)throw new Error("VERTEX SHADER "+p);let d=u.getShaderInfoLog(h);if(d)throw new Error("FRAGMENT SHADER "+d)}u.deleteShader(c),u.deleteShader(h)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(t){let n=this.ctx.gl;for(let r in t){let s=t[r],u=n.getUniformLocation(this.glProgram,r);if(typeof s=="number")n.uniform1f(u,s);else if(s instanceof Zn)n.uniformMatrix4fv(u,!1,new Float32Array(s.m));else if(s instanceof _e)n.uniform3f(u,s.r,s.g,s.b);else if(s instanceof Z)n.uniform2f(u,s.x,s.y);else if(Array.isArray(s))s[0],M2(s)?n.uniform1fv(u,s):T2(s)?n.uniform2fv(u,s.map(c=>[c.x,c.y]).flat()):S2(s)&&n.uniform3fv(u,s.map(c=>[c.r,c.g,c.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}};function ph(t,n=Bf,r=_f){let s=v2.replace("{{user}}",n??Bf),u=b2.replace("{{user}}",r??_f);try{return new Ux(t,s,u,oh.map(c=>c.name))}catch(c){let h=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,g=D2(c).match(h);if(!(g!=null&&g.groups))throw c;let p=Number(g.groups.line)-14,d=g.groups.msg.trim(),v=g.groups.type.toLowerCase();throw new Error(`${v} shader line ${p}: ${d}`)}}function Nx(t){if(!t)return A.gfx.defShader;if(typeof t=="string"){let n=Wy(t);if(n)return n.data??n;if(ba()<1)return null;throw new Error(`Shader not found: ${t}`)}else if(t instanceof Mn)return t.data?t.data:t;return t}function Wy(t){return A.assets.shaders.get(t)??null}function zx(t,n,r){return A.assets.shaders.addLoaded(t,ph(A.gfx.ggl,n,r))}function Lx(t,n,r){n=Tn(n),r=Tn(r);let s=c=>c?wx(c):Promise.resolve(null),u=Promise.all([s(n),s(r)]).then(([c,h])=>ph(A.gfx.ggl,c,h));return A.assets.shaders.add(t,u)}var ks=class Mu{constructor(n){L(this,"buf");this.buf=n}static fromArrayBuffer(n){return new Promise((r,s)=>A.audio.ctx.decodeAudioData(n,r,s)).then(r=>new Mu(r))}static fromURL(n){return Vy(n)?Mu.fromArrayBuffer(O2(n)):xx(n).then(r=>Mu.fromArrayBuffer(r))}};function Hx(t){if(typeof t=="string"){let n=$y(t);if(n)return n;if(ba()<1)return null;throw new Error(`Sound not found: ${t}`)}else{if(t instanceof ks)return Mn.loaded(t);if(t instanceof Mn)return t;throw new Error(`Invalid sound: ${t}`)}}function $y(t){return A.assets.sounds.get(t)??null}function jx(t,n){return n=Tn(n),A.assets.sounds.add(t,typeof n=="string"?ks.fromURL(n):ks.fromArrayBuffer(n))}function Yx(t,n){let r=Tn(n),s=new Audio(r);return s.preload="auto",A.assets.music[t]=r}function e0(t,n){return t=Tn(t),Lf(typeof n=="string"?new Promise((r,s)=>{Ku(n).then(u=>{e0(t,u).then(r).catch(s)})}):Zi.from(t).then(r=>{let s={};for(let u in n){let c=n[u],h=r.frames[0],g=2048*h.w,p=2048*h.h,d=c.frames?c.frames.map(x=>new ot(h.x+(c.x+x.x)/g*h.w,h.y+(c.y+x.y)/p*h.h,x.w/g*h.w,x.h/p*h.h)):ky(c.sliceX||1,c.sliceY||1,h.x+c.x/g*h.w,h.y+c.y/p*h.h,c.width/g*h.w,c.height/p*h.h),v=new Zi(r.tex,d,c.anims);A.assets.sprites.addLoaded(u,v),s[u]=v}return s}))}function Fi(t,n,r=!1,s,u,c={}){let h=s??A.gfx.defTex,g=u??A.gfx.defShader,p=Nx(g);if(!p||p instanceof Mn)return;let d=A.gfx.fixed||r?A.gfx.transform:A.game.cam.transform.mult(A.gfx.transform),v=[];for(let x of t){let m=gx(d.multVec2(x.pos));v.push(m.x,m.y,x.uv.x,x.uv.y,x.color.r/255,x.color.g/255,x.color.b/255,x.opacity)}A.gfx.renderer.push(A.gfx.ggl.gl.TRIANGLES,v,n,p,h,c)}function Xi(t){if(!t.pts)throw new Error('drawPolygon() requires property "pts".');let n=t.pts.length;if(!(n<3)){if(xn(),ht(t.pos),Fs(t.scale),xr(t.angle),ht(t.offset),t.fill!==!1){let r=t.color??_e.WHITE,s=t.pts.map((c,h)=>({pos:new Z(c.x,c.y),uv:t.uv?t.uv[h]:new Z(0,0),color:t.colors&&t.colors[h]?t.colors[h].mult(r):r,opacity:t.opacity??1})),u;t.triangulate?u=Uy(t.pts).map(c=>c.map(h=>t.pts.indexOf(h))).flat():u=[...Array(n-2).keys()].map(c=>[0,c+1,c+2]).flat(),Fi(s,t.indices??u,t.fixed,t.uv?t.tex:A.gfx.defTex,t.shader,t.uniform??void 0)}t.outline&&mh({pts:[...t.pts,t.pts[0]],radius:t.radius,width:t.outline.width,color:t.outline.color,join:t.outline.join,uniform:t.uniform,fixed:t.fixed,opacity:t.opacity??t.outline.opacity}),an()}}function t0(t){if(t.radiusX===void 0||t.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(t.radiusX===0||t.radiusY===0)return;let n=t.start??0,r=t.end??360,s=Mr(t.anchor??"center").scale(new Z(-t.radiusX,-t.radiusY)),u=Ls(s,t.radiusX,t.radiusY,n,r,t.resolution);u.unshift(s);let c=Object.assign({},t,{pts:u,radius:0,...t.gradient?{colors:[t.gradient[0],...Array(u.length-1).fill(t.gradient[1])]}:{}});if(r-n>=360&&t.outline){t.fill!==!1&&Xi(Object.assign({},c,{outline:null})),Xi(Object.assign({},c,{pts:u.slice(1),fill:!1}));return}Xi(c)}function Rr(t){if(typeof t.radius!="number")throw new Error('drawCircle() requires property "radius".');t.radius!==0&&t0(Object.assign({},t,{radiusX:t.radius,radiusY:t.radius,angle:0}))}function js(t){let{p1:n,p2:r}=t;if(!n||!r)throw new Error('drawLine() requires properties "p1" and "p2".');let s=t.width||1,u=r.sub(n).unit().normal().scale(s*.5),c=[n.sub(u),n.add(u),r.add(u),r.sub(u)].map(h=>({pos:new Z(h.x,h.y),uv:new Z(0),color:t.color??_e.WHITE,opacity:t.opacity??1}));Fi(c,[0,1,3,1,2,3],t.fixed,A.gfx.defTex,t.shader,t.uniform??void 0)}function Gx(t){let n=t.pts,r=[],s=(t.width||1)*.5,u=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=t.pos||X(0,0),h;u?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let g=h.len(),p=h.normal().scale(-s/g),d,v=n[0];if(!u)switch(t.cap){case"square":{let b=h.scale(-s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(-1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)r.push(v),r.push(v.sub(E)),E=X(E.x*T-E.y*_,E.x*_+E.y*T)}}for(let b=1;b<n.length;b++){if(v===n[b]||v.eq(n[b]))continue;d=v,v=n[b];let C=v.sub(d),E=C.len(),T=C.normal().scale(-s/E),_=h.cross(C);if(Math.abs(_)/(g*E)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(C)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=C,g=E,p=T;continue}let G=T.sub(p).cross(C)/_,$=p.add(h.scale(G));_>0?(r.push(d.add($)),r.push(d.sub(p)),r.push(d.add($)),r.push(d.sub(T))):(r.push(d.add(p)),r.push(d.sub($)),r.push(d.add(T)),r.push(d.sub($))),h=C,g=E,p=T}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),t.cap){case"square":{let b=h.scale(s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)E=X(E.x*T-E.y*_,E.x*_+E.y*T),r.push(v),r.push(v.sub(E))}}if(r.length<4)return;let x=r.map(b=>({pos:c.add(b),uv:X(),color:t.color||_e.WHITE,opacity:t.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),Fi(x,m,t.fixed,A.gfx.defTex,t.shader,t.uniform??void 0)}function Vx(t){let n=t.pts,r=[],s=(t.width||1)*.5,u=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=t.pos||X(0,0),h;u?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let g=h.len(),p=h.normal().scale(-s/g),d,v=n[0];if(!u)switch(t.cap){case"square":{let b=h.scale(-s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(-1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)r.push(v),r.push(v.sub(E)),E=X(E.x*T-E.y*_,E.x*_+E.y*T)}}for(let b=1;b<n.length;b++){if(v===n[b]||v.eq(n[b]))continue;d=v,v=n[b];let C=v.sub(d),E=C.len(),T=C.normal().scale(-s/E),_=h.cross(C);if(Math.abs(_)/(g*E)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(C)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=C,g=E,p=T;continue}let G=T.sub(p).cross(C)/_,$=p.add(h.scale(G));if(_>0){let F=d.add($),q=Math.max(s,10),B=bt(p.angleBetween(T)/q),H=p,W=Math.cos(B),ie=Math.sin(B);for(let ae=0;ae<q;ae++)r.push(F),r.push(d.sub(H)),H=X(H.x*W-H.y*ie,H.x*ie+H.y*W)}else{let F=d.sub($),q=Math.max(s,10),B=bt(p.angleBetween(T)/q),H=p,W=Math.cos(B),ie=Math.sin(B);for(let ae=0;ae<q;ae++)r.push(d.add(H)),r.push(F),H=X(H.x*W-H.y*ie,H.x*ie+H.y*W)}h=C,g=E,p=T}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),t.cap){case"square":{let b=h.scale(s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)E=X(E.x*T-E.y*_,E.x*_+E.y*T),r.push(v),r.push(v.sub(E))}}if(r.length<4)return;let x=r.map(b=>({pos:c.add(b),uv:X(),color:t.color||_e.WHITE,opacity:t.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),Fi(x,m,t.fixed,A.gfx.defTex,t.shader,t.uniform??void 0)}function Xx(t){let n=t.pts,r=[],s=(t.width||1)*.5,u=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=t.pos||X(0,0),h;u?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let g=h.len(),p=h.normal().scale(-s/g),d,v=n[0];if(!u)switch(t.cap){case"square":{let b=h.scale(-s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(-1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)r.push(v),r.push(v.sub(E)),E=X(E.x*T-E.y*_,E.x*_+E.y*T)}}for(let b=1;b<n.length;b++){if(v===n[b]||v.eq(n[b]))continue;d=v,v=n[b];let C=v.sub(d),E=C.len(),T=C.normal().scale(-s/E),_=h.cross(C);if(Math.abs(_)/(g*E)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(C)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=C,g=E,p=T;continue}let G=T.sub(p).cross(C)/_,$=p.add(h.scale(G));r.push(d.add($)),r.push(d.sub($)),h=C,g=E,p=T}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),t.cap){case"square":{let b=h.scale(s/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(s,10),C=Math.PI/b,E=p.scale(1),T=Math.cos(C),_=Math.sin(C);for(let G=0;G<b;G++)E=X(E.x*T-E.y*_,E.x*_+E.y*T),r.push(v),r.push(v.sub(E))}}if(r.length<4)return;let x=r.map(b=>({pos:c.add(b),uv:X(),color:t.color||_e.WHITE,opacity:t.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),Fi(x,m,t.fixed,A.gfx.defTex,t.shader,t.uniform??void 0)}function mh(t){let n=t.pts,r=t.width??1;if(!n)throw new Error('drawLines() requires property "pts".');if(!(n.length<2)){if(n.length>2)switch(t.join){case"bevel":return Gx(t);case"round":return Vx(t);case"miter":return Xx(t)}if(t.radius&&n.length>=3){js(Object.assign({},t,{p1:n[0],p2:n[1]}));for(let s=1;s<n.length-2;s++){let u=n[s],c=n[s+1];js(Object.assign({},t,{p1:u,p2:c}))}js(Object.assign({},t,{p1:n[n.length-2],p2:n[n.length-1]}))}else for(let s=0;s<n.length-1;s++)js(Object.assign({},t,{p1:n[s],p2:n[s+1]})),t.join!=="none"&&Rr(Object.assign({},t,{pos:n[s],radius:r/2}))}}function n0(t,n){let r=n.segments??16,s=[];for(let u=0;u<=r;u++)s.push(t(u/r));mh({pts:s,width:n.width||1,pos:n.pos,color:n.color,opacity:n.opacity})}function Qx(t){n0(n=>uh(t.pt1,t.pt2,t.pt3,t.pt4,n),t)}var Qi=class i0{constructor(n,r,s,u={}){L(this,"ctx");L(this,"src",null);L(this,"glTex");L(this,"width");L(this,"height");this.ctx=n;let c=n.gl,h=n.gl.createTexture();if(!h)throw new Error("Failed to create texture");this.glTex=h,n.onDestroy(()=>this.free()),this.width=r,this.height=s;let g={linear:c.LINEAR,nearest:c.NEAREST}[u.filter??n.opts.texFilter??"nearest"],p={repeat:c.REPEAT,clampToEdge:c.CLAMP_TO_EDGE}[u.wrap??"clampToEdge"];this.bind(),r&&s&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,r,s,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,p),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,p),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(n,r,s={}){let u=new i0(n,r.width,r.height,s);return u.update(r),u.src=r,u}update(n,r=0,s=0){let u=this.ctx.gl;this.bind(),u.texSubImage2D(u.TEXTURE_2D,0,r,s,u.RGBA,u.UNSIGNED_BYTE,n),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},_u=class{constructor(t,n,r,s={}){L(this,"ctx");L(this,"tex");L(this,"glFramebuffer");L(this,"glRenderbuffer");this.ctx=t;let u=t.gl;t.onDestroy(()=>this.free()),this.tex=new Qi(t,n,r,s);let c=u.createFramebuffer(),h=u.createRenderbuffer();if(!c||!h)throw new Error("Failed to create framebuffer");this.glFramebuffer=c,this.glRenderbuffer=h,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,n,r),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let t=this.ctx.gl,n=new Uint8ClampedArray(this.width*this.height*4);this.bind(),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,n),this.unbind();let r=this.width*4,s=new Uint8Array(r);for(let u=0;u<(this.height/2|0);u++){let c=u*r,h=(this.height-u-1)*r;s.set(n.subarray(c,c+r)),n.copyWithin(c,h,h+r),n.set(s,h)}return new ImageData(n,this.width,this.height)}toDataURL(){let t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=this.width,t.height=this.height,!n)throw new Error("Failed to get 2d context");return n.putImageData(this.toImageData(),0,0),t.toDataURL()}clear(){let t=this.ctx.gl;t.clear(t.COLOR_BUFFER_BIT)}draw(t){this.bind(),t(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let t=this.ctx.gl;t.deleteFramebuffer(this.glFramebuffer),t.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},Kx=class{constructor(t,n,r,s){L(this,"ctx");L(this,"glVBuf");L(this,"glIBuf");L(this,"vqueue",[]);L(this,"iqueue",[]);L(this,"stride");L(this,"maxVertices");L(this,"maxIndices");L(this,"vertexFormat");L(this,"numDraws",0);L(this,"curPrimitive",null);L(this,"curTex",null);L(this,"curShader",null);L(this,"curUniform",{});let u=t.gl;this.vertexFormat=n,this.ctx=t,this.stride=n.reduce((h,g)=>h+g.size,0),this.maxVertices=r,this.maxIndices=s;let c=u.createBuffer();if(!c)throw new Error("Failed to create vertex buffer");this.glVBuf=c,t.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,r*4,u.DYNAMIC_DRAW),t.popArrayBuffer(),this.glIBuf=u.createBuffer(),t.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,s*4,u.DYNAMIC_DRAW),t.popElementArrayBuffer()}push(t,n,r,s,u=null,c={}){(t!==this.curPrimitive||u!==this.curTex||s!==this.curShader||!fh(this.curUniform,c)||this.vqueue.length+n.length*this.stride>this.maxVertices||this.iqueue.length+r.length>this.maxIndices)&&this.flush();let h=this.vqueue.length/this.stride;for(let g of n)this.vqueue.push(g);for(let g of r)this.iqueue.push(g+h);this.curPrimitive=t,this.curShader=s,this.curTex=u,this.curUniform=c}flush(){var n,r;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let t=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(n=this.curTex)==null||n.bind(),t.drawElements(this.curPrimitive,this.iqueue.length,t.UNSIGNED_SHORT,0),(r=this.curTex)==null||r.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let t=this.ctx.gl;t.deleteBuffer(this.glVBuf),t.deleteBuffer(this.glIBuf)}};function pa(t){let n=[],r=c=>{n.push(c),t(c)},s=()=>{n.pop(),t(u()??null)},u=()=>n[n.length-1];return[r,s,u]}function Zx(t,n={}){let r=[];function s(F){r.push(F)}function u(){r.forEach(q=>q());let F=t.getExtension("WEBGL_lose_context");F&&F.loseContext()}let c=null;function h(F){if(fh(F,c))return;c=F;let q=F.reduce((B,H)=>B+H.size,0);F.reduce((B,H,W)=>(t.vertexAttribPointer(W,H.size,t.FLOAT,!1,q*4,B),t.enableVertexAttribArray(W),B+H.size*4),0)}let[g,p]=pa(F=>t.bindTexture(t.TEXTURE_2D,F)),[d,v]=pa(F=>t.bindBuffer(t.ARRAY_BUFFER,F)),[x,m]=pa(F=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,F)),[S,b]=pa(F=>t.bindFramebuffer(t.FRAMEBUFFER,F)),[C,E]=pa(F=>t.bindRenderbuffer(t.RENDERBUFFER,F)),[T,_]=pa(F=>{if(!F)return;let{x:q,y:B,w:H,h:W}=F;t.viewport(q,B,H,W)}),[G,$]=pa(F=>t.useProgram(F));return T({x:0,y:0,w:t.drawingBufferWidth,h:t.drawingBufferHeight}),{gl:t,opts:n,onDestroy:s,destroy:u,pushTexture2D:g,popTexture2D:p,pushArrayBuffer:d,popArrayBuffer:v,pushElementArrayBuffer:x,popElementArrayBuffer:m,pushFramebuffer:S,popFramebuffer:b,pushRenderbuffer:C,popRenderbuffer:E,pushViewport:T,popViewport:_,pushProgram:G,popProgram:$,setVertexFormat:h}}var yf={};function Ug(t,n){if(n.override){Object.assign(t,n);return}n.pos&&(t.pos=t.pos.add(n.pos)),n.scale&&(t.scale=t.scale.scale(X(n.scale))),n.angle&&(t.angle+=n.angle),n.color&&t.ch.length===1&&(t.color=t.color.mult(n.color)),n.opacity!=null&&(t.opacity*=n.opacity)}function Hf(t){let n={},r="",s=[],u=String(t),c=h=>{s.length>0&&(n[r.length]=s.slice()),r+=h};for(;u!=="";){if(u[0]==="\\"){if(u.length===1)throw new Error("Styled text error: \\ at end of string");c(u[1]),u=u.slice(2);continue}if(u[0]==="["){let h=/^\[(\/)?(\w+?)\]/.exec(u);if(!h){c(u[0]),u=u.slice(1);continue}let[g,p,d]=h;if(p!==void 0){let v=s.pop();if(v!==d)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${d}]`):new Error(`Styled text error: stray end tag [/${d}]`)}else s.push(d);u=u.slice(g.length);continue}c(u[0]),u=u.slice(1)}if(s.length>0)throw new Error(`Styled text error: unclosed tags ${s}`);return{charStyleMap:n,text:r}}function Aa(t){var G,$,F;if(t.text===void 0)throw new Error('formatText() requires property "text".');let n=Jy(t.font);if(!t.text||t.text===""||n instanceof Mn||!n)return{width:0,height:0,chars:[],opt:t,renderedText:""};let{charStyleMap:r,text:s}=Hf(t.text+""),u=U2(s);if(n instanceof Tu||typeof n=="string"){let q=n instanceof Tu?n.fontface.family:n,B=n instanceof Tu?{outline:n.outline,filter:n.filter}:{outline:null,filter:Df},H=yf[q]??{font:{tex:new Qi(A.gfx.ggl,2048,2048,{filter:B.filter}),map:{},size:64},cursor:new Z(0),maxHeight:0,outline:B.outline};yf[q]||(yf[q]=H),n=H.font;for(let W of u)if(!H.font.map[W]){let ie=A.fontCacheC2d;if(!ie)throw new Error("fontCacheC2d is not defined.");if(!A.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");ie.clearRect(0,0,A.fontCacheCanvas.width,A.fontCacheCanvas.height),ie.font=`${n.size}px ${q}`,ie.textBaseline="top",ie.textAlign="left",ie.fillStyle="#ffffff";let ae=ie.measureText(W),ue=Math.ceil(ae.width);if(!ue)continue;let pe=Math.ceil(Math.abs(ae.actualBoundingBoxAscent))+Math.ceil(Math.abs(ae.actualBoundingBoxDescent));H.outline&&H.outline.width&&H.outline.color&&(ie.lineJoin="round",ie.lineWidth=H.outline.width*2,ie.strokeStyle=H.outline.color.toHex(),ie.strokeText(W,H.outline.width,H.outline.width),ue+=H.outline.width*2,pe+=H.outline.width*3),ie.fillText(W,((G=H.outline)==null?void 0:G.width)??0,(($=H.outline)==null?void 0:$.width)??0);let we=ie.getImageData(0,0,ue,pe);if(H.cursor.x+ue>2048&&(H.cursor.x=0,H.cursor.y+=H.maxHeight,H.maxHeight=0,H.cursor.y>2048))throw new Error("Font atlas exceeds character limit");n.tex.update(we,H.cursor.x,H.cursor.y),n.map[W]=new ot(H.cursor.x,H.cursor.y,ue,pe),H.cursor.x+=ue+1,H.maxHeight=Math.max(H.maxHeight,pe)}}let c=t.size||n.size,h=X(t.scale??1).scale(c/n.size),g=t.lineSpacing??0,p=t.letterSpacing??0,d=0,v=0,x=0,m=[],S=[],b=0,C=null,E=0,T;for(;b<u.length;){let q=u[b];if(q===`
`)x+=c+g,m.push({width:d-p,chars:S}),C=null,E=0,d=0,S=[],T=void 0;else{let B=n.map[q];if(B){let H=B.w*h.x;t.width&&d+H>t.width&&(x+=c+g,C!=null&&(b-=S.length-C,q=u[b],B=n.map[q],H=B.w*h.x,S=S.slice(0,C-1),d=E),C=null,E=0,m.push({width:d-p,chars:S}),d=T??0,S=[]),S.push({tex:n.tex,width:B.w,height:B.h,quad:new ot(B.x/n.tex.width,B.y/n.tex.height,B.w/n.tex.width,B.h/n.tex.height),ch:q,pos:new Z(d,x),opacity:t.opacity??1,color:t.color??_e.WHITE,scale:X(h),angle:0}),q===" "&&(C=S.length,E=d),t.indentAll&&T===void 0&&/\S/.test(q)&&(T=d),d+=H,v=Math.max(v,d),d+=p}}b++}m.push({width:d-p,chars:S}),x+=c,t.width&&(v=t.width);let _=[];for(let q=0;q<m.length;q++){let B=(v-m[q].width)*ox(t.align??"left");for(let H of m[q].chars){let W=n.map[H.ch],ie=_.length+q;if(H.pos=H.pos.add(B,0).add(W.w*h.x*.5,W.h*h.y*.5),t.transform){let ae=typeof t.transform=="function"?t.transform(ie,H.ch):t.transform;ae&&Ug(H,ae)}if(r[ie]){let ae=r[ie];for(let ue of ae){let pe=(F=t.styles)==null?void 0:F[ue],we=typeof pe=="function"?pe(ie,H.ch):pe;we&&Ug(H,we)}}_.push(H)}}return{width:v,height:x,chars:_,opt:t,renderedText:s}}function Js(t){if(t.width===void 0||t.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(t.width<=0||t.height<=0)return;let n=t.width,r=t.height,s=Mr(t.anchor||Qu).scale(new Z(n,r).scale(-.5)),u=t.quad||new ot(0,0,1,1),c=t.color||Xe(255,255,255),h=t.opacity??1,g=t.tex?.1/t.tex.width:0,p=t.tex?.1/t.tex.height:0,d=u.x+g,v=u.y+p,x=u.w-g*2,m=u.h-p*2;xn(),ht(t.pos),xr(t.angle),Fs(t.scale),ht(s),Fi([{pos:new Z(-n/2,r/2),uv:new Z(t.flipX?d+x:d,t.flipY?v:v+m),color:c,opacity:h},{pos:new Z(-n/2,-r/2),uv:new Z(t.flipX?d+x:d,t.flipY?v+m:v),color:c,opacity:h},{pos:new Z(n/2,-r/2),uv:new Z(t.flipX?d:d+x,t.flipY?v+m:v),color:c,opacity:h},{pos:new Z(n/2,r/2),uv:new Z(t.flipX?d:d+x,t.flipY?v:v+m),color:c,opacity:h}],[0,1,3,1,2,3],t.fixed,t.tex,t.shader,t.uniform??void 0),an()}function wa(t){xn(),ht(t.opt.pos),xr(t.opt.angle),ht(Mr(t.opt.anchor??"topleft").add(1,1).scale(t.width,t.height).scale(-.5)),t.chars.forEach(n=>{Js({tex:n.tex,width:n.width,height:n.height,pos:n.pos,scale:n.scale,angle:n.angle,color:n.color,opacity:n.opacity,quad:n.quad,anchor:"center",uniform:t.opt.uniform,shader:t.opt.shader,fixed:t.opt.fixed})}),an()}function Sn(t){if(t.width===void 0||t.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(t.width<=0||t.height<=0)return;let n=t.width,r=t.height,s=Mr(t.anchor||Qu).add(1,1).scale(new Z(n,r).scale(-.5)),u=[new Z(0,0),new Z(n,0),new Z(n,r),new Z(0,r)];if(t.radius){let c=Math.min(n,r)/2,h=Array.isArray(t.radius)?t.radius.map(g=>Math.min(c,g)):new Array(4).fill(Math.min(c,t.radius));u=[new Z(h[0],0),...h[1]?Ls(new Z(n-h[1],h[1]),h[1],h[1],270,360):[X(n,0)],...h[2]?Ls(new Z(n-h[2],r-h[2]),h[2],h[2],0,90):[X(n,r)],...h[3]?Ls(new Z(h[3],r-h[3]),h[3],h[3],90,180):[X(0,r)],...h[0]?Ls(new Z(h[0],h[0]),h[0],h[0],180,270):[]]}Xi(Object.assign({},t,{offset:s,pts:u,...t.gradient?{colors:t.horizontal?[t.gradient[0],t.gradient[1],t.gradient[1],t.gradient[0]]:[t.gradient[0],t.gradient[0],t.gradient[1],t.gradient[1]]}:{}}))}function Gi(t){En();let n=A.gfx.width,r=A.gfx.height;A.gfx.width=A.gfx.viewport.width,A.gfx.height=A.gfx.viewport.height,t(),En(),A.gfx.width=n,A.gfx.height=r}function Ng(t,n){Gi(()=>{let r=X(8);xn(),ht(t);let s=Aa({text:n,font:Du,size:16,pos:r,color:Xe(255,255,255),fixed:!0}),u=s.width+r.x*2,c=s.height+r.x*2;t.x+u>=Ut()&&ht(X(-u,0)),t.y+c>=jt()&&ht(X(0,-c)),Sn({width:u,height:c,color:Xe(0,0,0),radius:4,opacity:.8,fixed:!0}),wa(s),an()})}function a0(t){if(!t.p1||!t.p2||!t.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return Xi(Object.assign({},t,{pts:[t.p1,t.p2,t.p3]}))}function Fx(){if(A.debug.inspect){let t=null;for(let n of A.game.root.get("*",{recursive:!0}))if(n.has("area")&&n.isHovering()){t=n;break}if(A.game.root.drawInspect(),t){let n=[],r=t.inspect();for(let s in r)r[s]?n.push(`${r[s]}`):n.push(`${s}`);Ng(Z2(A.k.mousePos()),n.join(`
`))}Ng(X(8),`FPS: ${A.debug.fps()}`)}A.debug.paused&&Gi(()=>{xn(),ht(Ut(),0),ht(-8,8);let t=32;Sn({width:t,height:t,anchor:"topright",color:Xe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let n=1;n<=2;n++)Sn({width:4,height:t*.6,anchor:"center",pos:X(-t/3*n,t*.5),color:Xe(255,255,255),radius:2,fixed:!0});an()}),A.debug.timeScale!==1&&Gi(()=>{xn(),ht(Ut(),jt()),ht(-8,-8);let t=8,n=Aa({text:A.debug.timeScale.toFixed(1),font:Du,size:16,color:Xe(255,255,255),pos:X(-t),anchor:"botright",fixed:!0});Sn({width:n.width+t*2+t*4,height:n.height+t*2,anchor:"botright",color:Xe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let r=0;r<2;r++){let s=A.debug.timeScale<1;a0({p1:X(-n.width-t*(s?2:3.5),-t),p2:X(-n.width-t*(s?2:3.5),-t-n.height),p3:X(-n.width-t*(s?3.5:2),-t-n.height/2),pos:X(-r*t*1+(s?-t*.5:0),0),color:Xe(255,255,255),fixed:!0})}wa(n),an()}),A.debug.curRecording&&Gi(()=>{xn(),ht(0,jt()),ht(24,-24),Rr({radius:12,color:Xe(255,0,0),opacity:vy(0,1,A.app.time()*4),fixed:!0}),an()}),A.debug.showLog&&A.game.logs.length>0&&Gi(()=>{xn(),ht(0,jt()),ht(8,-8);let t=8,n=[];for(let s of A.game.logs){let u="",c=s.msg instanceof Error?"error":"info";u+=`[time]${s.time.toFixed(2)}[/time]`,u+=" ",u+=`[${c}]${jf(s.msg)}[/${c}]`,n.push(u)}A.game.logs=A.game.logs.filter(s=>A.app.time()-s.time<(A.globalOpt.logTime||4));let r=Aa({text:n.join(`
`),font:Du,pos:X(t,-t),anchor:"botleft",size:16,width:Ut()*.6,lineSpacing:t/2,fixed:!0,styles:{time:{color:Xe(127,127,127)},info:{color:Xe(255,255,255)},error:{color:Xe(255,0,127)}}});Sn({width:r.width+t*2,height:r.height+t*2,anchor:"botleft",color:Xe(0,0,0),radius:4,opacity:.8,fixed:!0}),wa(r),an()})}function jf(t,n=!1,r=new Set){if(r.has(t))return"<recursive>";var s="",u;return n&&typeof t=="string"&&(t=JSON.stringify(t)),Array.isArray(t)&&(s=["[",t.map(c=>jf(c,!0,r.union(new Set([t])))).join(", "),"]"].join(""),t=s),t===null?"null":(typeof t=="object"&&t.toString===Object.prototype.toString&&(t.constructor!==Object&&(s+=t.constructor.name+" "),s+=["{",(u=Object.getOwnPropertyNames(t).map(c=>`${/^\w+$/.test(c)?c:JSON.stringify(c)}: ${jf(t[c],!0,r.union(new Set([t])))}`).join(", "))?` ${u} `:"","}"].join(""),t=s),String(t).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}function kx(){let t=A.game.cam,n=Z.fromAngle(Ct(0,360)).scale(t.shake);t.shake=rn(t.shake,0,5*qt()),t.transform=new Zn().translate(Bu()).scale(t.scale).rotate(t.angle).translate((t.pos??Bu()).scale(-1).add(n)),A.game.root.draw(),En()}function Jx(){let t=ba();A.game.events.numListeners("loading")>0?A.game.events.trigger("loading",t):Gi(()=>{let n=Ut()/2,r=24,s=X(Ut()/2,jt()/2).sub(X(n/2,r/2));Sn({pos:X(0),width:Ut(),height:jt(),color:Xe(0,0,0)}),Sn({pos:s,width:n,height:r,fill:!1,outline:{width:4}}),Sn({pos:s,width:n*t,height:r})})}function r0(t,n,r){let s=A.gfx.ggl.gl;En(),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST),s.stencilFunc(s.NEVER,1,255),s.stencilOp(s.REPLACE,s.REPLACE,s.REPLACE),n(),En(),s.stencilFunc(r,1,255),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),t(),En(),s.disable(s.STENCIL_TEST)}function Px(t,n){let r=A.gfx.ggl.gl;r0(t,n,r.EQUAL)}function Uu(t){var c,h;if(!t.tex)throw new Error('drawTexture() requires property "tex".');let n=t.quad??new ot(0,0,1,1),r=t.tex.width*n.w,s=t.tex.height*n.h,u=new Z(1);if(t.tiled){let g=Mr(t.anchor||Qu);(((c=t.pos)==null?void 0:c.x)||0)-(g.x+1)*.5*(t.width||r),(((h=t.pos)==null?void 0:h.y)||0)-(g.y+1)*.5*(t.height||s);let p=(t.width||r)/r,d=(t.height||s)/s,v=Math.floor(p),x=Math.floor(d),m=p-v,S=d-x,b=(v+m?1:0)*(x+S?1:0),C=new Array(b*6),E=new Array(b*4),T=0,_=(G,$,F,q,B)=>{C[T*6+0]=T*4+0,C[T*6+1]=T*4+1,C[T*6+2]=T*4+3,C[T*6+3]=T*4+1,C[T*6+4]=T*4+2,C[T*6+5]=T*4+3,E[T*4+0]={pos:new Z(G-g.x,$-g.y),uv:new Z(B.x,B.y),color:t.color||_e.WHITE,opacity:t.opacity||1},E[T*4+1]={pos:new Z(G+F-g.x,$-g.y),uv:new Z(B.x+B.w,B.y),color:t.color||_e.WHITE,opacity:t.opacity||1},E[T*4+2]={pos:new Z(G+F-g.x,$+q-g.y),uv:new Z(B.x+B.w,B.y+B.h),color:t.color||_e.WHITE,opacity:t.opacity||1},E[T*4+3]={pos:new Z(G-g.x,$+q-g.y),uv:new Z(B.x,B.y+B.h),color:t.color||_e.WHITE,opacity:t.opacity||1},T++};for(let G=0;G<x;G++){for(let $=0;$<v;$++)_($*r,G*s,r,s,n);m&&_(v*r,G*s,r*m,s,new ot(n.x,n.y,n.w*m,n.h))}if(S){for(let G=0;G<v;G++)_(G*r,x*s,r,s*S,new ot(n.x,n.y,n.w,n.h*S));m&&_(v*r,x*s,r*m,s*S,new ot(n.x,n.y,n.w*m,n.h*S))}Fi(E,C,t.fixed,t.tex,t.shader,t.uniform??void 0)}else t.width&&t.height?(u.x=t.width/r,u.y=t.height/s):t.width?(u.x=t.width/r,u.y=u.x):t.height&&(u.y=t.height/s,u.x=u.y),Js(Object.assign({},t,{scale:u.scale(t.scale||new Z(1)),tex:t.tex,quad:n,width:r,height:s}))}function Ix(t){if(!t.sprite)throw new Error('drawSprite() requires property "sprite"');let n=Su(t.sprite);if(!n||!n.data)return;let r=n.data.frames[t.frame??0];if(!r)throw new Error(`Frame not found: ${t.frame??0}`);Uu(Object.assign({},t,{tex:n.data.tex,quad:r.scale(t.quad??new ot(0,0,1,1))}))}function Wx(t,n){let r=A.gfx.ggl.gl;r0(t,n,r.NOTEQUAL)}function zg(t){wa(Aa(t))}var $x=(t,n)=>{let r=ph(n,Bf,_f),s=t.pixelDensity??1,u=t.scale??1,{gl:c}=n,h=Qi.fromImage(n,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),g=t.width&&t.height?new _u(n,t.width*s*u,t.height*s*u):new _u(n,c.drawingBufferWidth,c.drawingBufferHeight),p=null,d=1;t.background&&(typeof t.background=="string"?p=Xe(t.background):(p=Xe(...t.background),d=t.background[3]??1),c.clearColor(p.r/255,p.g/255,p.b/255,d??1)),c.enable(c.BLEND),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);let v=new Kx(n,oh,g2,y2),x=Qi.fromImage(n,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:n,defShader:r,defTex:h,frameBuffer:g,postShader:null,postShaderUniform:null,renderer:v,transform:new Zn,transformStack:[],bgTex:x,bgColor:p,bgAlpha:d,width:t.width??c.drawingBufferWidth/s/u,height:t.height??c.drawingBufferHeight/s/u,viewport:{x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight,scale:1},fixed:!1}};function ya(t){return t.fixed?!0:t.parent?ya(t.parent):!1}function xa(t){return{color:t.color,opacity:t.opacity,anchor:t.anchor,outline:t.outline,shader:t.shader,uniform:t.uniform}}function eE(t,n={}){return{id:"circle",radius:t,draw(){Rr(Object.assign(xa(this),{radius:this.radius,fill:n.fill}))},renderArea(){return new nt(new Z(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}function s0(...t){return{id:"color",color:Xe(...t),inspect(){return`color: ${this.color.toString()}`}}}function tE(t){return{add(){this.canvas=t}}}function nE(t=1){let n,r=0,s=!1;return{require:["opacity"],add(){n=this.opacity,this.opacity=0},update(){s||(r+=qt(),this.opacity=Xn(r,0,t,0,n),r>=t&&(this.opacity=n,s=!0))}}}function iE(t="intersect"){return{id:"mask",mask:t}}function l0(t){return{id:"opacity",opacity:t??1,fadeIn(n=1,r=A.k.easings.linear){return A.game.root.tween(0,this.opacity,n,s=>this.opacity=s,r)},fadeOut(n=1,r=A.k.easings.linear){return A.game.root.tween(this.opacity,0,n,s=>this.opacity=s,r)},inspect(){return`opacity: ${Uf(this.opacity,1)}`}}}function aE(t=1,n=Xe(0,0,0),r=1,s="miter",u=10,c="butt"){return{id:"outline",outline:{width:t,color:n,opacity:r,join:s,miterLimit:u,cap:c},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}var rE=class{constructor(){L(this,"pos",X(0));L(this,"vel",X(0));L(this,"acc",X(0));L(this,"angle",0);L(this,"angularVelocity",0);L(this,"damping",0);L(this,"t");L(this,"lt",null);L(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}};function sE(t,n){let r=n.lifetime,s=[],u=t.colors||[_e.WHITE],c=t.opacities||[1],h=t.quads||[new ot(0,0,1,1)],g=t.scales||[1],p=t.lifeTime,d=n.direction,v=n.spread,x=t.speed||[0,0],m=t.angle||[0,0],S=t.angularVelocity||[0,0],b=t.acceleration||[X(0),X(0)],C=t.damping||[0,0],E=[],T=new Array(t.max),_=0,G=0;for(let q=0;q<t.max;q++){E[q*6+0]=q*4+0,E[q*6+1]=q*4+1,E[q*6+2]=q*4+3,E[q*6+3]=q*4+1,E[q*6+4]=q*4+2,E[q*6+5]=q*4+3;for(let B=0;B<4;B++)T[q*4+B]={pos:new Z(0,0),uv:new Z(0,0),color:Xe(255,255,255),opacity:1};s[q]=new rE}let $=new Kt;function F(q=0){for(;q<t.max;){if(s[q].gc)return q;q++}return null}return{id:"particles",emit(q){let B=0;for(let H=0;H<q;H++){if(B=F(B),B==null)return;let W=Ct(d-v,d+v),ie=Z.fromAngle(W).scale(Ct(x[0],x[1])),ae=Ct(m[0],m[1]),ue=Ct(S[0],S[1]),pe=X(Ct(b[0].x,b[1].x),Ct(b[0].y,b[1].y)),we=Ct(C[0],C[1]),be=p?Ct(p[0],p[1]):null,z=n.shape?n.shape.random():X(),te=s[B];te.lt=be,te.pos=z,te.vel=ie,te.acc=pe,te.angle=ae,te.angularVelocity=ue,te.damping=we,te.angularVelocity=ue,te.gc=!1}_+=q},update(){if(r!==void 0&&r<=0)return;let q=qt();for(let B of s)if(!B.gc){if(B.t+=q,B.lt&&B.t>=B.lt){B.gc=!0,_--;continue}B.vel=B.vel.add(B.acc.scale(q)).scale(1-B.damping*q),B.pos=B.pos.add(B.vel.scale(q)),B.angle+=B.angularVelocity*q}for(r!==void 0&&(r-=q,r<=0&&$.trigger()),G+=q;_<t.max&&n.rate&&G>n.rate;)this.emit(1),_++,G-=n.rate},draw(){if(!(r!==void 0&&r<=0)){for(let q=0;q<s.length;q++){let B=s[q];if(B.gc)continue;let H=B.progress,W=Math.floor(B.progress*u.length),ie=W<u.length-1?rn(u[W],u[W+1],Xn(H,W/u.length,(W+1)/u.length,0,1)):u[W],ae=Math.floor(B.progress*c.length),ue=ae<c.length-1?rn(c[ae],c[ae+1],Xn(H,ae/c.length,(ae+1)/c.length,0,1)):c[ae],pe=Math.floor(B.progress*h.length),we=h[pe],be=Math.floor(B.progress*g.length),z=g[be],te=Math.cos(B.angle*Math.PI/180),se=Math.sin(B.angle*Math.PI/180),ce=(t.texture?t.texture.width:10)*we.w/2,M=(t.texture?t.texture.height:10)*we.h/2,K=q*4,ne=T[K];ne.pos.x=B.pos.x+-ce*z*te- -M*z*se,ne.pos.y=B.pos.y+-ce*z*se+-M*z*te,ne.uv.x=we.x,ne.uv.y=we.y,ne.color.r=ie.r,ne.color.g=ie.g,ne.color.b=ie.b,ne.opacity=ue,ne=T[K+1],ne.pos.x=B.pos.x+ce*z*te- -M*z*se,ne.pos.y=B.pos.y+ce*z*se+-M*z*te,ne.uv.x=we.x+we.w,ne.uv.y=we.y,ne.color.r=ie.r,ne.color.g=ie.g,ne.color.b=ie.b,ne.opacity=ue,ne=T[K+2],ne.pos.x=B.pos.x+ce*z*te-M*z*se,ne.pos.y=B.pos.y+ce*z*se+M*z*te,ne.uv.x=we.x+we.w,ne.uv.y=we.y+we.h,ne.color.r=ie.r,ne.color.g=ie.g,ne.color.b=ie.b,ne.opacity=ue,ne=T[K+3],ne.pos.x=B.pos.x+-ce*z*te-M*z*se,ne.pos.y=B.pos.y+-ce*z*se+M*z*te,ne.uv.x=we.x,ne.uv.y=we.y+we.h,ne.color.r=ie.r,ne.color.g=ie.g,ne.color.b=ie.b,ne.opacity=ue}Fi(T,E,this.fixed,t.texture,this.shader,this.uniform)}},onEnd(q){return $.add(q)},inspect(){return`count: ${_}/${t.max}`}}}function lE(t,n={}){if(t.length<3)throw new Error(`Polygon's need more than two points, ${t.length} points provided`);return{id:"polygon",pts:t,colors:n.colors,uv:n.uv,tex:n.tex,radius:n.radius,draw(){Xi(Object.assign(xa(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:n.fill,triangulate:n.triangulate}))},renderArea(){return new Zt(this.pts)},inspect(){return`polygon: ${this.pts.map(r=>`[${r.x},${r.y}]`).join(",")}`}}}function u0(t,n,r){let s;return A.game.root.get("area").forEach(u=>{if(r&&r.some(h=>u.is(h)))return;let c=u.worldArea().raycast(t,n);c&&(s?c.fraction<s.fraction&&(s=c,s.object=u):(s=c,s.object=u))}),s}function o0(t,n,r={}){return{id:"rect",width:t,height:n,radius:r.radius||0,draw(){Sn(Object.assign(xa(this),{width:this.width,height:this.height,radius:this.radius,fill:r.fill}))},renderArea(){return new nt(X(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}function uE(t,n){return{id:"shader",shader:t,...typeof n=="function"?{uniform:n(),update(){this.uniform=n()}}:{uniform:n},inspect(){return`shader: ${t}`}}}function oE(t,n){if(!n.tileWidth||!n.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let r=A.game.root.add([Nu(n.pos??X(0))]),s=t.length,u=0,c=null,h=null,g=null,p=null,d=q=>q.x+q.y*u,v=q=>X(Math.floor(q%u),Math.floor(q/u)),x=()=>{c=[];for(let q of r.children)m(q)},m=q=>{let B=d(q.tilePos);c[B]?c[B].push(q):c[B]=[q]},S=q=>{let B=d(q.tilePos);if(c[B]){let H=c[B].indexOf(q);H>=0&&c[B].splice(H,1)}},b=()=>{let q=!1;for(let B of r.children){let H=r.pos2Tile(B.pos);(B.tilePos.x!=H.x||B.tilePos.y!=H.y)&&(q=!0,S(B),B.tilePos.x=H.x,B.tilePos.y=H.y,m(B))}q&&r.trigger("spatialMapChanged")},C=()=>{let q=r.getSpatialMap(),B=r.numRows()*r.numColumns();h?h.length=B:h=new Array(B),h.fill(1,0,B);for(let H=0;H<q.length;H++){let W=q[H];if(W){let ie=0;for(let ae of W)if(ae.isObstacle){ie=1/0;break}else ie+=ae.cost;h[H]=ie||1}}},E=()=>{let q=r.getSpatialMap(),B=r.numRows()*r.numColumns();g?g.length=B:g=new Array(B),g.fill(15,0,B);for(let H=0;H<q.length;H++){let W=q[H];if(W){let ie=W.length,ae=15;for(let ue=0;ue<ie;ue++)ae|=W[ue].edgeMask;g[H]=ae}}},T=()=>{let q=r.numRows()*r.numColumns(),B=(W,ie)=>{let ae=[];for(ae.push(W);ae.length>0;){let ue=ae.pop();$(ue).forEach(pe=>{p[pe]<0&&(p[pe]=ie,ae.push(pe))})}};p?p.length=q:p=new Array(q),p.fill(-1,0,q);let H=0;for(let W=0;W<h.length;W++){if(p[W]>=0){H++;continue}B(W,H),H++}},_=(q,B)=>h[B],G=(q,B)=>{let H=v(q),W=v(B);return H.dist(W)},$=(q,B)=>{let H=[],W=Math.floor(q%u),ie=W>0&&g[q]&1&&h[q-1]!==1/0,ae=q>=u&&g[q]&2&&h[q-u]!==1/0,ue=W<u-1&&g[q]&4&&h[q+1]!==1/0,pe=q<u*s-u-1&&g[q]&8&&h[q+u]!==1/0;return B?(ie&&(ae&&H.push(q-u-1),H.push(q-1),pe&&H.push(q+u-1)),ae&&H.push(q-u),ue&&(ae&&H.push(q-u+1),H.push(q+1),pe&&H.push(q+u+1)),pe&&H.push(q+u)):(ie&&H.push(q-1),ae&&H.push(q-u),ue&&H.push(q+1),pe&&H.push(q+u)),H},F={id:"level",tileWidth(){return n.tileWidth},tileHeight(){return n.tileHeight},spawn(q,...B){let H=X(...B),W=(()=>{if(typeof q=="string"){if(n.tiles[q]){if(typeof n.tiles[q]!="function")throw new Error("Level symbol def must be a function returning a component list");return n.tiles[q](H)}else if(n.wildcardTile)return n.wildcardTile(q,H)}else{if(Array.isArray(q))return q;throw new Error("Expected a symbol or a component list")}})();if(!W)return null;let ie=!1,ae=!1;for(let pe of W)pe.id==="tile"&&(ae=!0),pe.id==="pos"&&(ie=!0);ie||W.push(Nu(this.tile2Pos(H))),ae||W.push(R0());let ue=r.add(W);return ie&&(ue.tilePosOffset=ue.pos.clone()),ue.tilePos=H,ue.transform=Gs(ue),c&&(m(ue),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ue},numColumns(){return u},numRows(){return s},levelWidth(){return u*this.tileWidth()},levelHeight(){return s*this.tileHeight()},tile2Pos(...q){return X(...q).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...q){let B=X(...q);return X(Math.floor(B.x/this.tileWidth()),Math.floor(B.y/this.tileHeight()))},getSpatialMap(){return c||x(),c},removeFromSpatialMap:S,insertIntoSpatialMap:m,onSpatialMapChanged(q){return this.on("spatialMapChanged",q)},onNavigationMapInvalid(q){return this.on("navigationMapInvalid",q)},getAt(q){c||x();let B=d(q);return c[B]||[]},raycast(q,B){let H=this.toWorld(q),W=this.toWorld(q.add(B)).sub(H),ie=1/this.tileWidth(),ae=q.scale(ie),ue=Xw(ae,B,pe=>{let we=this.getAt(pe);if(we.some(z=>z.isObstacle))return!0;let be=null;for(let z of we)if(z.has("area")){let te=z.worldArea().raycast(H,W);te&&(be?te.fraction<be.fraction&&(be=te,be.object=z):(be=te,be.object=z))}return be&&(be.point=this.fromWorld(be.point).scale(ie)),be||!1},64);return ue&&(ue.point=ue.point.scale(this.tileWidth())),ue},update(){c&&b()},invalidateNavigationMap(){h=null,g=null,p=null},onNavigationMapChanged(q){return this.on("navigationMapChanged",q)},getTilePath(q,B,H={}){var te;if(h||C(),g||E(),p||T(),q.x<0||q.x>=u||q.y<0||q.y>=s||B.x<0||B.x>=u||B.y<0||B.y>=s)return null;let W=d(q),ie=d(B);if(h[ie]===1/0)return null;if(W===ie)return[];if(p[W]!=-1&&p[W]!==p[ie])return null;let ae=new Yy((se,ce)=>se.cost<ce.cost);ae.insert({cost:0,node:W});let ue=new Map;ue.set(W,W);let pe=new Map;for(pe.set(W,0);ae.length!==0;){let se=(te=ae.remove())==null?void 0:te.node;if(se===ie)break;let ce=$(se,H.allowDiagonals);for(let M of ce){let K=(pe.get(se)||0)+_(se,M)+G(M,ie);(!pe.has(M)||K<pe.get(M))&&(pe.set(M,K),ae.insert({cost:K,node:M}),ue.set(M,se))}}let we=[],be=ie,z=v(be);for(we.push(z);be!==W;){let se=ue.get(be);if(se===void 0)throw new Error("Bug in pathfinding algorithm");be=se;let ce=v(be);we.push(ce)}return we.reverse()},getPath(q,B,H={}){let W=this.tileWidth(),ie=this.tileHeight(),ae=this.getTilePath(this.pos2Tile(q),this.pos2Tile(B),H);return ae?[q,...ae.slice(1,-1).map(ue=>ue.scale(W,ie).add(W/2,ie/2)),B]:null}};return r.use(F),r.onNavigationMapInvalid(()=>{r.invalidateNavigationMap(),r.trigger("navigationMapChanged")}),t.forEach((q,B)=>{let H=q.split("");u=Math.max(H.length,u),H.forEach((W,ie)=>{r.spawn(W,X(ie,B))})}),r}function un(t,n,r){return A.game.objEvents.registers[t]||(A.game.objEvents.registers[t]=new Hy),A.game.objEvents.on(t,(s,...u)=>{s.is(n)&&r(s,...u)})}var cE=(t,n,...r)=>{for(let s of A.game.root.children)s.is(n)&&s.trigger(t,r)},fE=at(t=>{let n=A.game.root.add([{fixedUpdate:t}]);return{get paused(){return n.paused},set paused(r){n.paused=r},cancel:()=>n.destroy()}},(t,n)=>un("fixedUpdate",t,n)),c0=at(t=>{let n=A.game.root.add([{update:t}]);return{get paused(){return n.paused},set paused(r){n.paused=r},cancel:()=>n.destroy()}},(t,n)=>un("update",t,n)),hE=at(t=>{let n=A.game.root.add([{draw:t}]);return{get paused(){return n.hidden},set paused(r){n.hidden=r},cancel:()=>n.destroy()}},(t,n)=>un("draw",t,n)),f0=at(t=>A.game.events.on("add",t),(t,n)=>un("add",t,n)),dE=at(t=>A.game.events.on("destroy",t),(t,n)=>un("destroy",t,n)),pE=at(t=>A.game.events.on("use",t),(t,n)=>un("use",t,n)),mE=at(t=>A.game.events.on("unuse",t),(t,n)=>un("unuse",t,n)),h0=at(t=>A.game.events.on("tag",t),(t,n)=>un("tag",t,n)),gE=at(t=>A.game.events.on("untag",t),(t,n)=>un("untag",t,n));function yE(t,n,r){return un("collide",t,(s,u,c)=>u.is(n)&&r(s,u,c))}function vE(t,n,r){return un("collideUpdate",t,(s,u,c)=>u.is(n)&&r(s,u,c))}function bE(t,n,r){return un("collideEnd",t,(s,u,c)=>u.is(n)&&r(s,u,c))}function Fu(t,n){A.game.root.get(t,{recursive:!0}).forEach(n),f0(t,n),h0((r,s)=>{s===t&&n(r)})}var AE=at(t=>A.app.onMousePress(t),(t,n)=>{let r=[];return Fu(t,s=>{if(!s.area)throw new Error("onClick() requires the object to have area() component");r.push(s.onClick(()=>n(s)))}),Ta.join(r)});function wE(t,n){let r=[];return Fu(t,s=>{if(!s.area)throw new Error("onHover() requires the object to have area() component");r.push(s.onHover(()=>n(s)))}),Ta.join(r)}function xE(t,n){let r=[];return Fu(t,s=>{if(!s.area)throw new Error("onHoverUpdate() requires the object to have area() component");r.push(s.onHoverUpdate(()=>n(s)))}),Ta.join(r)}function EE(t,n){let r=[];return Fu(t,s=>{if(!s.area)throw new Error("onHoverEnd() requires the object to have area() component");r.push(s.onHoverEnd(()=>n(s)))}),Ta.join(r)}function SE(t){A.game.events.on("loading",t)}function TE(t){A.app.onResize(t)}function ME(t){A.game.events.on("error",t)}function gh(t){A.assets.loaded?t():A.game.events.on("load",t)}function RE(t){if(A.assets.loaded)Zy().forEach(n=>t(...n));else return A.game.events.on("loadError",t)}function d0(...t){A.game.cam.pos=X(...t)}function p0(){return A.game.cam.pos?A.game.cam.pos.clone():Bu()}function m0(...t){A.game.cam.scale=X(...t)}function g0(){return A.game.cam.scale.clone()}function y0(t){A.game.cam.angle=t}function v0(){return A.game.cam.angle}function OE(){return A.game.cam.transform.clone()}function b0(t=Xe(255,255,255),n=1){let r=A.game.root.add([o0(Ut(),jt()),s0(t),l0(1),q0()]),s=r.fadeOut(n);return s.onEnd(()=>M0(r)),s}function CE(){return A.game.cam.transform.clone()}function qE(t=12){A.game.cam.shake+=t}function Yf(t){return A.game.cam.transform.multVec2(t)}function A0(t){return A.game.cam.transform.invert().multVec2(t)}function DE(...t){return Tr("camPos","setCamPos / getCamPos"),t.length>0&&d0(...t),p0()}function BE(...t){return Tr("camScale","setCamScale / getCamScale"),t.length>0&&m0(...t),g0()}function _E(t){return Tr("camRot","setCamRot / getCamRot"),t!==void 0&&y0(t),v0()}function UE(t=Xe(255,255,255),n=1){return Tr("camFlash","flash"),b0(t,n)}function yh(t=[]){let n=new Map,r=[],s={},u=new Ks,c=[],h=new Set("*"),g=A.globalOpt.tagsAsComponents,p=null,d=!1,v={id:Q2(),hidden:!1,transform:new Zn,children:[],parent:null,set paused(m){if(m!==d){d=m;for(let S of c)S.paused=m}},get paused(){return d},get tags(){return Array.from(h)},add(m){let S=Array.isArray(m)?yh(m):m;if(S.parent)throw new Error("Cannot add a game obj that already has a parent.");return S.parent=this,S.transform=Gs(S),this.children.push(S),S.trigger("add",S),A.game.events.trigger("add",S),S},readd(m){let S=this.children.indexOf(m);return S!==-1&&(this.children.splice(S,1),this.children.push(m)),m},remove(m){let S=this.children.indexOf(m);if(S!==-1){m.parent=null,this.children.splice(S,1);let b=C=>{C.trigger("destroy"),A.game.events.trigger("destroy",C),C.children.forEach(E=>b(E))};b(m)}},removeAll(m){if(m)this.get(m).forEach(S=>this.remove(S));else for(let S of[...this.children])this.remove(S)},fixedUpdate(){this.paused||(this.children.forEach(m=>m.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(m=>m.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(En(),this.canvas.bind());let m=A.gfx.fixed;this.fixed&&(A.gfx.fixed=!0),xn(),ht(this.pos),Fs(this.scale),xr(this.angle);let S=this.children.sort((b,C)=>{let E=b.layerIndex??A.game.defaultLayerIndex,T=C.layerIndex??A.game.defaultLayerIndex;return E-T||(b.z??0)-(C.z??0)});if(this.mask){let b={intersect:A.k.drawMasked,subtract:A.k.drawSubtracted}[this.mask];if(!b)throw new Error(`Invalid mask func: "${this.mask}"`);b(()=>{S.forEach(C=>C.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),S.forEach(b=>b.draw());an(),A.gfx.fixed=m,this.canvas&&(En(),this.canvas.unbind())},drawInspect(){this.hidden||(xn(),ht(this.pos),Fs(this.scale),xr(this.angle),this.children.forEach(m=>m.drawInspect()),this.trigger("drawInspect"),an())},use(m){var C;if(typeof m=="string")return h.add(m);if(!m||typeof m!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof m}"`);let S=[];m.id?(this.unuse(m.id),s[m.id]=[],S=s[m.id],n.set(m.id,m),g&&h.add(m.id)):r.push(m);for(let E in m){if(A2.has(E))continue;let T=Object.getOwnPropertyDescriptor(m,E);if(T)if(typeof T.value=="function"&&(m[E]=m[E].bind(this)),T.set&&Object.defineProperty(m,E,{set:T.set.bind(this)}),T.get&&Object.defineProperty(m,E,{get:T.get.bind(this)}),w2.has(E)){let _=E==="add"?()=>{var G;p=$=>S.push($),(G=m[E])==null||G.call(m),p=null}:m[E];S.push(this.on(E,_).cancel)}else if(this[E]===void 0)Object.defineProperty(this,E,{get:()=>m[E],set:_=>m[E]=_,configurable:!0,enumerable:!0}),S.push(()=>delete this[E]);else{let _=(C=n.values().find(G=>G[E]!==void 0))==null?void 0:C.id;throw new Error(`Duplicate component property: "${E}" while adding component "${m.id}"`+(_?` (originally added by "${_}")`:""))}}let b=()=>{if(m.require){for(let E of m.require)if(!this.c(E))throw new Error(`Component "${m.id}" requires component "${E}"`)}};m.destroy&&S.push(m.destroy.bind(this)),this.exists()?(b(),m.add&&(p=E=>S.push(E),m.add.call(this),p=null),m.id&&(this.trigger("use",m.id),A.game.events.trigger("use",this,m.id))):m.require&&S.push(this.on("add",b).cancel)},unuse(m){if(n.has(m)){for(let S of n.values())if(S.require&&S.require.includes(m))throw new Error(`Can't unuse. Component "${S.id}" requires component "${m}"`);n.delete(m),this.trigger("unuse",m),A.game.events.trigger("unuse",this,m)}else g&&h.has(m)&&h.delete(m);s[m]&&(s[m].forEach(S=>S()),delete s[m])},c(m){return n.get(m)??null},get(m,S={}){let b=(E,T)=>S.only==="comps"?E.has(T):S.only==="tags"?E.is(T):E.is(T)||E.has(T),C=S.recursive?this.children.flatMap(function E(T){return[T,...T.children.flatMap(E)]}):this.children;if(C=C.filter(E=>m?b(E,m):!0),S.liveUpdate){let E=_=>S.recursive?this.isAncestorOf(_):_.parent===this,T=[];T.push(A.k.onAdd(_=>{E(_)&&b(_,m)&&C.push(_)})),T.push(A.k.onDestroy(_=>{if(E(_)&&b(_,m)){let G=C.findIndex($=>$.id===_.id);G!==-1&&C.splice(G,1)}})),this.onDestroy(()=>{for(let _ of T)_.cancel()})}return C},query(m){let S=m.hierarchy||"children",b=m.include,C=m.exclude,E=[];switch(S){case"children":E=this.children;break;case"siblings":E=this.parent?this.parent.children.filter(_=>_!==this):[];break;case"ancestors":let T=this.parent;for(;T;)E.push(T),T=T.parent;break;case"descendants":E=this.children.flatMap(function _(G){return[G,...G.children.flatMap(_)]});break}if(b&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?E=E.filter(T=>T.is(b)):E=E.filter(T=>m.include.some(_=>T.is(_)))),C&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?E=E.filter(T=>!T.is(C)):E=E.filter(T=>!m.exclude.some(_=>T.is(_)))),m.visible===!0&&(E=E.filter(T=>T.visible)),m.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let T=m.distanceOp||"near",_=m.distance*m.distance;T==="near"?E=E.filter(G=>G.pos&&this.pos.sdist(G.pos)<=_):E=E.filter(G=>G.pos&&this.pos.sdist(G.pos)>_)}return m.name&&(E=E.filter(T=>T.name===m.name)),E},isAncestorOf(m){return m.parent?m.parent===this||this.isAncestorOf(m.parent):!1},exists(){return A.game.root.isAncestorOf(this)},is(m,S="and"){return Array.isArray(m)?S==="and"?m.every(b=>h.has(b)):m.some(b=>h.has(b)):h.has(m)},tag(m){if(Array.isArray(m))for(let S of m)h.add(S),this.trigger("tag",S),A.game.events.trigger("tag",this,S);else h.add(m),this.trigger("tag",m),A.game.events.trigger("tag",this,m)},untag(m){if(Array.isArray(m))for(let S of m)h.delete(S),this.trigger("untag",S),A.game.events.trigger("untag",this,S);else h.delete(m),this.trigger("untag",m),A.game.events.trigger("untag",this,m)},has(m,S="and"){return Array.isArray(m)?S==="and"?m.every(b=>n.has(b)):m.some(b=>n.has(b)):n.has(m)},on(m,S){let b=u.on(m,S.bind(this));return p&&p(()=>b.cancel()),b},trigger(m,...S){u.trigger(m,...S),A.game.objEvents.trigger(m,this,...S)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var S;let m={};for(let[b,C]of n)m[b]=((S=C.inspect)==null?void 0:S.call(C))??null;for(let[b,C]of r.entries()){if(C.inspect){m[b]=C.inspect();continue}for(let[E,T]of Object.entries(C))typeof T!="function"&&(m[E]=`${E}: ${T}`)}return m},onAdd(m){return this.on("add",m)},onFixedUpdate(m){return this.on("fixedUpdate",m)},onUpdate(m){return this.on("update",m)},onDraw(m){return this.on("draw",m)},onDestroy(m){return this.on("destroy",m)},onUse(m){return this.on("use",m)},onUnuse(m){return this.on("unuse",m)},clearEvents(){u.clear()}},x=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let m of x)v[m]=(...S)=>{var C,E;let b=(E=(C=A.app)[m])==null?void 0:E.call(C,...S);return c.push(b),v.onDestroy(()=>b.cancel()),v.on("sceneEnter",()=>{var _,G;c.splice(c.indexOf(b),1);let T=(G=(_=A.app)[m])==null?void 0:G.call(_,...S);Ta.replace(b,T),c.push(b)}),b};for(let m of t)v.use(m);return v}var NE=()=>({events:new Ks,objEvents:new Ks,root:yh([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new Z(1),angle:0,shake:0,transform:new Zn}});function zE(t){A.game.gravity=t?(A.game.gravity||X(0,1)).unit().scale(t):null}function LE(){return A.game.gravity?A.game.gravity.len():0}function HE(t){A.game.gravity=t.unit().scale(A.game.gravity?A.game.gravity.len():1)}function Xs(){return A.game.gravity?A.game.gravity.unit():X(0,1)}var jE=Aw("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),YE=()=>(()=>{let t=new(window.AudioContext||window.webkitAudioContext),n=t.createGain();n.connect(t.destination);let r=new ks(cx(t));return t.decodeAudioData(jE.buffer.slice(0)).then(s=>{r.buf=s}).catch(s=>{console.error("Failed to load burp: ",s)}),{ctx:t,masterNode:n,burpSnd:r}})();function GE(t,n={}){let r=new Kt,s=new Audio(t);s.crossOrigin="anonymous",s.loop=!!n.loop,A.audio.ctx.createMediaElementSource(s).connect(A.audio.masterNode);function u(){A.debug.paused||A.app.isHidden()&&!A.globalOpt.backgroundAudio||A.audio.ctx.resume()}function c(){u(),s.play()}return n.paused||c(),s.onended=()=>r.trigger(),{play(){c()},seek(h){s.currentTime=h},stop(){s.pause(),this.seek(0)},set loop(h){s.loop=h},get loop(){return s.loop},set paused(h){h?s.pause():c()},get paused(){return s.paused},time(){return s.currentTime},duration(){return s.duration},set volume(h){s.volume=Kn(h,0,1)},get volume(){return s.volume},set speed(h){s.playbackRate=Math.max(h,0)},get speed(){return s.playbackRate},set detune(h){},get detune(){return 0},onEnd(h){return r.add(h)},then(h){return this.onEnd(h)}}}function VE(t,n={}){if(typeof t=="string"&&A.assets.music[t])return GE(A.assets.music[t],n);let r=A.audio.ctx,s=n.paused??!1,u=r.createBufferSource(),c=new Kt,h=r.createGain(),g=r.createStereoPanner(),p=n.seek??0,d=0,v=0,x=!1;u.loop=!!n.loop,u.detune.value=n.detune??0,u.playbackRate.value=n.speed??1,u.connect(g),u.onended=()=>{var E;b()>=(((E=u.buffer)==null?void 0:E.duration)??Number.POSITIVE_INFINITY)&&c.trigger()},g.pan.value=n.pan??0,g.connect(h),h.connect(A.audio.masterNode),h.gain.value=n.volume??1;let m=E=>{u.buffer=E.buf,s||(d=r.currentTime,u.start(0,p),x=!0)},S=Hx(t);S instanceof Mn&&S.onLoad(m);let b=()=>{if(!u.buffer)return 0;let E=s?v-d:r.currentTime-d,T=u.buffer.duration;return u.loop?E%T:Math.min(E,T)},C=E=>{let T=r.createBufferSource();return T.buffer=E.buffer,T.loop=E.loop,T.playbackRate.value=E.playbackRate.value,T.detune.value=E.detune.value,T.onended=E.onended,T.connect(g),T};return{stop(){this.paused=!0,this.seek(0)},set paused(E){if(s!==E)if(s=E,E)x&&(u.stop(),x=!1),v=r.currentTime;else{u=C(u);let T=v-d;u.start(0,T),x=!0,d=r.currentTime-T,v=0}},get paused(){return s},play(E=0){this.seek(E),this.paused=!1},seek(E){var T;(T=u.buffer)!=null&&T.duration&&(E>u.buffer.duration||(s?(u=C(u),d=v-E):(u.stop(),u=C(u),d=r.currentTime-E,u.start(0,E),x=!0,v=0)))},set speed(E){u.playbackRate.value=E},get speed(){return u.playbackRate.value},set detune(E){u.detune.value=E},get detune(){return u.detune.value},set volume(E){h.gain.value=Math.max(E,0)},get volume(){return h.gain.value},set pan(E){g.pan.value=E},get pan(){return g.pan.value},set loop(E){u.loop=E},get loop(){return u.loop},duration(){var E;return((E=u.buffer)==null?void 0:E.duration)??0},time(){return b()%this.duration()},onEnd(E){return c.add(E)},then(E){return this.onEnd(E)}}}function w0(t){return A.k.play(A.audio.burpSnd,t)}function x0(t){A.audio.masterNode.gain.value=t}function E0(){return A.audio.masterNode.gain.value}function XE(t){return Tr("volume","setVolume / getVolume"),t!==void 0&&x0(t),E0()}function S0(){A.app.onHide(()=>{A.globalOpt.backgroundAudio||A.audio.ctx.suspend()}),A.app.onShow(()=>{!A.globalOpt.backgroundAudio&&!A.debug.paused&&A.audio.ctx.resume()}),A.app.onResize(()=>{if(A.app.isFullscreen())return;let t=A.globalOpt.width&&A.globalOpt.height;t&&!A.globalOpt.stretch&&!A.globalOpt.letterbox||(A.canvas.width=A.canvas.offsetWidth*A.pixelDensity,A.canvas.height=A.canvas.offsetHeight*A.pixelDensity,Xy(),t||(A.gfx.frameBuffer.free(),A.gfx.frameBuffer=new _u(A.gfx.ggl,A.gfx.ggl.gl.drawingBufferWidth,A.gfx.ggl.gl.drawingBufferHeight),A.gfx.width=A.gfx.ggl.gl.drawingBufferWidth/A.pixelDensity/A.gscale,A.gfx.height=A.gfx.ggl.gl.drawingBufferHeight/A.pixelDensity/A.gscale))}),A.globalOpt.debug!==!1&&(A.app.onKeyPress(A.globalOpt.debugKey??"f1",()=>A.debug.inspect=!A.debug.inspect),A.app.onKeyPress("f2",()=>A.debug.clearLog()),A.app.onKeyPress("f8",()=>A.debug.paused=!A.debug.paused),A.app.onKeyPress("f7",()=>{A.debug.timeScale=Uf(Kn(A.debug.timeScale-.2,0,2),1)}),A.app.onKeyPress("f9",()=>{A.debug.timeScale=Uf(Kn(A.debug.timeScale+.2,0,2),1)}),A.app.onKeyPress("f10",()=>A.debug.stepFrame())),A.globalOpt.burp&&A.app.onKeyPress("b",()=>w0())}function QE(t,n={}){let r=A.game.root.add([Nu(t),C0()]),s=(n.speed||1)*5,u=n.scale||1;r.add([Gf(A.boomSprite),zu(0),Qf("center"),Hg(s,u),...n.comps??[]]);let c=r.add([Gf(A.kaSprite),zu(0),Qf("center"),Vf(),...n.comps??[]]);return c.wait(.4/s,()=>c.use(Hg(s,u))),c.onDestroy(()=>r.destroy()),r}function T0(t,n){if(A.game.layers)throw Error("Layers can only be assigned once.");let r=t.indexOf(n);if(r==-1)throw Error("The default layer name should be present in the layers list.");A.game.layers=t,A.game.defaultLayerIndex=r}function KE(){return A.game.layers}function ZE(){var t;return((t=A.game.layers)==null?void 0:t[A.game.defaultLayerIndex])??null}function FE(t,n){Tr("layers","setLayers"),T0(t,n)}function M0(t){t.destroy()}function kE(){return A.game.root}function JE(t,n){A.game.scenes[t]=n}function PE(t,...n){if(!A.game.scenes[t])throw new Error(`Scene not found: ${t}`);A.game.events.onOnce("frameEnd",()=>{A.game.events.trigger("sceneLeave",t),A.app.events.clear(),A.game.events.clear(),A.game.objEvents.clear(),[...A.game.root.children].forEach(r=>{!r.stay||r.scenesToStay&&!r.scenesToStay.includes(t)?A.game.root.remove(r):r.trigger("sceneEnter",t)}),A.game.root.clearEvents(),S0(),A.game.cam={pos:null,scale:X(1),angle:0,shake:0,transform:new Zn},A.game.scenes[t](...n)}),A.game.currentScene=t}function IE(t){return A.game.events.on("sceneLeave",t)}function WE(){return A.game.currentScene}function Gf(t,n={}){let r=null,s=null,u=null,c=new Kt;if(!t)throw new Error("Please pass the resource name or data to sprite()");let h=(d,v,x,m)=>{let S=X(1,1);return x&&m?(S.x=x/(d.width*v.w),S.y=m/(d.height*v.h)):x?(S.x=x/(d.width*v.w),S.y=S.x):m&&(S.y=m/(d.height*v.h),S.x=S.y),S},g=(d,v)=>{if(!v)return;let x=v.frames[0].clone();n.quad&&(x=x.scale(n.quad));let m=h(v.tex,x,n.width,n.height);if(d.width=v.tex.width*x.w*m.x,d.height=v.tex.height*x.h*m.y,v.anims)for(let S in v.anims){let b=v.anims[S];typeof b!="number"&&(b.frames=p(b))}r=v,c.trigger(r),n.anim&&d.play(n.anim)},p=d=>{if(d.frames)return d.frames;let v=[];if(d.from===void 0||d.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let x=Math.abs(d.to-d.from)+1;for(let m=0;m<x;m++)v.push(d.from+m*Math.sign(d.to-d.from));if(d.pingpong)for(let m=x-2;m>0;m--)v.push(v[m]);return v};return{id:"sprite",width:0,height:0,frame:n.frame||0,quad:n.quad||new ot(0,0,1,1),animSpeed:n.animSpeed??1,flipX:n.flipX??!1,flipY:n.flipY??!1,get sprite(){return t.toString()},set sprite(d){let v=Su(d);v&&v.onLoad(x=>g(this,x))},get animFrame(){if(!r||!s||u===null)return this.frame;let d=r.anims[s.name];return typeof d=="number"?d:d.from===void 0||d.to===void 0?s.frameIndex:this.frame-Math.min(d.from,d.to)},draw(){if(!r)return;let d=r.frames[this.frame??0];if(!d)throw new Error(`Frame not found: ${this.frame??0}`);if(r.slice9){let{left:v,right:x,top:m,bottom:S}=r.slice9,b=r.tex.width*d.w,C=r.tex.height*d.h,E=this.width-v-x,T=this.height-m-S,_=v/b,G=x/b,$=1-_-G,F=m/C,q=S/C,B=1-F-q,H=[vt(0,0,_,F),vt(_,0,$,F),vt(_+$,0,G,F),vt(0,F,_,B),vt(_,F,$,B),vt(_+$,F,G,B),vt(0,F+B,_,q),vt(_,F+B,$,q),vt(_+$,F+B,G,q),vt(0,0,v,m),vt(v,0,E,m),vt(v+E,0,x,m),vt(0,m,v,T),vt(v,m,E,T),vt(v+E,m,x,T),vt(0,m+T,v,S),vt(v,m+T,E,S),vt(v+E,m+T,x,S)];for(let W=0;W<9;W++){let ie=H[W],ae=H[W+9];Uu(Object.assign(xa(this),{pos:ae.pos(),tex:r.tex,quad:d.scale(ie),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:ae.w,height:ae.h}))}}else Uu(Object.assign(xa(this),{tex:r.tex,quad:d.scale(this.quad??new ot(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:this.width,height:this.height}))},add(){let d=Su(t);d?d.onLoad(v=>g(this,v)):gh(()=>g(this,Su(t).data))},update(){if(!r||!s||u===null)return;let d=r.anims[s.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");if(s.timer+=qt()*this.animSpeed,s.timer>=1/s.speed){s.timer=0,s.frameIndex+=u;let v=d.frames;if(s.frameIndex>=v.length)if(s.pingpong&&!d.pingpong)u=-1,s.frameIndex=v.length-2;else if(s.loop)s.frameIndex=0;else{this.frame=v.at(-1),s.onEnd(),this.stop();return}else if(s.frameIndex<0)if(s.pingpong&&s.loop)u=1,s.frameIndex=1;else if(s.loop)s.frameIndex=v.length-1;else{this.frame=v[0],s.onEnd(),this.stop();return}this.frame=v[s.frameIndex]}},play(d,v={}){if(!r){c.add(()=>this.play(d,v));return}let x=r.anims[d];if(x===void 0)throw new Error(`Anim not found: ${d}`);s&&this.stop(),s=typeof x=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:()=>{}}:{name:d,timer:0,loop:v.loop??x.loop??!1,pingpong:v.pingpong??x.pingpong??!1,speed:v.speed??x.speed??10,frameIndex:0,onEnd:v.onEnd??(()=>{})},u=typeof x=="number"?null:1,this.frame=typeof x=="number"?x:x.frames[0],this.trigger("animStart",d)},stop(){if(!s)return;let d=s.name;s=null,this.trigger("animEnd",d)},numFrames(){return(r==null?void 0:r.frames.length)??0},getCurAnim(){return s},curAnim(){return s==null?void 0:s.name},getAnim(d){return(r==null?void 0:r.anims[d])??null},hasAnim(d){return!!this.getAnim(d)},onAnimEnd(d){return this.on("animEnd",d)},onAnimStart(d){return this.on("animStart",d)},renderArea(){return new nt(X(0),this.width,this.height)},inspect(){return typeof t=="string"?`sprite: "${t}"`:null}}}function $E(t,n={}){function r(u){var h,g;let c=Aa(Object.assign(xa(u),{text:u.text+"",size:u.textSize,font:u.font,width:n.width&&u.width,align:u.align,letterSpacing:u.letterSpacing,lineSpacing:u.lineSpacing,transform:u.textTransform,styles:u.textStyles,indentAll:n.indentAll}));return n.width||(u.width=c.width/(((h=u.scale)==null?void 0:h.x)||1)),u.height=c.height/(((g=u.scale)==null?void 0:g.y)||1),c}let s={id:"text",set text(u){t=u,r(this),this.renderedText=Hf(t).text},get text(){return t},textSize:n.size??36,font:n.font,width:n.width??0,height:0,align:n.align,lineSpacing:n.lineSpacing,letterSpacing:n.letterSpacing,textTransform:n.transform,textStyles:n.styles,renderedText:t?Hf(t).text:"",add(){gh(()=>r(this))},draw(){wa(r(this))},renderArea(){return new nt(X(0),this.width,this.height)}};return r(s),s}function eS(t,n){return{id:"rect",width:t,height:n,draw(){Js(Object.assign(xa(this),{width:this.width,height:this.height}))},renderArea(){return new nt(X(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}function tS(t={}){let n=null,r=null,s=null,u=null;return{id:"agent",require:["pos","tile"],agentSpeed:t.speed??100,allowDiagonals:t.allowDiagonals??!0,getDistanceToTarget(){return n?this.pos.dist(n):0},getNextLocation(){return r&&s?r[s]:null},getPath(){return r?r.slice():null},getTarget(){return n},isNavigationFinished(){return r?s===null:!0},isTargetReachable(){return r!==null},isTargetReached(){return n?this.pos.eq(n):!0},setTarget(c){n=c,r=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),s=r?0:null,r&&s!==null?(u||(u=this.getLevel().onNavigationMapChanged(()=>{n&&r&&s!==null&&(r=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),r?(s=0,this.trigger("navigationNext",this,r[s])):(s=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>u==null?void 0:u.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,r[s])):this.trigger("navigationEnded",this)},update(){if(n&&r&&s!==null){if(this.pos.sdist(r[s])<2)if(s===r.length-1){this.pos=n.clone(),s=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else s++,this.trigger("navigationNext",this,r[s]);this.moveTo(r[s],this.agentSpeed)}},onNavigationStarted(c){return this.on("navigationStarted",c)},onNavigationNext(c){return this.on("navigationNext",c)},onNavigationEnded(c){return this.on("navigationEnded",c)},onTargetReached(c){return this.on("targetReached",c)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(n),path:JSON.stringify(r)})}}}function nS(t){let n=t.graph;return{id:"pathfinder",require:["pos"],navigateTo(r){var s;return(s=this.graph)==null?void 0:s.getWaypointPath(this.pos,r,t.navigationOpt)},get graph(){if(n)return n;let r=this.parent;for(;r;){if(r.has("pathfinderMap"))return r.graph;r=r.parent}},set graph(r){n=r}}}function iS(t={}){let n=t.waypoints,r=t.speed||100,s=t.endBehavior||"stop",u=0,c=n!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return r},set patrolSpeed(h){r=h},get waypoints(){return n},set waypoints(h){n=h,u=0,c=!1},get nextLocation(){return n?n[u]:void 0},update(){let h=this.nextLocation;if(!(!n||!h||c)&&(this.moveTo(h,r),this.pos.sdist(h)<9))switch(s){case"loop":u=(u+1)%n.length;break;case"ping-pong":u=u+1,u==n.length&&(n.reverse(),u=0);break;case"stop":u<n.length-1?u+=1:c||(c=!0,this.trigger("patrolFinished",this));break}},onPatrolFinished(h){return this.on("patrolFinished",h)}}}function aS(t,n={}){let r=typeof t=="function"?t:()=>A.game.root.query(t),s=n.checkFrequency||1,u=typeof n.direction=="number"?Z.fromAngle(n.direction):n.direction,c=0;return{id:"sentry",require:["pos"],direction:typeof n.direction=="number"?Z.fromAngle(n.direction):n.direction,spotted:[],set directionAngle(h){this.direction=h!==void 0?Z.fromAngle(h):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:n.fieldOfView||200,isWithinFieldOfView(h,g,p){let d=(typeof g=="number"?Z.fromAngle(g):g)||u,v=p||n.fieldOfView;if(!d||!v||v>=360)return!0;let x=v/2;return h.pos&&d.angleBetween(h.pos.sub(this.pos))<=x},hasLineOfSight(h){let g=u0(this.pos,h.pos.sub(this.pos),n.raycastExclude);return g!=null&&g.object===h},update(){if(c+=qt(),c>s){c-=s;let h=r();if(h.length&&u&&this.fieldOfView&&this.fieldOfView<360){let g=this.fieldOfView/2;h=h.filter(p=>p.pos&&u.angleBetween(p.pos.sub(this.pos))<=g)}h.length&&n.lineOfSight&&(h=h.filter(g=>g.pos&&this.hasLineOfSight(g))),h.length>0&&(this.spotted=h,this.trigger("objectSpotted",h))}},onObjectsSpotted(h){return this.on("objectSpotted",h)}}}function R0(t={}){let n=X(0),r=t.isObstacle??!1,s=t.cost??0,u=t.edges??[],c=()=>{let g={left:1,top:2,right:4,bottom:8};return u.map(p=>g[p]||0).reduce((p,d)=>p|d,0)},h=c();return{id:"tile",tilePosOffset:t.offset??X(0),set tilePos(g){let p=this.getLevel();n=g.clone(),this.pos=X(this.tilePos.x*p.tileWidth(),this.tilePos.y*p.tileHeight()).add(this.tilePosOffset)},get tilePos(){return n},set isObstacle(g){r!==g&&(r=g,this.getLevel().invalidateNavigationMap())},get isObstacle(){return r},set cost(g){s!==g&&(s=g,this.getLevel().invalidateNavigationMap())},get cost(){return s},set edges(g){u=g,h=c(),this.getLevel().invalidateNavigationMap()},get edges(){return u},get edgeMask(){return h},getLevel(){return this.parent},tileMove(g){let p=this.getLevel();p.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(g),p.insertIntoSpatialMap(this),p.trigger("spatialMapChanged")},moveLeft(){this.tileMove(X(-1,0))},moveRight(){this.tileMove(X(1,0))},moveUp(){this.tileMove(X(0,-1))},moveDown(){this.tileMove(X(0,1))}}}var vh=class{constructor(t,n,r){L(this,"name");L(this,"duration");L(this,"loops");L(this,"direction");L(this,"easing");L(this,"interpolation");L(this,"isFinished");L(this,"timing");L(this,"easings");L(this,"relative");this.name=t,this.duration=n.duration,this.loops=n.loops||0,this.direction=n.direction||"forward",this.easing=n.easing||Zs.linear,this.interpolation=n.interpolation||"linear",this.isFinished=!1,this.timing=n.timing,this.easings=n.easings,this.relative=r}update(t,n){return!0}getLowerKeyIndexAndRelativeTime(t,n,r){let s=n-1,u=t/this.duration;if(this.loops!==0&&u>=this.loops)return[s,0,!0];let c=Math.trunc(u);if(u-=c,(this.direction=="reverse"||this.direction=="ping-pong"&&c&1)&&(u=1-u),r){let h=0;for(;r[h+1]!==void 0&&r[h+1]<u;)h++;return h>=s?[s,0,!0]:[h,(u-r[h])/(r[h+1]-r[h]),!1]}else{let h=Math.floor((n-1)*u);return[h,(u-h/s)*s,!1]}}setValue(t,n,r){if(this.relative)switch(n){case"pos":t.pos=t.base.pos.add(r);break;case"angle":t.angle=t.base.angle+r;break;case"scale":t.scale=t.base.scale.scale(r);break;case"opacity":t.opacity=t.base.opacity*r;break;default:t[n]=r}else t[n]=r}serialize(){let t={duration:this.duration,keys:[]};return this.loops&&(t.loops=this.loops),this.direction!=="forward"&&(t.direction=this.direction),this.easing!=Zs.linear&&(t.easing=this.easing.name),this.interpolation!=="linear"&&(t.interpolation=this.interpolation),this.timing&&(t.timing=this.timing),this.easings&&(t.easings=this.easings.map(n=>this.easing.name)),t}};function Lg(t,n){return n.add(n.sub(t))}var rS=class extends vh{constructor(n,r,s,u){super(n,s,u);L(this,"keys");this.keys=r}update(n,r){let[s,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[s]);else{let h=this.easings?this.easings[s]:this.easing;this.setValue(n,this.name,rn(this.keys[s],this.keys[s+1],h(u)))}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},sS=class extends vh{constructor(n,r,s,u,c){var h;super(n,s,u);L(this,"keys");L(this,"curves");L(this,"dcurves");if(this.keys=r,this.interpolation==="spline"){this.curves=[],c&&(this.dcurves=[]);for(let g=0;g<this.keys.length-1;g++){let p=this.keys[g],d=g+1,v=this.keys[d],x=g>0?this.keys[g-1]:Lg(v,p),m=d<this.keys.length-1?this.keys[d+1]:Lg(p,v);this.curves.push(qu(x,p,v,m)),c&&((h=this.dcurves)==null||h.push(qu(x,p,v,m,n2)))}}}update(n,r){let[s,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[s]);else{let h=this.easings?this.easings[s]:this.easing;switch(this.interpolation){case"linear":this.setValue(n,this.name,this.keys[s].lerp(this.keys[s+1],h(u)));break;case"slerp":this.setValue(n,this.name,this.keys[s].slerp(this.keys[s+1],h(u)));break;case"spline":if(this.curves){this.setValue(n,this.name,this.curves[s](h(u))),this.dcurves&&this.setValue(n,"angle",this.dcurves[s](h(u)).angle());break}}}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(n=>[n.x,n.y])})}},lS=class extends vh{constructor(n,r,s,u){super(n,s,u);L(this,"keys");this.keys=r}update(n,r){let[s,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(n,this.name,this.keys[s]);else{let h=this.easings?this.easings[s]:this.easing;this.setValue(n,this.name,this.keys[s].lerp(this.keys[s+1],h(u)))}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}};function uS(t={}){let n=[],r=0,s=!1;return{id:"animate",require:t.followMotion?["rotate"]:void 0,base:{pos:X(0,0),angle:0,scale:X(1,1),opacity:1},animation:{paused:!1,seek(u){r=Kn(u,0,this.duration),n.forEach(c=>{c.isFinished=!1}),s=!1},get duration(){return n.reduce((u,c)=>Math.max(c.duration,u),0)}},add(){t.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let u=!0,c;r+=qt();for(let h of n)c=h.update(this,r),c&&!h.isFinished&&(h.isFinished=!0,this.trigger("animateChannelFinished",h.name)),u&&(u=c);u&&!s&&(s=!0,this.trigger("animateFinished"))},animate(u,c,h){s=!1,this.unanimate(u),typeof c[0]=="number"?n.push(new rS(u,c,h,t.relative||!1)):c[0]instanceof Z?n.push(new sS(u,c,h,t.relative||!1,u==="pos"&&(t.followMotion||!1))):c[0]instanceof _e&&n.push(new lS(u,c,h,t.relative||!1))},unanimate(u){let c=n.findIndex(h=>h.name===u);c>=0&&n.splice(c,1)},unanimateAll(){n.splice(0,n.length)},onAnimateFinished(u){return this.on("animateFinished",u)},onAnimateChannelFinished(u){return this.on("animateChannelFinished",u)},serializeAnimationChannels(){return n.reduce((u,c)=>(u[c.name]=c.serialize(),u),{})},serializeAnimationOptions(){let u={};return t.followMotion&&(u.followMotion=!0),t.relative&&(u.relative=!0),u}}}function O0(t,n){let r={name:t.name};return t.has("animate")&&(r.channels=t.serializeAnimationChannels(),Object.assign(r,t.serializeAnimationOptions())),t.children.length>0&&(r.children=t.children.filter(s=>s.has("named")).map(s=>O0(s,s.name))),r}function Hg(t=2,n=1){let r=0;return{require:["scale"],update(){let s=Math.sin(r*t)*n;s<0&&this.destroy(),this.scale=X(s),r+=qt()}}}function oS(t,n){if(t==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(r=1){this.setHP(t-r),this.trigger("hurt",r)},heal(r=1){let s=t;this.setHP(t+r),this.trigger("heal",t-s)},hp(){return t},maxHP(){return n??null},setMaxHP(r){n=r},setHP(r){t=n?Math.min(n,r):r,t<=0&&this.trigger("death")},onHurt(r){return this.on("hurt",r)},onHeal(r){return this.on("heal",r)},onDeath(r){return this.on("death",r)},inspect(){return`health: ${t}`}}}function cS(t,n={}){if(t==null)throw new Error("lifespan() requires time");let r=n.fade??0;return{id:"lifespan",require:["opacity"],add(){A.game.root.wait(t,()=>{this.opacity=this.opacity??1,r>0?A.game.root.tween(this.opacity,0,r,s=>this.opacity=s,Zs.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}function fS(t){return{id:"named",name:t}}function hS(t,n,r){if(!t)throw new Error("state() requires an initial state");let s={};function u(p){s[p]||(s[p]={enter:new Kt,end:new Kt,update:new Kt,draw:new Kt})}function c(p,d,v){return u(d),s[d][p].add(v)}function h(p,d,...v){u(d),s[d][p].trigger(...v)}let g=!1;return{id:"state",state:t,enterState(p,...d){if(g=!0,n&&!n.includes(p))throw new Error(`State not found: ${p}`);let v=this.state;if(r){if(!(r!=null&&r[v]))return;let x=typeof r[v]=="string"?[r[v]]:r[v];if(!x.includes(p))throw new Error(`Cannot transition state from "${v}" to "${p}". Available transitions: ${x.map(m=>`"${m}"`).join(", ")}`)}h("end",v,...d),this.state=p,h("enter",p,...d),h("enter",`${v} -> ${p}`,...d)},onStateTransition(p,d,v){return c("enter",`${p} -> ${d}`,v)},onStateEnter(p,d){return c("enter",p,d)},onStateUpdate(p,d){return c("update",p,d)},onStateDraw(p,d){return c("draw",p,d)},onStateEnd(p,d){return c("end",p,d)},update(){g||(h("enter",t),g=!0),h("update",this.state)},draw(){h("draw",this.state)},inspect(){return`state: ${this.state}`}}}function C0(t){return{id:"stay",stay:!0,scenesToStay:t}}function dS(t=!0,n){let r,s;return{id:"textInput",hasFocus:t,require:["text"],typedText:"",add(){let u=()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")};r=A.k.onCharInput(c=>{this.hasFocus&&(!n||this.typedText.length<n)&&(A.k.isKeyDown("shift")?this.typedText+=c.toUpperCase():this.typedText+=c,u())}),s=A.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),u()})},destroy(){r.cancel(),s.cancel()}}}function Vf(t=1e3){return{id:"timer",maxLoopsPerFrame:t,loop(n,r,s=1/0,u=!1){let c=u?0:n,h=new Kt,g=this.onUpdate(()=>{c+=A.app.state.dt;for(let p=0;c>=n&&p<this.maxLoopsPerFrame;p++)if(s--,r(),c-=n,s<=0){g.cancel(),h.trigger();return}});return{get paused(){return g.paused},set paused(p){g.paused=p},cancel:g.cancel,onEnd(p){h.add(p)},then(p){return h.add(p),this}}},wait(n,r){return this.loop(n,r??(()=>{}),1,!0)},tween(n,r,s,u,c=Zs.linear){let h=0,g=[],p=this.onUpdate(()=>{h+=A.app.state.dt;let d=Math.min(h/s,1);u(rn(n,r,c(d))),d===1&&(p.cancel(),u(r),g.forEach(v=>v()))});return{get paused(){return p.paused},set paused(d){p.paused=d},onEnd(d){g.push(d)},then(d){return this.onEnd(d),this},cancel(){p.cancel()},finish(){p.cancel(),u(r),g.forEach(d=>d())}}}}}var Xf=0;function pS(){return Xf>0}function mS(t={}){let n={},r=new Set,s=[];return{id:"area",collisionIgnore:t.collisionIgnore??[],add(){Xf++,this.area.cursor&&s.push(this.onHover(()=>A.app.setCursor(this.area.cursor))),s.push(this.onCollideUpdate((u,c)=>{if(!u.id)throw new Error("area() requires the object to have an id");n[u.id]||this.trigger("collide",u,c),c&&(n[u.id]=c,r.add(u.id))}))},destroy(){Xf--;for(let u of s)u.cancel()},fixedUpdate(){for(let u in n)r.has(Number(u))||(this.trigger("collideEnd",n[u].target),delete n[u]);r.clear()},drawInspect(){let u=this.localArea();xn(),ht(this.area.offset);let c={outline:{width:4/Qy(),color:Xe(0,0,255)},anchor:this.anchor,fill:!1,fixed:ya(this)};u instanceof nt?Sn({...c,pos:u.pos,width:u.width*this.area.scale.x,height:u.height*this.area.scale.y}):u instanceof Zt?Xi({...c,pts:u.pts,scale:this.area.scale}):u instanceof sn&&Rr({...c,pos:u.center,radius:u.radius}),an()},area:{shape:t.shape??null,scale:t.scale?X(t.scale):X(1),offset:t.offset??X(0),cursor:t.cursor??null},isClicked(){return A.app.isMousePressed()&&this.isHovering()},isHovering(){let u=ya(this)?A.k.mousePos():A.k.toWorld(A.k.mousePos());return this.hasPoint(u)},checkCollision(u){if(!u.id)throw new Error("checkCollision() requires the object to have an id");return n[u.id]??null},getCollisions(){return Object.values(n)},isColliding(u){if(!u.id)throw new Error("isColliding() requires the object to have an id");return!!n[u.id]},isOverlapping(u){if(!u.id)throw new Error("isOverlapping() requires the object to have an id");let c=n[u.id];return c&&c.hasOverlap()},onClick(u,c="left"){let h=A.app.onMousePress(c,()=>{this.isHovering()&&u()});return s.push(h),h},onHover(u){let c=!1;return this.onUpdate(()=>{c?c=this.isHovering():this.isHovering()&&(c=!0,u())})},onHoverUpdate(u){return this.onUpdate(()=>{this.isHovering()&&u()})},onHoverEnd(u){let c=!1;return this.onUpdate(()=>{c?this.isHovering()||(c=!1,u()):c=this.isHovering()})},onCollide(u,c){if(typeof u=="function"&&c===void 0)return this.on("collide",u);if(typeof u=="string")return this.onCollide((h,g)=>{h.is(u)&&(c==null||c(h,g))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(u,c){if(typeof u=="function"&&c===void 0)return this.on("collideUpdate",u);if(typeof u=="string")return this.on("collideUpdate",(h,g)=>h.is(u)&&(c==null?void 0:c(h,g)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(u,c){if(typeof u=="function"&&c===void 0)return this.on("collideEnd",u);if(typeof u=="string")return this.on("collideEnd",h=>h.is(u)&&(c==null?void 0:c(h)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(u){return Ki(this.worldArea(),u)},resolveCollision(u){let c=this.checkCollision(u);c&&!c.resolved&&(this.pos=this.pos.add(c.displacement),c.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let u=this.localArea();if(!(u instanceof Zt||u instanceof nt))throw new Error("Only support polygon and rect shapes for now");let c=this.transform.clone().translate(this.area.offset).scale(X(this.area.scale??1));if(u instanceof nt){let h=Mr(this.anchor||Qu).add(1,1).scale(-.5).scale(u.width,u.height);c.translate(h)}return u.transform(c)},screenArea(){let u=this.worldArea();return ya(this)?u:u.transform(A.game.cam.transform)},inspect(){var u,c,h,g,p,d,v;return((u=this.area.scale)==null?void 0:u.x)==((c=this.area.scale)==null?void 0:c.y)?`area: ${(g=(h=this.area.scale)==null?void 0:h.x)==null?void 0:g.toFixed(1)}x`:`area: (${(d=(p=this.area.scale)==null?void 0:p.x)==null?void 0:d.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}function gS(t={}){let n=null,r=null,s=!1,u=X(0),c=null,h=null,g;return{id:"body",require:["pos"],vel:X(0),drag:t.drag??0,jumpForce:t.jumpForce??x2,gravityScale:t.gravityScale??1,isStatic:t.isStatic??!1,mass:t.mass??1,add(){if(c=this.pos.clone(),h=this.pos.clone(),g=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((p,d)=>{if(!d||!p.has("body")||d.resolved)return;this.trigger("beforePhysicsResolve",d);let v=d.reverse();if(p.trigger("beforePhysicsResolve",v),!(d.resolved||v.resolved)&&!(this.isStatic&&p.isStatic)){if(!this.isStatic&&!p.isStatic){let x=this.mass+p.mass;this.pos=this.pos.add(d.displacement.scale(p.mass/x)),p.pos=p.pos.add(d.displacement.scale(-this.mass/x)),this.transform=Gs(this),p.transform=Gs(p)}else{let x=!this.isStatic&&p.isStatic?d:d.reverse();x.source.pos=x.source.pos.add(x.displacement),x.source.transform=Gs(x.source)}d.resolved=!0,this.trigger("physicsResolve",d),p.trigger("physicsResolve",d.reverse())}}),this.onPhysicsResolve(p=>{if(A.game.gravity)if(p.isBottom()&&this.isFalling()){this.vel=this.vel.reject(A.game.gravity.unit());let d=n;n=p.target,d!=n&&(r=p.target.pos),s?s=!1:d||(this.trigger("ground",n),p.target.trigger("land",this))}else p.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(A.game.gravity.unit()),this.trigger("headbutt",p.target),p.target.trigger("headbutted",this))}))},update(){n&&this.isColliding(n)&&n.exists()&&n.has("body")&&(r&&!n.pos.eq(r)&&t.stickToPlatform!==!1&&this.moveBy(n.pos.sub(r)),r=n.pos);let p=zf();p&&(this.pos.x==g.x&&(this.pos.x=rn(c.x,h.x,p/Nf()),g.x=this.pos.x),this.pos.y==g.y&&(this.pos.y=rn(c.y,h.y,p/Nf()),g.y=this.pos.y))},fixedUpdate(){if(c&&(this.pos.x==g.x&&(this.pos.x=c.x),this.pos.y==g.y&&(this.pos.y=c.y),c=null),A.game.gravity&&!this.isStatic){s&&(n=null,r=null,this.trigger("fallOff"),s=!1),n&&(!this.isColliding(n)||!n.exists()||!n.has("body"))&&(s=!0);let p=this.vel.clone();this.vel=this.vel.add(A.game.gravity.scale(this.gravityScale*qt()));let d=t.maxVelocity??E2;this.vel.slen()>d*d&&(this.vel=this.vel.unit().scale(d)),p.dot(A.game.gravity)<0&&this.vel.dot(A.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=u.x*qt(),this.vel.y+=u.y*qt(),this.vel.x*=1-this.drag*qt(),this.vel.y*=1-this.drag*qt(),this.move(this.vel),zf()){c=this.pos.clone();let p=this.vel.add(u.scale(qt()));h=this.pos.add(p.scale(qt())),g=this.pos.clone()}u.x=0,u.y=0},onPhysicsResolve(p){return this.on("physicsResolve",p)},onBeforePhysicsResolve(p){return this.on("beforePhysicsResolve",p)},curPlatform(){return n},isGrounded(){return n!==null},isFalling(){return this.vel.dot(Xs())>0},isJumping(){return this.vel.dot(Xs())<0},applyImpulse(p){this.isStatic||(this.vel=this.vel.add(p))},addForce(p){this.isStatic||(u.x+=p.x/this.mass,u.y+=p.y/this.mass)},jump(p){this.isStatic||(n=null,r=null,this.vel=Xs().scale(-p||-this.jumpForce))},onGround(p){return this.on("ground",p)},onFall(p){return this.on("fall",p)},onFallOff(p){return this.on("fallOff",p)},onHeadbutt(p){return this.on("headbutt",p)},onLand(p){return this.on("land",p)},onHeadbutted(p){return this.on("headbutted",p)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}function yS(t=2){let n=t;return{id:"doubleJump",require:["body"],numJumps:t,add(){this.onGround(()=>{n=this.numJumps})},doubleJump(r){n<=0||(n<this.numJumps&&this.trigger("doubleJump"),n--,this.jump(r))},onDoubleJump(r){return this.on("doubleJump",r)},inspect(){return`jumpsLeft: ${n}`}}}function vS(t){return{id:"surfaceEffector",require:["area"],speed:t.speed,speedVariation:t.speedVariation??0,forceScale:t.speedVariation??.9,add(){this.onCollideUpdate("body",(n,r)=>{var h;let s=r==null?void 0:r.normal.normal(),u=n.vel.project(s),c=(h=s==null?void 0:s.scale(this.speed))==null?void 0:h.sub(u);n.addForce(c==null?void 0:c.scale(n.mass*this.forceScale))})}}}function bS(t){return{id:"areaEffector",require:["area"],useGlobalAngle:t.useGlobalAngle||!1,forceAngle:t.forceAngle,forceMagnitude:t.forceMagnitude,forceVariation:t.forceVariation??0,linearDrag:t.linearDrag??0,add(){this.onCollideUpdate("body",(n,r)=>{if(!n.has("body"))return;let s=Z.fromAngle(this.forceAngle).scale(this.forceMagnitude);n.addForce(s),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function AS(t){return{id:"pointEffector",require:["area","pos"],forceMagnitude:t.forceMagnitude,forceVariation:t.forceVariation??0,distanceScale:t.distanceScale??1,forceMode:t.forceMode||"inverseLinear",linearDrag:t.linearDrag??0,add(){this.onCollideUpdate("body",(n,r)=>{let s=this.pos.sub(n.pos),u=s.len(),c=u*this.distanceScale/10,h=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/c:1/c**2,g=s.scale(this.forceMagnitude*h/u);n.addForce(g),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function wS(t){return{id:"constantForce",require:["body"],force:t.force,update(){this.force&&this.addForce(this.force)}}}function xS(t){return{id:"platformEffector",require:["area","body"],surfaceArc:t.surfaceArc??180,useOneWay:t.useOneWay??!1,add(){this.onBeforePhysicsResolve(n=>{let r=n.target.vel,s=Xs().scale(-1).angleBetween(r);Math.abs(s)>this.surfaceArc/2&&n.preventResolution()})}}}function ES(t){return{id:"buoyancyEffector",require:["area"],surfaceLevel:t.surfaceLevel,density:t.density??1,linearDrag:t.linearDrag??1,angularDrag:t.angularDrag??.2,flowAngle:t.flowAngle??0,flowMagnitude:t.flowMagnitude??0,flowVariation:t.flowVariation??0,add(){this.onCollideUpdate("body",(n,r)=>{let s=n,u=s.worldArea(),[c,h]=u.cut(X(-100,this.surfaceLevel),X(100,this.surfaceLevel));c&&(this.applyBuoyancy(s,c),this.applyDrag(s,c)),this.flowMagnitude&&s.addForce(Z.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(n,r){let s=this.density*r.area(),u=X(0,1).scale(-s);n.addForce(u)},applyDrag(n,r){let s=n.vel,u=this.density*this.linearDrag,c=s.scale(-u);n.addForce(c)}}}function Qf(t){if(!t)throw new Error("Please define an anchor");return{id:"anchor",anchor:t,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}function q0(){return{id:"fixed",fixed:!0}}function SS(t,n){return{id:"follow",require:["pos"],follow:{obj:t,offset:n??X(0)},add(){t.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){t.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}function TS(t){var r;let n=(r=A.game.layers)==null?void 0:r.indexOf(t);return{id:"layer",get layerIndex(){return n??null},get layer(){var s;return n?((s=A.game.layers)==null?void 0:s[n])??null:null},set layer(s){var u;if(n=(u=A.game.layers)==null?void 0:u.indexOf(s),n==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}function MS(t,n){let r=typeof t=="number"?Z.fromAngle(t):t.unit();return{id:"move",require:["pos"],update(){this.move(r.scale(n))}}}function RS(t={}){let n=!1,r=new nt(X(0),Ut(),jt()),s=new nt(X(0),0,0),u=c=>{c.isOffScreen()?(n||(c.trigger("exitView"),n=!0),t.hide&&(c.hidden=!0),t.pause&&(c.paused=!0),t.destroy&&c.destroy()):(n&&(c.trigger("enterView"),n=!1),t.hide&&(c.hidden=!1),t.pause&&(c.paused=!1))};return{id:"offscreen",require:["pos"],offscreenDistance:t.distance??Tg,isOffScreen(){let c=this.screenPos();if(!c)return!1;if(r.width=Ut(),r.height=jt(),!this.offscreenDistance&&this.width&&this.height)return s.width=this.width,s.height=this.height,s.pos=this.pos,s.collides(r);let h=this.offscreenDistance?this.offscreenDistance:Tg;return!Gu(r,c)&&r.sdistToPoint(c)>h*h},onExitScreen(c){return this.on("exitView",c)},onEnterScreen(c){return this.on("enterView",c)},add(){t.pause&&t.unpause?c0(()=>u(this)):this.onUpdate(()=>u(this))}}}function Nu(...t){return{id:"pos",pos:X(...t),moveBy(...n){this.pos=this.pos.add(X(...n))},move(...n){this.moveBy(X(...n).scale(qt()))},moveTo(...n){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.moveTo(X(n[0],n[1]),n[2]);let r=n[0],s=n[1];if(s===void 0){this.pos=X(r);return}let u=r.sub(this.pos);if(u.len()<=s*qt()){this.pos=X(r);return}this.move(u.unit().scale(s))},worldPos(n=null){return n?(this.pos=this.pos.add(this.fromWorld(n)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(n){return this.parent?this.parent.transform.multVec2(this.pos.add(n)):this.pos.add(n)},fromWorld(n){return this.parent?this.parent.transform.invert().multVec2(n).sub(this.pos):n.sub(this.pos)},screenPos(n=null){if(n)return this.pos=this.pos.add(this.fromScreen(n)),null;{let r=this.worldPos();return r?ya(this)?r:Yf(r):null}},toScreen(n){let r=this.toWorld(n);return ya(this)?r:Yf(r)},fromScreen(n){return ya(this)?this.fromWorld(n):this.fromWorld(A0(n))},toOther(n,r){return n.fromWorld(this.toWorld(r))},fromOther(n,r){return n.toOther(this,r)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Rr({color:Xe(255,0,0),radius:4/Qy()})}}}function OS(t){return{id:"rotate",angle:t??0,rotateBy(n){this.angle+=n},rotateTo(n){this.angle=n},inspect(){return`angle: ${Math.round(this.angle)}`}}}function zu(...t){if(t.length===0)return zu(1);let n=X(...t);return{id:"scale",set scale(r){if(!(r instanceof Z))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");n=X(r)},get scale(){return n},scaleTo(...r){n=X(...r)},scaleBy(...r){n=n.scale(X(...r))},inspect(){return n.x==n.y?`scale: ${n.x.toFixed(1)}x`:`scale: (${n.x.toFixed(1)}x, ${n.y.toFixed(1)}y)`}}}function CS(t){return{id:"z",z:t,inspect(){return`z: ${this.z}`}}}var qS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",DS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",BS=ww.version,A={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},_S=(t={tagsAsComponents:!0})=>{A.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),A.k.quit()),A.globalOpt=t;let n=t.root??document.body;n===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let r=t.canvas??n.appendChild(document.createElement("canvas"));A.canvas=r;let s=t.scale??1;A.gscale=s;let u=t.width&&t.height&&!t.stretch&&!t.letterbox;u?(r.width=t.width*s,r.height=t.height*s):(r.width=r.parentElement.offsetWidth,r.height=r.parentElement.offsetHeight);let c=["outline: none","cursor: default"];if(u){let he=r.width,Se=r.height;c.push(`width: ${he}px`),c.push(`height: ${Se}px`)}else c.push("width: 100%"),c.push("height: 100%");t.crisp&&(c.push("image-rendering: pixelated"),c.push("image-rendering: crisp-edges")),r.style.cssText=c.join(";");let h=t.pixelDensity||1;A.pixelDensity=h,r.width*=h,r.height*=h,r.tabIndex=0;let g=document.createElement("canvas");g.width=256,g.height=256,A.fontCacheCanvas=g;let p=g.getContext("2d",{willReadFrequently:!0});A.fontCacheC2d=p;let d=$2({canvas:r,touchToMouse:t.touchToMouse,gamepads:t.gamepads,pixelDensity:t.pixelDensity,maxFPS:t.maxFPS,buttons:t.buttons});A.app=d;let v=[],x=d.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!x)throw new Error("WebGL not supported");let m=x,S=Zx(m,{texFilter:t.texFilter}),b=$x(t,S);A.gfx=b;let C=YE();A.audio=C;let E=Mx(S,t.spriteAtlasPadding??0);A.assets=E;let T=NE();A.game=T,T.root.use(Vf());function _(he,Se){let Re=new _u(S,he,Se);return{clear:()=>Re.clear(),free:()=>Re.free(),toDataURL:()=>Re.toDataURL(),toImageData:()=>Re.toImageData(),width:Re.width,height:Re.height,draw:$e=>{En(),Re.bind(),$e(),En(),Re.unbind()},get fb(){return Re}}}function G(){m.clear(m.COLOR_BUFFER_BIT),b.frameBuffer.bind(),m.clear(m.COLOR_BUFFER_BIT),b.bgColor||Gi(()=>{Js({width:Ut(),height:jt(),quad:new ot(0,0,Ut()/64,jt()/64),tex:b.bgTex,fixed:!0})}),b.renderer.numDraws=0,b.fixed=!1,b.transformStack.length=0,b.transform=new Zn}function $(he,Se){b.postShader=he,b.postShaderUniform=Se??null}function F(){En(),b.lastDrawCalls=b.renderer.numDraws,b.frameBuffer.unbind(),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight);let he=b.width,Se=b.height;b.width=m.drawingBufferWidth/h,b.height=m.drawingBufferHeight/h,Uu({flipY:!0,tex:b.frameBuffer.tex,pos:new Z(b.viewport.x,b.viewport.y),width:b.viewport.width,height:b.viewport.height,shader:b.postShader,uniform:typeof b.postShaderUniform=="function"?b.postShaderUniform():b.postShaderUniform,fixed:!0}),En(),b.width=he,b.height=Se}let q=!1,B={inspect:!1,set timeScale(he){A.app.state.timeScale=he},get timeScale(){return A.app.state.timeScale},showLog:!0,fps:()=>d.fps(),numFrames:()=>d.numFrames(),stepFrame:fe,drawCalls:()=>b.lastDrawCalls,clearLog:()=>T.logs=[],log:(...he)=>{let Se=t.logMax??8,Re=he.length>1?he.concat(" ").join(" "):he[0];T.logs.unshift({msg:Re,time:d.time()}),T.logs.length>Se&&(T.logs=T.logs.slice(0,Se))},error:he=>B.log(new Error(he.toString?he.toString():he)),curRecording:null,numObjects:()=>z("*",{recursive:!0}).length,get paused(){return q},set paused(he){q=he,he?C.ctx.suspend():C.ctx.resume()}};A.debug=B;function H(he,Se){try{return JSON.parse(window.localStorage[he])}catch{return Se?(W(he,Se),Se):null}}function W(he,Se){window.localStorage[he]=JSON.stringify(Se)}function ie(he,...Se){let Re=he(Nt),$e;typeof Re=="function"?$e=Re(...Se)(Nt):$e=Re;for(let Ke in $e)Nt[Ke]=$e[Ke],t.global!==!1&&(window[Ke]=$e[Ke]);return Nt}function ae(he){let Se=d.canvas.captureStream(he),Re=C.ctx.createMediaStreamDestination();C.masterNode.connect(Re);let $e=new MediaRecorder(Se),Ke=[];return $e.ondataavailable=Le=>{Le.data.size>0&&Ke.push(Le.data)},$e.onerror=()=>{C.masterNode.disconnect(Re),Se.getTracks().forEach(Le=>Le.stop())},$e.start(),{resume(){$e.resume()},pause(){$e.pause()},stop(){return $e.stop(),C.masterNode.disconnect(Re),Se.getTracks().forEach(Le=>Le.stop()),new Promise(Le=>{$e.onstop=()=>{Le(new Blob(Ke,{type:"video/mp4"}))}})},download(Le="kaboom.mp4"){this.stop().then(Tt=>Mg(Le,Tt))}}}function ue(){return document.activeElement===d.canvas}let pe=T.root.add.bind(T.root),we=T.root.readd.bind(T.root),be=T.root.removeAll.bind(T.root),z=T.root.get.bind(T.root),te=T.root.wait.bind(T.root),se=T.root.loop.bind(T.root),ce=T.root.query.bind(T.root),M=T.root.tween.bind(T.root),K=Vs(null,DS),ne=Vs(null,qS);A.kaSprite=K,A.boomSprite=ne;function re(){T.root.fixedUpdate()}function fe(){T.root.update()}class Ce{constructor(Se,Re,$e,Ke,Le=!1){L(this,"source");L(this,"target");L(this,"normal");L(this,"distance");L(this,"resolved",!1);this.source=Se,this.target=Re,this.normal=$e,this.distance=Ke,this.resolved=Le}get displacement(){return this.normal.scale(this.distance)}reverse(){return new Ce(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(T.gravity||X(0,1))>0}isRight(){return this.displacement.cross(T.gravity||X(0,1))<0}isTop(){return this.displacement.dot(T.gravity||X(0,1))>0}isBottom(){return this.displacement.dot(T.gravity||X(0,1))<0}preventResolution(){this.resolved=!0}}function xe(){if(!pS())return;let he={},Se=t.hashGridSize||64,Re=new Zn,$e=[];function Ke(Le){if($e.push(Re.clone()),Le.pos&&Re.translate(Le.pos),Le.scale&&Re.scale(Le.scale),Le.angle&&Re.rotate(Le.angle),Le.transform=Re.clone(),Le.c("area")&&!Le.paused){let Tt=Le,Rn=Tt.worldArea().bbox(),gi=Math.floor(Rn.pos.x/Se),Or=Math.floor(Rn.pos.y/Se),Ra=Math.ceil((Rn.pos.x+Rn.width)/Se),Cr=Math.ceil((Rn.pos.y+Rn.height)/Se),Oa=new Set;for(let Dt=gi;Dt<=Ra;Dt++)for(let st=Or;st<=Cr;st++)if(!he[Dt])he[Dt]={},he[Dt][st]=[Tt];else if(!he[Dt][st])he[Dt][st]=[Tt];else{let Ft=he[Dt][st];e:for(let Je of Ft){if(Je.paused||!Je.exists()||Oa.has(Je.id))continue;for(let On of Tt.collisionIgnore)if(Je.is(On))continue e;for(let On of Je.collisionIgnore)if(Tt.is(On))continue e;let ki=u2(Tt.worldArea(),Je.worldArea());if(ki){let On=new Ce(Tt,Je,ki.normal,ki.distance);Tt.trigger("collideUpdate",Je,On);let Ca=On.reverse();Ca.resolved=On.resolved,Je.trigger("collideUpdate",Tt,Ca)}Oa.add(Je.id)}Ft.push(Tt)}}Le.children.forEach(Ke),Re=$e.pop()}Ke(T.root)}function At(he){console.error(he),C.ctx.suspend();let Se=he.message??String(he)??"Unknown error, check console for more info";d.run(()=>{},()=>{G(),Gi(()=>{let Re=Ut(),$e=jt(),Ke={size:36,width:Re-32*2,letterSpacing:4,lineSpacing:4,font:Du,fixed:!0};Sn({width:Re,height:$e,color:Xe(0,0,255),fixed:!0});let Le=Aa({...Ke,text:"Error",pos:X(32),color:Xe(255,128,0),fixed:!0});wa(Le),zg({...Ke,text:Se,pos:X(32,32+Le.height+16),fixed:!0}),an(),T.events.trigger("error",he)}),F()})}function Qe(he){v.push(he)}function on(){T.events.onOnce("frameEnd",()=>{d.quit(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT);let he=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS);for(let Se=0;Se<he;Se++)m.activeTexture(m.TEXTURE0+Se),m.bindTexture(m.TEXTURE_2D,null),m.bindTexture(m.TEXTURE_CUBE_MAP,null);m.bindBuffer(m.ARRAY_BUFFER,null),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null),m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,null),S.destroy(),v.forEach(Se=>Se())})}let Nn=!0;d.run(()=>{try{E.loaded&&(B.paused||re(),xe())}catch(he){At(he)}},(he,Se)=>{try{he(),E.loaded||ba()===1&&!Nn&&(E.loaded=!0,Zy().forEach(Re=>T.events.trigger("loadError",...Re)),T.events.trigger("load")),!E.loaded&&t.loadingScreen!==!1||Nn?(G(),Jx(),F()):(B.paused||fe(),xe(),G(),kx(),t.debug!==!1&&Fx(),F()),Nn&&(Nn=!1),T.events.trigger("frameEnd"),Se()}catch(Re){At(Re)}}),Xy(),S0();let Nt={_k:A,VERSION:BS,loadRoot:Ex,loadProgress:ba,loadSprite:Vs,loadSpriteAtlas:e0,loadSound:jx,loadMusic:Yx,loadBitmapFont:Bx,loadFont:qx,loadShader:zx,loadShaderURL:Lx,loadAseprite:Cx,loadPedit:_x,loadBean:Ox,loadJSON:Sx,load:Lf,getSound:$y,getFont:Py,getBitmapFont:Iy,getSprite:Fy,getShader:Wy,getAsset:Tx,Asset:Mn,SpriteData:Zi,SoundData:ks,width:Ut,height:jt,center:Bu,dt:qt,fixedDt:Nf,restDt:zf,time:d.time,screenshot:d.screenshot,record:ae,isFocused:ue,setCursor:d.setCursor,getCursor:d.getCursor,setCursorLocked:d.setCursorLocked,isCursorLocked:d.isCursorLocked,setFullscreen:d.setFullscreen,isFullscreen:d.isFullscreen,isTouchscreen:d.isTouchscreen,onLoad:gh,onLoadError:RE,onLoading:SE,onResize:TE,onGamepadConnect:d.onGamepadConnect,onGamepadDisconnect:d.onGamepadDisconnect,onError:ME,onCleanup:Qe,flash:b0,setCamPos:d0,getCamPos:p0,setCamRot:y0,getCamRot:v0,setCamScale:m0,getCamScale:g0,getCamTransform:OE,camPos:DE,camScale:BE,camFlash:UE,camRot:_E,camTransform:CE,shake:qE,toScreen:Yf,toWorld:A0,setGravity:zE,getGravity:LE,setGravityDirection:HE,getGravityDirection:Xs,setBackground:yx,getBackground:vx,getGamepads:d.getGamepads,getTreeRoot:kE,add:pe,make:yh,destroy:M0,destroyAll:be,get:z,query:ce,readd:we,pos:Nu,scale:zu,rotate:OS,color:s0,opacity:l0,anchor:Qf,area:mS,sprite:Gf,text:$E,polygon:lE,rect:o0,circle:eE,uvquad:eS,outline:aE,particles:sE,body:gS,platformEffector:xS,surfaceEffector:vS,areaEffector:bS,pointEffector:AS,buoyancyEffector:ES,constantForce:wS,doubleJump:yS,shader:uE,textInput:dS,timer:Vf,fixed:q0,stay:C0,health:oS,lifespan:cS,named:fS,state:hS,z:CS,layer:TS,move:MS,offscreen:RS,follow:SS,fadeIn:nE,mask:iE,drawon:tE,raycast:u0,tile:R0,animate:uS,serializeAnimation:O0,agent:tS,sentry:aS,patrol:iS,pathfinder:nS,trigger:cE,on:un,onFixedUpdate:fE,onUpdate:c0,onDraw:hE,onAdd:f0,onDestroy:dE,onTag:h0,onUntag:gE,onUse:pE,onUnuse:mE,onClick:AE,onCollide:yE,onCollideUpdate:vE,onCollideEnd:bE,onHover:wE,onHoverUpdate:xE,onHoverEnd:EE,onKeyDown:d.onKeyDown,onKeyPress:d.onKeyPress,onKeyPressRepeat:d.onKeyPressRepeat,onKeyRelease:d.onKeyRelease,onMouseDown:d.onMouseDown,onMousePress:d.onMousePress,onMouseRelease:d.onMouseRelease,onMouseMove:d.onMouseMove,onCharInput:d.onCharInput,onTouchStart:d.onTouchStart,onTouchMove:d.onTouchMove,onTouchEnd:d.onTouchEnd,onScroll:d.onScroll,onHide:d.onHide,onShow:d.onShow,onGamepadButtonDown:d.onGamepadButtonDown,onGamepadButtonPress:d.onGamepadButtonPress,onGamepadButtonRelease:d.onGamepadButtonRelease,onGamepadStick:d.onGamepadStick,onButtonPress:d.onButtonPress,onButtonDown:d.onButtonDown,onButtonRelease:d.onButtonRelease,mousePos:d.mousePos,mouseDeltaPos:d.mouseDeltaPos,isKeyDown:d.isKeyDown,isKeyPressed:d.isKeyPressed,isKeyPressedRepeat:d.isKeyPressedRepeat,isKeyReleased:d.isKeyReleased,isMouseDown:d.isMouseDown,isMousePressed:d.isMousePressed,isMouseReleased:d.isMouseReleased,isMouseMoved:d.isMouseMoved,isGamepadButtonPressed:d.isGamepadButtonPressed,isGamepadButtonDown:d.isGamepadButtonDown,isGamepadButtonReleased:d.isGamepadButtonReleased,getGamepadStick:d.getGamepadStick,isButtonPressed:d.isButtonPressed,isButtonDown:d.isButtonDown,isButtonReleased:d.isButtonReleased,setButton:d.setButton,getButton:d.getButton,pressButton:d.pressButton,releaseButton:d.releaseButton,getLastInputDeviceType:d.getLastInputDeviceType,charInputted:d.charInputted,loop:se,wait:te,play:VE,setVolume:x0,getVolume:E0,volume:XE,burp:w0,audioCtx:C.ctx,Line:ln,Rect:nt,Circle:sn,Ellipse:pi,Point:Qw,Polygon:Zt,Vec2:Z,Color:_e,Mat4:Zn,Quad:ot,RNG:by,rand:Ct,randi:Ay,randSeed:Mw,vec2:X,rgb:Xe,hsl2rgb:xw,quad:vt,choose:Cw,chooseMultiple:Ow,shuffle:wy,chance:Rw,lerp:rn,tween:M,easings:Zs,map:Xn,mapc:Ew,wave:vy,deg2rad:bt,rad2deg:va,clamp:Kn,evaluateQuadratic:Zw,evaluateQuadraticFirstDerivative:Fw,evaluateQuadraticSecondDerivative:kw,evaluateBezier:uh,evaluateBezierFirstDerivative:Jw,evaluateBezierSecondDerivative:Pw,evaluateCatmullRom:Iw,evaluateCatmullRomFirstDerivative:Ww,curveLengthApproximation:Dy,normalizedCurve:$w,hermite:el,cardinal:By,catmullRom:qu,bezier:e2,kochanekBartels:t2,easingSteps:l2,easingLinear:r2,easingCubicBezier:s2,testLineLine:nh,testRectRect:xy,testRectLine:ih,testRectPoint:Gu,testCirclePolygon:Xu,testLinePoint:ah,testLineCircle:$s,isConvex:d2,triangulate:Uy,NavMesh:mx,drawSprite:Ix,drawText:zg,formatText:Aa,drawRect:Sn,drawLine:js,drawLines:mh,drawTriangle:a0,drawCircle:Rr,drawEllipse:t0,drawUVQuad:Js,drawPolygon:Xi,drawCurve:n0,drawBezier:Qx,drawFormattedText:wa,drawMasked:Px,drawSubtracted:Wx,pushTransform:xn,popTransform:an,pushTranslate:ht,pushScale:Fs,pushRotate:xr,pushMatrix:bx,usePostEffect:$,makeCanvas:_,debug:B,scene:JE,getSceneName:WE,go:PE,onSceneLeave:IE,layers:FE,getLayers:KE,setLayers:T0,getDefaultLayer:ZE,addLevel:oE,getData:H,setData:W,download:ch,downloadJSON:C2,downloadText:Gy,downloadBlob:Mg,plug:ie,ASCII_CHARS:Ny,canvas:d.canvas,addKaboom:QE,LEFT:Z.LEFT,RIGHT:Z.RIGHT,UP:Z.UP,DOWN:Z.DOWN,RED:_e.RED,GREEN:_e.GREEN,BLUE:_e.BLUE,YELLOW:_e.YELLOW,MAGENTA:_e.MAGENTA,CYAN:_e.CYAN,WHITE:_e.WHITE,BLACK:_e.BLACK,quit:on,KEvent:Kt,KEventHandler:Ks,KEventController:Ta,cancel:()=>Ly};A.k=Nt;let mi=t.plugins;if(mi&&mi.forEach(ie),t.global!==!1)for(let he in Nt)window[he]=Nt[he];return t.focus!==!1&&d.canvas.focus(),Nt},US=_S;function NS(){return US({global:!1,pixelDensity:2,touchToMouse:!0,debugKey:"u",debug:!0,canvas:document.getElementById("game"),background:[255,255,255]})}const zS=t=>t.vec2(t.getCamPos().add((t.mousePos().x-t.center().x)/t.getCamScale().x,(t.mousePos().y-t.center().y)/t.getCamScale().y)),nn={WHEAT:"wheat",CANE:"sugarcane",CARROT:"carrot",CABBAGE:"cabbage",POTATO:"potato",TOMATO:"tomato",PUMPKIN:"pumpkin",CORN:"corn",BEAN:"bean",ONION:"onion",GARLIC:"garlic"};function jg(t,n,r,s=nn.CARROT){const u=t.add([t.circle(r),t.pos(n),t.color(255,165,0),t.anchor("center"),t.area(),t.scale(1),t.z(1),t.layer("game"),t.outline(2,t.rgb(0,0,0)),"crop",{size:r,type:s}]);switch(s){case nn.WHEAT:u.color=t.rgb(255,228,181);break;case nn.CARROT:u.color=t.rgb(255,165,0);break;case nn.CABBAGE:u.color=t.rgb(144,238,144);break;case nn.CANE:u.color=t.rgb(255,255,224);break;case nn.POTATO:u.color=t.rgb(210,180,140);break;case nn.TOMATO:u.color=t.rgb(255,99,71);break;case nn.PUMPKIN:u.color=t.rgb(255,165,0);break;case nn.CORN:u.color=t.rgb(255,255,0);break;case nn.BEAN:u.color=t.rgb(34,139,34);break;case nn.ONION:u.color=t.rgb(255,228,196);break;case nn.GARLIC:u.color=t.rgb(255,250,205);break;default:u.color=t.rgb(255,165,0)}return u}function LS(t,n){const r=t.add([t.circle(5),t.color(255,255,0),t.outline(2,t.rgb(0,0,0)),t.pos(n),t.area(),t.anchor("center"),t.body(),t.layer("fg"),{username:"-1",placed:!1,home:{fence:null,label:null},freeze:!1}]),s=200;return t.onKeyDown(["w","up"],()=>{r.freeze||r.move(t.vec2(0,-1).scale(s))}),t.onKeyDown(["a","left"],()=>{r.freeze||r.move(t.vec2(-1,0).scale(s))}),t.onKeyDown(["s","down"],()=>{r.freeze||r.move(t.vec2(0,1).scale(s))}),t.onKeyDown(["d","right"],()=>{r.freeze||r.move(t.vec2(1,0).scale(s))}),r}function HS(t,n){return t.add([t.circle(5),t.color(0,255,0),t.outline(2,t.rgb(0,0,0)),t.pos(n),t.area(),t.anchor("center"),{username:"-1",name:"Friend",home:{fence:null,label:null}}])}const jS={wheat:"Baker",cabbage:"Chef"};function YS(t,n,r){const s=t.add([t.rect(50,50),t.color(0,255,0),t.outline(2,t.rgb(0,0,0)),t.pos(n),t.area(),t.anchor("center"),"buyer",{type:r,name:jS[r]}]);return s.add([t.text(s.name,{size:16}),t.color(0,0,0),t.pos(0,-30),t.anchor("center")]),s}function GS(t,n,r){const s=t.add([t.rect(360,180),t.color(255,255,255),t.outline(2,t.rgb(0,0,0)),t.layer("ui"),t.pos(t.center()),t.anchor("center"),t.fixed(),{name:n.name}]);return s.add([t.text(n.name,{size:24}),t.color(0,0,0),t.layer("ui"),t.pos(0,-50),t.anchor("center"),t.fixed()]),s.add([t.text("X",{size:24}),t.color(255,0,0),t.layer("ui"),t.pos(130,-55),t.anchor("center"),t.area(),t.fixed()]).onClick(()=>{s.destroy()}),s.add([t.text(`Offer: $${r} for one ${n.type}`,{size:20}),t.color(0,0,0),t.layer("ui"),t.pos(0,0),t.anchor("center"),t.fixed()]),s.add([t.text("Accept",{size:20}),t.color(0,255,0),t.layer("ui"),t.pos(0,50),t.anchor("center"),t.area(),t.fixed()]).onClick(()=>{Ht.emit("POST player/sell",{price:r,crop:n.type},u=>{u.status==="ok"?console.log(u.data):console.error(`Failed to sell: ${u.data}`)}),s.destroy()}),s}const me=72,Qt=50,ma=Array.from({length:Qt},()=>Array.from({length:Qt},()=>null)),Yi={};function VS(t){t.scene("game",()=>{const n=t.add([t.rect(me*Qt,me*Qt,{fill:!1}),t.anchor("topleft"),t.pos(-me/2),t.area(),t.layer("bg"),t.z(-10)]);n.add([t.rect(2,me*Qt,{fill:!1}),t.anchor("topleft"),t.outline(2,t.rgb(255,0,0)),t.pos(0,0),t.area(),t.body({isStatic:!0})]),n.add([t.rect(2,me*Qt,{fill:!1}),t.anchor("topleft"),t.outline(2,t.rgb(255,0,0)),t.pos(me*Qt,0),t.area(),t.body({isStatic:!0})]),n.add([t.rect(me*Qt,2,{fill:!1}),t.anchor("topleft"),t.outline(2,t.rgb(255,0,0)),t.pos(0,0),t.area(),t.body({isStatic:!0})]),n.add([t.rect(me*Qt,2,{fill:!1}),t.anchor("topleft"),t.outline(2,t.rgb(255,0,0)),t.pos(0,me*Qt),t.area(),t.body({isStatic:!0})]),t.setCamPos(0,0);let r=null;t.load(new Promise((p,d)=>{let v=0;const x=setInterval(function m(){return fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then(S=>S.json()).then(S=>{S.loggedIn?(clearInterval(x),r=LS(t,t.vec2(0,0)),r.username=S.username,B0(t,r),Ht.emit("POST player/login",{username:S.username,lastLogin:S.lastLogin},b=>{console.log(S),b.status==="ok"?(console.debug(`Player ${S.username} logged in`),Ht.emit("GET player/data",C=>{C.status==="ok"?(Yi[r.username]=r,console.debug(`Player ${r.username} data loaded successfully`),p()):d(new Error(`Failed to load player data: ${C.data}`))})):d(new Error(`Failed to log in: ${b.data}`))})):(console.debug(`Failed to get login data: ${S.message}`),S.status===400&&(clearInterval(x),d(new Error("Player is not authenticated. Please log in."))),v++,v>=5&&(clearInterval(x),d(new Error("Failed to get login data after 5 attempts"))))}),m}(),5e3)}));for(let p=0;p<=t.width();p+=me)t.add([t.rect(2,t.height()),t.color(200,200,200),t.pos(p+me/2,0),t.anchor("topleft"),t.layer("bg"),t.area(),"gridline"]);for(let p=0;p<=t.height();p+=me)t.add([t.rect(t.width(),2),t.color(200,200,200),t.pos(0,p+me/2),t.anchor("topleft"),t.layer("bg"),t.area(),"gridline"]);t.onUpdate(()=>{if(!r)return;if(h)switch(h.tags[1]){case"joystick":{const E=t.width()/2,T=t.height()-100,_=t.mousePos().sub(t.vec2(E,T)),G=Math.sqrt(_.x*_.x+_.y*_.y),$=Math.min(G,60),F=_.x/G*$,q=_.y/G*$;r.move(F*4+10,q*4+10),h.pos=t.vec2(F,q);break}case"crop":{const E=zS(t);h.pos=E;break}}t.tween(t.getCamPos(),r.pos,.1,E=>{t.setCamPos(E)},t.easings.easeInOutQuad);const p=t.getCamPos(),d=t.getCamScale(),v=t.width()/d.x,x=t.height()/d.x,m=p.x-v/2,S=p.y-x/2,b=Math.floor(m/me)*me+me/2,C=Math.floor(S/me)*me+me/2;t.get("gridline").forEach(E=>{E.destroy()});for(let E=b;E<m+v;E+=me)t.add([t.rect(1,x),t.color(200,200,200),t.pos(E,S),t.anchor("topleft"),t.layer("bg"),"gridline"]);for(let E=C;E<S+x;E+=me)t.add([t.rect(v,1),t.color(200,200,200),t.pos(m,E),t.anchor("topleft"),t.layer("bg"),"gridline"])}),t.onKeyPress("r",()=>{r&&D0(t,r)});const s=t.add([t.rect(40,40),t.outline(2,t.rgb(0,0,0)),t.pos(t.width()/2,t.height()-50),t.area(),t.z(1e3),t.anchor("top"),t.fixed()]);let u=!1,c=[];if(s.onClick(()=>{u?(c.forEach(p=>{p.destroy()}),u=!1):(c=QS(t,s,r),t.width()<600&&c.forEach(p=>{p.anchor="botright"}),u=!0)}),t.width()<600){s.anchor="topright",s.pos=t.vec2(t.width(),t.height()/2);const p=t.add([t.rect(0,0),t.pos(t.width()/2,t.height()-100),t.z(1e3),t.anchor("bot"),t.fixed()]);p.add([t.circle(70),t.color(0,0,0),t.area(),t.outline(2,t.rgb(0,0,0)),t.opacity(.7),"move_btn"]),p.add([t.circle(20),t.color(220,220,220),t.outline(2,t.rgb(0,0,0)),"joystick"]),t.onClick("move_btn",d=>{h&&h!==d||(h=t.get("joystick",{recursive:!0})[0],h.z=10)})}YS(t,t.vec2(300,100),nn.CABBAGE),t.onClick("buyer",p=>{GS(t,p,20)});let h=null,g=t.vec2(0,0);t.onClick("crop",p=>{h&&h!==p||(h=p,g=p.pos,p.z=10)}),t.onMouseRelease("left",()=>{if(h){switch(h.tags[1]){case"joystick":h.pos=t.vec2(0,0);break;case"crop":h.pos.x<0||h.pos.x>me*Qt||h.pos.y<0||h.pos.y>me*Qt?h.pos=g:XS(t,h,g),h.z=1}h=null}t.setCamPos(t.getCamPos())}),Ht.on("UPDATE player/pos",p=>{for(const d in p){const v=p[d];if(r&&v.username!=="-1"&&v.username!==r.username)if(Yi[v.username]){const x=Yi[v.username];x.pos=t.vec2(v.pos.x,v.pos.y)}else{const x=HS(t,t.vec2(v.pos.x,v.pos.y));x.username=v.username,Yi[v.username]=x}}}),Ht.on("UPDATE player/disconnect",p=>{const d=p.username,v=Yi[d];v&&(v.home.fence.destroy(),v.destroy(),delete Yi[d],console.debug(`Player ${d} disconnected`))}),Ht.on("UPDATE game/grid",p=>{const d=p.grid,v=p.claim;for(let x=0;x<Qt;x++)for(let m=0;m<Qt;m++){const S=ma[x][m];if(d[`${x},${m}`]&&d[`${x},${m}`]!==void 0){const b=d[`${x},${m}`].crop;S!==null?(S.type!==b.type||S.size!==b.size)&&(ma[x][m].destroy(),ma[x][m]=jg(t,t.vec2(x*me,m*me),b.size,b.type)):ma[x][m]=jg(t,t.vec2(x*me,m*me),b.size,b.type)}else ma[x][m]!==null&&(ma[x][m].destroy(),ma[x][m]=null)}for(const x in v){const m=v[x],S=m.size,b=m.origin;if(b.x<0&&b.y<0){const C=Yi[x];C&&C.home.fence&&(C.home.fence.destroy(),C.home.label.destroy(),C.home.fence=null,C.home.label=null)}else if(r&&x===r.username&&!r.home.fence)r.home.fence=t.add([t.rect(me*S,me*S,{fill:!1}),t.pos(b.x*me-me/2,b.y*me-me/2),t.anchor("topleft"),t.area(),t.outline(2,t.rgb(85,164,255))]),r.home.label=t.add([t.text(m.username,{size:24,font:"moot-jungle"}),t.pos(b.x*me,b.y*me-me/2-20),t.anchor("center"),t.color(0,0,0),t.z(10)]);else{const C=Yi[x];C&&!C.home.fence&&(C.home.fence=t.add([t.rect(me*S,me*S,{fill:!1}),t.pos(b.x*me-me/2,b.y*me-me/2),t.anchor("topleft"),t.area(),t.outline(2,t.rgb(91,243,111))]),C.home.label=t.add([t.text(m.username,{size:24,font:"moot-jungle"}),t.pos(b.x*me,b.y*me-me/2-20),t.anchor("center"),t.color(0,0,0)]))}}})})}function D0(t,n){if(n.placed){const r=t.add([t.text("Saving farm...",{font:"moot-jungle"}),t.pos(n.pos),t.anchor("center"),t.color(0,0,0),t.layer("ui"),t.z(1e3)]),s=t.add([t.rect(r.width+32,r.height+32),t.pos(r.pos.sub(t.vec2(5,5))),t.anchor("center"),t.layer("ui"),t.color(255,255,255),t.outline(2,t.rgb(0,0,0))]);n.freeze=!0,Ht.emit("POST player/farm",u=>{var c,h;u.status==="ok"?(console.debug(`Player ${n.username} farm saved successfully`),(c=n.home.fence)==null||c.destroy(),(h=n.home.label)==null||h.destroy(),n.placed=!1):console.error("Failed to save farm:",u.data),n.freeze=!1,r.destroy(),s.destroy()})}else{const r=t.add([t.text("Placing farm...",{font:"moot-jungle"}),t.pos(n.pos),t.anchor("center"),t.layer("ui"),t.z(1e3),t.color(0,0,0)]),s=t.add([t.rect(r.width+32,r.height+32),t.pos(r.pos.sub(t.vec2(5,5))),t.anchor("center"),t.layer("ui"),t.color(255,255,255),t.outline(2,t.rgb(0,0,0))]);n.freeze=!0,Ht.emit("GET player/farm",u=>{u.status==="ok"?(console.debug(`Player ${n.username} farm data received`),n.placed=!0,n.freeze=!1,r.destroy(),s.destroy()):console.error("Failed to place farm:",u.data)})}}function XS(t,n,r){const s=Gg(t,r),u=Gg(t,n.pos);n.pos=t.vec2(u.x*me,u.y*me),Ht.emit("POST game/crop/move",{oldPos:s,newPos:u},c=>{c.status!=="ok"&&(console.debug("Failed to move crop:",c.data),n.pos=r)})}function Yg(t,n){return t.vec2(Math.round(n.x/me)*me,Math.round(n.y/me)*me)}function Gg(t,n){return{x:Yg(t,n).x/me,y:Yg(t,n).y/me}}function B0(t,n){n&&Ht.emit("POST player/pos",{pos:n.pos},r=>{r.status!=="ok"&&console.error("Failed to update player position:",r.data)}),setTimeout(B0,1e3/10,t,n)}function QS(t,n,r){const s=n.add([t.text("Place Farm",{size:24}),t.pos(0,-25),t.anchor("center"),t.area(),t.color(0,0,0),"place-farm-button"]);s.onClick(()=>{r&&D0(t,r)});const u=n.add([t.text("Shop",{size:24}),t.pos(0,-75),t.anchor("center"),t.area(),t.color(0,0,0),"shop-button"]);u.onClick(()=>{console.debug("Shop button clicked")});const c=n.add([t.text("Crate",{size:24}),t.pos(0,-125),t.anchor("center"),t.color(0,0,0),t.area(),t.fixed(),"crate-button"]);return c.onClick(()=>{Ht.emit("POST game/crop/spawn",h=>{h.status==="ok"&&console.debug(`Crop spawned ${h.data}`)})}),[s,u,c]}async function KS(){const t=NS();t.setLayers(["bg","game","fg","ui"],"game"),t.loadFont("moot-jungle","./fonts/moot-jungle.ttf"),VS(t),t.go("game")}W1.createRoot(document.getElementById("root")).render(ge.jsx(J.StrictMode,{children:ge.jsx(pA,{children:ge.jsxs(Qb,{children:[ge.jsx(gu,{path:"/",element:ge.jsx(vw,{})}),ge.jsx(gu,{path:"/play",element:ge.jsx(yw,{})}),ge.jsx(gu,{path:"/signup",element:ge.jsx(bw,{})})]})})}));KS();
