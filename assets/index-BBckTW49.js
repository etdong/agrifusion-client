var j1=Object.defineProperty;var V1=(n,t,r)=>t in n?j1(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var L=(n,t,r)=>V1(n,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var af={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function X1(){if(lg)return Tl;lg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var g in u)g!=="key"&&(c[g]=u[g])}else c=u;return u=c.ref,{$$typeof:n,type:l,key:h,ref:u!==void 0?u:null,props:c}}return Tl.Fragment=t,Tl.jsx=r,Tl.jsxs=r,Tl}var sg;function Q1(){return sg||(sg=1,af.exports=X1()),af.exports}var Ae=Q1(),rf={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function K1(){if(ug)return Te;ug=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function m(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function x(T,K,te){this.props=T,this.context=K,this.refs=O,this.updater=te||S}x.prototype.isReactComponent={},x.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},x.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function M(){}M.prototype=x.prototype;function _(T,K,te){this.props=T,this.context=K,this.refs=O,this.updater=te||S}var X=_.prototype=new M;X.constructor=_,b(X,x.prototype),X.isPureReactComponent=!0;var ie=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function B(T,K,te,re,fe,Ce){return te=Ce.ref,{$$typeof:n,type:T,key:K,ref:te!==void 0?te:null,props:Ce}}function H(T,K){return B(T.type,K,void 0,void 0,void 0,T.props)}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function ne(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return K[te]})}var ae=/\/+/g;function ue(T,K){return typeof T=="object"&&T!==null&&T.key!=null?ne(""+T.key):K.toString(36)}function pe(){}function we(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(pe,pe):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ve(T,K,te,re,fe){var Ce=typeof T;(Ce==="undefined"||Ce==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case n:case t:xe=!0;break;case v:return xe=T._init,ve(xe(T._payload),K,te,re,fe)}}if(xe)return fe=fe(T),xe=re===""?"."+ue(T,0):re,ie(fe)?(te="",xe!=null&&(te=xe.replace(ae,"$&/")+"/"),ve(fe,K,te,"",function(on){return on})):fe!=null&&(W(fe)&&(fe=H(fe,te+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(ae,"$&/")+"/")+xe)),K.push(fe)),1;xe=0;var At=re===""?".":re+":";if(ie(T))for(var Qe=0;Qe<T.length;Qe++)re=T[Qe],Ce=At+ue(re,Qe),xe+=ve(re,K,te,Ce,fe);else if(Qe=m(T),typeof Qe=="function")for(T=Qe.call(T),Qe=0;!(re=T.next()).done;)re=re.value,Ce=At+ue(re,Qe++),xe+=ve(re,K,te,Ce,fe);else if(Ce==="object"){if(typeof T.then=="function")return ve(we(T),K,te,re,fe);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function z(T,K,te){if(T==null)return T;var re=[],fe=0;return ve(T,re,"","",function(Ce){return K.call(te,Ce,fe++)}),re}function ee(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var le=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ce(){}return Te.Children={map:z,forEach:function(T,K,te){z(T,function(){K.apply(this,arguments)},te)},count:function(T){var K=0;return z(T,function(){K++}),K},toArray:function(T){return z(T,function(K){return K})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Te.Component=x,Te.Fragment=r,Te.Profiler=u,Te.PureComponent=_,Te.StrictMode=l,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Te.__COMPILER_RUNTIME={__proto__:null,c:function(T){return k.H.useMemoCache(T)}},Te.cache=function(T){return function(){return T.apply(null,arguments)}},Te.cloneElement=function(T,K,te){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var re=b({},T.props),fe=T.key,Ce=void 0;if(K!=null)for(xe in K.ref!==void 0&&(Ce=void 0),K.key!==void 0&&(fe=""+K.key),K)!q.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(re[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)re.children=te;else if(1<xe){for(var At=Array(xe),Qe=0;Qe<xe;Qe++)At[Qe]=arguments[Qe+2];re.children=At}return B(T.type,fe,void 0,void 0,Ce,re)},Te.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},Te.createElement=function(T,K,te){var re,fe={},Ce=null;if(K!=null)for(re in K.key!==void 0&&(Ce=""+K.key),K)q.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=K[re]);var xe=arguments.length-2;if(xe===1)fe.children=te;else if(1<xe){for(var At=Array(xe),Qe=0;Qe<xe;Qe++)At[Qe]=arguments[Qe+2];fe.children=At}if(T&&T.defaultProps)for(re in xe=T.defaultProps,xe)fe[re]===void 0&&(fe[re]=xe[re]);return B(T,Ce,void 0,void 0,null,fe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(T){return{$$typeof:g,render:T}},Te.isValidElement=W,Te.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:ee}},Te.memo=function(T,K){return{$$typeof:d,type:T,compare:K===void 0?null:K}},Te.startTransition=function(T){var K=k.T,te={};k.T=te;try{var re=T(),fe=k.S;fe!==null&&fe(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ce,le)}catch(Ce){le(Ce)}finally{k.T=K}},Te.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Te.use=function(T){return k.H.use(T)},Te.useActionState=function(T,K,te){return k.H.useActionState(T,K,te)},Te.useCallback=function(T,K){return k.H.useCallback(T,K)},Te.useContext=function(T){return k.H.useContext(T)},Te.useDebugValue=function(){},Te.useDeferredValue=function(T,K){return k.H.useDeferredValue(T,K)},Te.useEffect=function(T,K,te){var re=k.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(T,K)},Te.useId=function(){return k.H.useId()},Te.useImperativeHandle=function(T,K,te){return k.H.useImperativeHandle(T,K,te)},Te.useInsertionEffect=function(T,K){return k.H.useInsertionEffect(T,K)},Te.useLayoutEffect=function(T,K){return k.H.useLayoutEffect(T,K)},Te.useMemo=function(T,K){return k.H.useMemo(T,K)},Te.useOptimistic=function(T,K){return k.H.useOptimistic(T,K)},Te.useReducer=function(T,K,te){return k.H.useReducer(T,K,te)},Te.useRef=function(T){return k.H.useRef(T)},Te.useState=function(T){return k.H.useState(T)},Te.useSyncExternalStore=function(T,K,te){return k.H.useSyncExternalStore(T,K,te)},Te.useTransition=function(){return k.H.useTransition()},Te.version="19.1.0",Te}var og;function kf(){return og||(og=1,rf.exports=K1()),rf.exports}var I=kf(),lf={exports:{}},Rl={},sf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Z1(){return cg||(cg=1,function(n){function t(z,ee){var le=z.length;z.push(ee);e:for(;0<le;){var ce=le-1>>>1,T=z[ce];if(0<u(T,ee))z[ce]=ee,z[le]=T,le=ce;else break e}}function r(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var ee=z[0],le=z.pop();if(le!==ee){z[0]=le;e:for(var ce=0,T=z.length,K=T>>>1;ce<K;){var te=2*(ce+1)-1,re=z[te],fe=te+1,Ce=z[fe];if(0>u(re,le))fe<T&&0>u(Ce,re)?(z[ce]=Ce,z[fe]=le,ce=fe):(z[ce]=re,z[te]=le,ce=te);else if(fe<T&&0>u(Ce,le))z[ce]=Ce,z[fe]=le,ce=fe;else break e}}return ee}function u(z,ee){var le=z.sortIndex-ee.sortIndex;return le!==0?le:z.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var p=[],d=[],v=1,E=null,m=3,S=!1,b=!1,O=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ie(z){for(var ee=r(d);ee!==null;){if(ee.callback===null)l(d);else if(ee.startTime<=z)l(d),ee.sortIndex=ee.expirationTime,t(p,ee);else break;ee=r(d)}}function k(z){if(O=!1,ie(z),!b)if(r(p)!==null)b=!0,q||(q=!0,ue());else{var ee=r(d);ee!==null&&ve(k,ee.startTime-z)}}var q=!1,B=-1,H=5,W=-1;function ne(){return x?!0:!(n.unstable_now()-W<H)}function ae(){if(x=!1,q){var z=n.unstable_now();W=z;var ee=!0;try{e:{b=!1,O&&(O=!1,_(B),B=-1),S=!0;var le=m;try{t:{for(ie(z),E=r(p);E!==null&&!(E.expirationTime>z&&ne());){var ce=E.callback;if(typeof ce=="function"){E.callback=null,m=E.priorityLevel;var T=ce(E.expirationTime<=z);if(z=n.unstable_now(),typeof T=="function"){E.callback=T,ie(z),ee=!0;break t}E===r(p)&&l(p),ie(z)}else l(p);E=r(p)}if(E!==null)ee=!0;else{var K=r(d);K!==null&&ve(k,K.startTime-z),ee=!1}}break e}finally{E=null,m=le,S=!1}ee=void 0}}finally{ee?ue():q=!1}}}var ue;if(typeof X=="function")ue=function(){X(ae)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,we=pe.port2;pe.port1.onmessage=ae,ue=function(){we.postMessage(null)}}else ue=function(){M(ae,0)};function ve(z,ee){B=M(function(){z(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(z){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var le=m;m=ee;try{return z()}finally{m=le}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=m;m=z;try{return ee()}finally{m=le}},n.unstable_scheduleCallback=function(z,ee,le){var ce=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ce+le:ce):le=ce,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=le+T,z={id:v++,callback:ee,priorityLevel:z,startTime:le,expirationTime:T,sortIndex:-1},le>ce?(z.sortIndex=le,t(d,z),r(p)===null&&z===r(d)&&(O?(_(B),B=-1):O=!0,ve(k,le-ce))):(z.sortIndex=T,t(p,z),b||S||(b=!0,q||(q=!0,ue()))),z},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(z){var ee=m;return function(){var le=m;m=ee;try{return z.apply(this,arguments)}finally{m=le}}}}(uf)),uf}var fg;function F1(){return fg||(fg=1,sf.exports=Z1()),sf.exports}var of={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function k1(){if(hg)return _t;hg=1;var n=kf();function t(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,d,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:p,containerInfo:d,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,_t.createPortal=function(p,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return c(p,d,null,v)},_t.flushSync=function(p){var d=h.T,v=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=d,l.p=v,l.d.f()}},_t.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,l.d.C(p,d))},_t.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},_t.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var v=d.as,E=g(v,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?l.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:m,fetchPriority:S}):v==="script"&&l.d.X(p,{crossOrigin:E,integrity:m,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},_t.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=g(d.as,d.crossOrigin);l.d.M(p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&l.d.M(p)},_t.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,E=g(v,d.crossOrigin);l.d.L(p,v,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},_t.preloadModule=function(p,d){if(typeof p=="string")if(d){var v=g(d.as,d.crossOrigin);l.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else l.d.m(p)},_t.requestFormReset=function(p){l.d.r(p)},_t.unstable_batchedUpdates=function(p,d){return p(d)},_t.useFormState=function(p,d,v){return h.H.useFormState(p,d,v)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.1.0",_t}var dg;function J1(){if(dg)return of.exports;dg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),of.exports=k1(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function P1(){if(pg)return Rl;pg=1;var n=F1(),t=kf(),r=J1();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(l(188));return i!==e?null:e}for(var a=e,s=i;;){var o=a.return;if(o===null)break;var f=o.alternate;if(f===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===a)return g(o),e;if(f===s)return g(o),i;f=f.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=f;else{for(var y=!1,w=o.child;w;){if(w===a){y=!0,a=o,s=f;break}if(w===s){y=!0,s=o,a=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===a){y=!0,a=f,s=o;break}if(w===s){y=!0,s=f,a=o;break}w=w.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:i}function d(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=d(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case x:return"Profiler";case O:return"StrictMode";case k:return"Suspense";case q:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case X:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case ie:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case H:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var ve=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ce=[],T=-1;function K(e){return{current:e}}function te(e){0>T||(e.current=ce[T],ce[T]=null,T--)}function re(e,i){T++,ce[T]=e.current,e.current=i}var fe=K(null),Ce=K(null),xe=K(null),At=K(null);function Qe(e,i){switch(re(xe,i),re(Ce,e),re(fe,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Um(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Um(i),e=Nm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(fe),re(fe,e)}function on(){te(fe),te(Ce),te(xe)}function Nn(e){e.memoizedState!==null&&re(At,e);var i=fe.current,a=Nm(i,e.type);i!==a&&(re(Ce,e),re(fe,a))}function Nt(e){Ce.current===e&&(te(fe),te(Ce)),At.current===e&&(te(At),wl._currentValue=le)}var mi=Object.prototype.hasOwnProperty,he=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,Re=n.unstable_shouldYield,$e=n.unstable_requestPaint,Ke=n.unstable_now,Le=n.unstable_getCurrentPriorityLevel,Mt=n.unstable_ImmediatePriority,Rn=n.unstable_UserBlockingPriority,gi=n.unstable_NormalPriority,Or=n.unstable_LowPriority,Ra=n.unstable_IdlePriority,Cr=n.log,Oa=n.unstable_setDisableYieldValue,Dt=null,lt=null;function Ft(e){if(typeof Cr=="function"&&Oa(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Dt,e)}catch{}}var Je=Math.clz32?Math.clz32:Ca,Ji=Math.log,On=Math.LN2;function Ca(e){return e>>>=0,e===0?32:31-(Ji(e)/On|0)|0}var qa=256,Da=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ba(e,i,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~f,s!==0?o=zn(s):(y&=w,y!==0?o=zn(y):a||(a=w&~e,a!==0&&(o=zn(a))))):(w=s&~f,w!==0?o=zn(w):y!==0?o=zn(y):a||(a=s&~e,a!==0&&(o=zn(a)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:o}function Pi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function zt(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var e=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),e}function Ii(){var e=Da;return Da<<=1,(Da&62914560)===0&&(Da=4194304),e}function Ua(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function yi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ku(e,i,a,s,o,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,G=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Je(a),$=1<<F;w[F]=0,R[F]=-1;var Y=G[F];if(Y!==null)for(G[F]=null,F=0;F<Y.length;F++){var j=Y[F];j!==null&&(j.lane&=-536870913)}a&=~$}s!==0&&qr(e,s,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function qr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-Je(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function Dr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var s=31-Je(a),o=1<<s;o&i|e[s]&i&&(e[s]|=i),a&=~o}}function C(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Q(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function J(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:eg(e.type))}function se(e,i){var a=ee.p;try{return ee.p=e,i()}finally{ee.p=a}}var ge=Math.random().toString(36).slice(2),Me="__reactFiber$"+ge,He="__reactProps$"+ge,Pe="__reactContainer$"+ge,kt="__reactEvents$"+ge,cn="__reactListeners$"+ge,Cn="__reactHandles$"+ge,xh="__reactResources$"+ge,Br="__reactMarker$"+ge;function Ju(e){delete e[Me],delete e[He],delete e[kt],delete e[cn],delete e[Cn]}function Na(e){var i=e[Me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Pe]||a[Me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Gm(e);e!==null;){if(a=e[Me])return a;e=Gm(e)}return i}e=a,a=e.parentNode}return null}function za(e){if(e=e[Me]||e[Pe]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function _r(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function La(e){var i=e[xh];return i||(i=e[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(e){e[Br]=!0}var Eh=new Set,Sh={};function Wi(e,i){Ha(e,i),Ha(e+"Capture",i)}function Ha(e,i){for(Sh[e]=i,e=0;e<i.length;e++)Eh.add(i[e])}var _0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mh={},Th={};function U0(e){return mi.call(Th,e)?!0:mi.call(Mh,e)?!1:_0.test(e)?Th[e]=!0:(Mh[e]=!0,!1)}function ts(e,i,a){if(U0(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ns(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Jn(e,i,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+s)}}var Pu,Rh;function Ga(e){if(Pu===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Pu=i&&i[1]||"",Rh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pu+e+Rh}var Iu=!1;function Wu(e,i){if(!e||Iu)return"";Iu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var Y=j}Reflect.construct(e,[],$)}else{try{$.call()}catch(j){Y=j}e.call($.prototype)}}else{try{throw Error()}catch(j){Y=j}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&Y&&typeof j.stack=="string")return[j.stack,Y.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var R=y.split(`
`),G=w.split(`
`);for(o=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(s===R.length||o===G.length)for(s=R.length-1,o=G.length-1;1<=s&&0<=o&&R[s]!==G[o];)o--;for(;1<=s&&0<=o;s--,o--)if(R[s]!==G[o]){if(s!==1||o!==1)do if(s--,o--,0>o||R[s]!==G[o]){var F=`
`+R[s].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=s&&0<=o);break}}}finally{Iu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ga(a):""}function N0(e){switch(e.tag){case 26:case 27:case 5:return Ga(e.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return Wu(e.type,!1);case 11:return Wu(e.type.render,!1);case 1:return Wu(e.type,!0);case 31:return Ga("Activity");default:return""}}function Oh(e){try{var i="";do i+=N0(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ch(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function z0(e){var i=Ch(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),s=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function is(e){e._valueTracker||(e._valueTracker=z0(e))}function qh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return e&&(s=Ch(e)?e.checked?"true":"false":e.value),e=s,e!==a?(i.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var L0=/[\n"\\]/g;function hn(e){return e.replace(L0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $u(e,i,a,s,o,f,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?eo(e,y,fn(i)):a!=null?eo(e,y,fn(a)):s!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+fn(w):e.removeAttribute("name")}function Dh(e,i,a,s,o,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function eo(e,i,a){i==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ya(e,i,a,s){if(e=e.options,i){i={};for(var o=0;o<a.length;o++)i["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=i.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function Bh(e,i,a){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fn(a):""}function _h(e,i,a,s){if(i==null){if(s!=null){if(a!=null)throw Error(l(92));if(ve(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),i=a}a=fn(i),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function ja(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uh(e,i,a){var s=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,a):typeof a!="number"||a===0||H0.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Nh(e,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in i)s=i[o],i.hasOwnProperty(o)&&a[o]!==s&&Uh(e,o,s)}else for(var f in i)i.hasOwnProperty(f)&&Uh(e,f,i[f])}function to(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return Y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var no=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Xa=null;function zh(e){var i=za(e);if(i&&(e=i.stateNode)){var a=e[He]||null;e:switch(e=i.stateNode,i.type){case"input":if($u(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==e&&s.form===e.form){var o=s[He]||null;if(!o)throw Error(l(90));$u(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(i=0;i<a.length;i++)s=a[i],s.form===e.form&&qh(s)}break e;case"textarea":Bh(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ya(e,!!a.multiple,i,!1)}}}var ao=!1;function Lh(e,i,a){if(ao)return e(i,a);ao=!0;try{var s=e(i);return s}finally{if(ao=!1,(Va!==null||Xa!==null)&&(Qs(),Va&&(i=Va,e=Xa,Xa=Va=null,zh(i),e)))for(i=0;i<e.length;i++)zh(e[i])}}function Ur(e,i){var a=e.stateNode;if(a===null)return null;var s=a[He]||null;if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(Pn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{ro=!1}var vi=null,lo=null,ls=null;function Hh(){if(ls)return ls;var e,i=lo,a=i.length,s,o="value"in vi?vi.value:vi.textContent,f=o.length;for(e=0;e<a&&i[e]===o[e];e++);var y=a-e;for(s=1;s<=y&&i[a-s]===o[f-s];s++);return ls=o.slice(e,1<s?1-s:void 0)}function ss(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function Gh(){return!1}function Gt(e){function i(a,s,o,f,y){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?us:Gh,this.isPropagationStopped=Gh,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Gt($i),zr=v({},$i,{view:0,detail:0}),j0=Gt(zr),so,uo,Lr,cs=v({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(so=e.screenX-Lr.screenX,uo=e.screenY-Lr.screenY):uo=so=0,Lr=e),so)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),Yh=Gt(cs),V0=v({},cs,{dataTransfer:0}),X0=Gt(V0),Q0=v({},zr,{relatedTarget:0}),oo=Gt(Q0),K0=v({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=Gt(K0),F0=v({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k0=Gt(F0),J0=v({},$i,{data:0}),jh=Gt(J0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=W0[e])?!!i[e]:!1}function co(){return $0}var ev=v({},zr,{key:function(e){if(e.key){var i=P0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=Gt(ev),nv=v({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=Gt(nv),iv=v({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),av=Gt(iv),rv=v({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=Gt(rv),sv=v({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Gt(sv),ov=v({},$i,{newState:0,oldState:0}),cv=Gt(ov),fv=[9,13,27,32],fo=Pn&&"CompositionEvent"in window,Hr=null;Pn&&"documentMode"in document&&(Hr=document.documentMode);var hv=Pn&&"TextEvent"in window&&!Hr,Xh=Pn&&(!fo||Hr&&8<Hr&&11>=Hr),Qh=" ",Kh=!1;function Zh(e,i){switch(e){case"keyup":return fv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function dv(e,i){switch(e){case"compositionend":return Fh(i);case"keypress":return i.which!==32?null:(Kh=!0,Qh);case"textInput":return e=i.data,e===Qh&&Kh?null:e;default:return null}}function pv(e,i){if(Qa)return e==="compositionend"||!fo&&Zh(e,i)?(e=Hh(),ls=lo=vi=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xh&&i.locale!=="ko"?null:i.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!mv[e.type]:i==="textarea"}function Jh(e,i,a,s){Va?Xa?Xa.push(s):Xa=[s]:Va=s,i=Ps(i,"onChange"),0<i.length&&(a=new os("onChange","change",null,a,s),e.push({event:a,listeners:i}))}var Gr=null,Yr=null;function gv(e){Cm(e,0)}function fs(e){var i=_r(e);if(qh(i))return e}function Ph(e,i){if(e==="change")return i}var Ih=!1;if(Pn){var ho;if(Pn){var po="oninput"in document;if(!po){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),po=typeof Wh.oninput=="function"}ho=po}else ho=!1;Ih=ho&&(!document.documentMode||9<document.documentMode)}function $h(){Gr&&(Gr.detachEvent("onpropertychange",ed),Yr=Gr=null)}function ed(e){if(e.propertyName==="value"&&fs(Yr)){var i=[];Jh(i,Yr,e,io(e)),Lh(gv,i)}}function yv(e,i,a){e==="focusin"?($h(),Gr=i,Yr=a,Gr.attachEvent("onpropertychange",ed)):e==="focusout"&&$h()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fs(Yr)}function bv(e,i){if(e==="click")return fs(i)}function Av(e,i){if(e==="input"||e==="change")return fs(i)}function wv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Jt=typeof Object.is=="function"?Object.is:wv;function jr(e,i){if(Jt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!mi.call(i,o)||!Jt(e[o],i[o]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,i){var a=td(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=i&&s>=i)return{node:a,offset:i-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=td(a)}}function id(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?id(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ad(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=as(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=as(e.document)}return i}function mo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xv=Pn&&"documentMode"in document&&11>=document.documentMode,Ka=null,go=null,Vr=null,yo=!1;function rd(e,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yo||Ka==null||Ka!==as(s)||(s=Ka,"selectionStart"in s&&mo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vr&&jr(Vr,s)||(Vr=s,s=Ps(go,"onSelect"),0<s.length&&(i=new os("onSelect","select",null,i,a),e.push({event:i,listeners:s}),i.target=Ka)))}function ea(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Za={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},vo={},ld={};Pn&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ta(e){if(vo[e])return vo[e];if(!Za[e])return e;var i=Za[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ld)return vo[e]=i[a];return e}var sd=ta("animationend"),ud=ta("animationiteration"),od=ta("animationstart"),Ev=ta("transitionrun"),Sv=ta("transitionstart"),Mv=ta("transitioncancel"),cd=ta("transitionend"),fd=new Map,bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bo.push("scrollEnd");function qn(e,i){fd.set(e,i),Wi(i,[e])}var hd=new WeakMap;function dn(e,i){if(typeof e=="object"&&e!==null){var a=hd.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Oh(i)},hd.set(e,i),i)}return{value:e,source:i,stack:Oh(i)}}var pn=[],Fa=0,Ao=0;function hs(){for(var e=Fa,i=Ao=Fa=0;i<e;){var a=pn[i];pn[i++]=null;var s=pn[i];pn[i++]=null;var o=pn[i];pn[i++]=null;var f=pn[i];if(pn[i++]=null,s!==null&&o!==null){var y=s.pending;y===null?o.next=o:(o.next=y.next,y.next=o),s.pending=o}f!==0&&dd(a,o,f)}}function ds(e,i,a,s){pn[Fa++]=e,pn[Fa++]=i,pn[Fa++]=a,pn[Fa++]=s,Ao|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function wo(e,i,a,s){return ds(e,i,a,s),ps(e)}function ka(e,i){return ds(e,null,null,i),ps(e)}function dd(e,i,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,f=e.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&i!==null&&(o=31-Je(a),e=f.hiddenUpdates,s=e[o],s===null?e[o]=[i]:s.push(i),i.lane=a|536870912),f):null}function ps(e){if(50<dl)throw dl=0,Rc=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ja={};function Tv(e,i,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,i,a,s){return new Tv(e,i,a,s)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,i){var a=e.alternate;return a===null?(a=Pt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function pd(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ms(e,i,a,s,o,f){var y=0;if(s=e,typeof e=="function")xo(e)&&(y=1);else if(typeof e=="string")y=O1(e,a,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Pt(31,a,i,o),e.elementType=W,e.lanes=f,e;case b:return na(a.children,o,f,i);case O:y=8,o|=24;break;case x:return e=Pt(12,a,i,o|2),e.elementType=x,e.lanes=f,e;case k:return e=Pt(13,a,i,o),e.elementType=k,e.lanes=f,e;case q:return e=Pt(19,a,i,o),e.elementType=q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case X:y=10;break e;case _:y=9;break e;case ie:y=11;break e;case B:y=14;break e;case H:y=16,s=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return i=Pt(y,a,i,o),i.elementType=e,i.type=s,i.lanes=f,i}function na(e,i,a,s){return e=Pt(7,e,s,i),e.lanes=a,e}function Eo(e,i,a){return e=Pt(6,e,null,i),e.lanes=a,e}function So(e,i,a){return i=Pt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pa=[],Ia=0,gs=null,ys=0,mn=[],gn=0,ia=null,Wn=1,$n="";function aa(e,i){Pa[Ia++]=ys,Pa[Ia++]=gs,gs=e,ys=i}function md(e,i,a){mn[gn++]=Wn,mn[gn++]=$n,mn[gn++]=ia,ia=e;var s=Wn;e=$n;var o=32-Je(s)-1;s&=~(1<<o),a+=1;var f=32-Je(i)+o;if(30<f){var y=o-o%5;f=(s&(1<<y)-1).toString(32),s>>=y,o-=y,Wn=1<<32-Je(i)+o|a<<o|s,$n=f+e}else Wn=1<<f|a<<o|s,$n=e}function Mo(e){e.return!==null&&(aa(e,1),md(e,1,0))}function To(e){for(;e===gs;)gs=Pa[--Ia],Pa[Ia]=null,ys=Pa[--Ia],Pa[Ia]=null;for(;e===ia;)ia=mn[--gn],mn[gn]=null,$n=mn[--gn],mn[gn]=null,Wn=mn[--gn],mn[gn]=null}var Lt=null,st=null,Ge=!1,ra=null,Ln=!1,Ro=Error(l(519));function la(e){var i=Error(l(418,""));throw Kr(dn(i,e)),Ro}function gd(e){var i=e.stateNode,a=e.type,s=e.memoizedProps;switch(i[Me]=e,i[He]=s,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Be(ml[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Dh(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),is(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),_h(i,s.value,s.defaultValue,s.children),is(i)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||s.suppressHydrationWarning===!0||_m(i.textContent,a)?(s.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),s.onScroll!=null&&Be("scroll",i),s.onScrollEnd!=null&&Be("scrollend",i),s.onClick!=null&&(i.onclick=Is),i=!0):i=!1,i||la(e)}function yd(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Lt=Lt.return}}function Xr(e){if(e!==Lt)return!1;if(!Ge)return yd(e),Ge=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xc(e.type,e.memoizedProps)),a=!a),a&&st&&la(e),yd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){st=Bn(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}st=null}}else i===27?(i=st,Ui(e.type)?(e=Fc,Fc=null,st=e):st=i):st=Lt?Bn(e.stateNode.nextSibling):null;return!0}function Qr(){st=Lt=null,Ge=!1}function vd(){var e=ra;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),ra=null),e}function Kr(e){ra===null?ra=[e]:ra.push(e)}var Oo=K(null),sa=null,ei=null;function bi(e,i,a){re(Oo,i._currentValue),i._currentValue=a}function ti(e){e._currentValue=Oo.current,te(Oo)}function Co(e,i,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===a)break;e=e.return}}function qo(e,i,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var y=o.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=o;for(var R=0;R<i.length;R++)if(w.context===i[R]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),Co(f.return,a,e),s||(y=null);break e}f=w.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Co(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Zr(e,i,a,s){e=null;for(var o=i,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var w=o.type;Jt(o.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(o===At.current){if(y=o.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}o=o.return}e!==null&&qo(i,e,a,s),i.flags|=262144}function vs(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){sa=e,ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return bd(sa,e)}function bs(e,i){return sa===null&&ua(e),bd(e,i)}function bd(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ei===null){if(e===null)throw Error(l(308));ei=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ei=ei.next=i;return a}var Rv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Ov=n.unstable_scheduleCallback,Cv=n.unstable_NormalPriority,gt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new Rv,data:new Map,refCount:0}}function Fr(e){e.refCount--,e.refCount===0&&Ov(Cv,function(){e.controller.abort()})}var kr=null,Bo=0,Wa=0,$a=null;function qv(e,i){if(kr===null){var a=kr=[];Bo=0,Wa=Uc(),$a={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Bo++,i.then(Ad,Ad),i}function Ad(){if(--Bo===0&&kr!==null){$a!==null&&($a.status="fulfilled");var e=kr;kr=null,Wa=0,$a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Dv(e,i){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var o=0;o<a.length;o++)(0,a[o])(i)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var wd=z.S;z.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qv(e,i),wd!==null&&wd(e,i)};var oa=K(null);function _o(){var e=oa.current;return e!==null?e:et.pooledCache}function As(e,i){i===null?re(oa,oa.current):re(oa,i.pool)}function xd(){var e=_o();return e===null?null:{parent:gt._currentValue,pool:e}}var Jr=Error(l(460)),Ed=Error(l(474)),ws=Error(l(542)),Uo={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xs(){}function Md(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(xs,xs),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rd(e),e;default:if(typeof i.status=="string")i.then(xs,xs);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var o=i;o.status="fulfilled",o.value=s}},function(s){if(i.status==="pending"){var o=i;o.status="rejected",o.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rd(e),e}throw Pr=i,Jr}}var Pr=null;function Td(){if(Pr===null)throw Error(l(459));var e=Pr;return Pr=null,e}function Rd(e){if(e===Jr||e===ws)throw Error(l(483))}var Ai=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,i,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var o=s.pending;return o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i,i=ps(e),dd(e,null,a),i}return ds(e,s,i,a),ps(e)}function Ir(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,Dr(e,a)}}function Lo(e,i){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?o=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?o=f=i:f=f.next=i}else o=f=i;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ho=!1;function Wr(){if(Ho){var e=$a;if(e!==null)throw e}}function $r(e,i,a,s){Ho=!1;var o=e.updateQueue;Ai=!1;var f=o.firstBaseUpdate,y=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var R=w,G=R.next;R.next=null,y===null?f=G:y.next=G,y=R;var F=e.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==y&&(w===null?F.firstBaseUpdate=G:w.next=G,F.lastBaseUpdate=R))}if(f!==null){var $=o.baseState;y=0,F=G=R=null,w=f;do{var Y=w.lane&-536870913,j=Y!==w.lane;if(j?(Ne&Y)===Y:(s&Y)===Y){Y!==0&&Y===Wa&&(Ho=!0),F!==null&&(F=F.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ee=e,ye=w;Y=i;var ke=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){$=Ee.call(ke,$,Y);break e}$=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,Y=typeof Ee=="function"?Ee.call(ke,$,Y):Ee,Y==null)break e;$=v({},$,Y);break e;case 2:Ai=!0}}Y=w.callback,Y!==null&&(e.flags|=64,j&&(e.flags|=8192),j=o.callbacks,j===null?o.callbacks=[Y]:j.push(Y))}else j={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(G=F=j,R=$):F=F.next=j,y|=Y;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;j=w,w=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);F===null&&(R=$),o.baseState=R,o.firstBaseUpdate=G,o.lastBaseUpdate=F,f===null&&(o.shared.lanes=0),qi|=y,e.lanes=y,e.memoizedState=$}}function Od(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function Cd(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Od(a[e],i)}var er=K(null),Es=K(0);function qd(e,i){e=ui,re(Es,e),re(er,i),ui=e|i.baseLanes}function Go(){re(Es,ui),re(er,er.current)}function Yo(){ui=Es.current,te(er),te(Es)}var Ei=0,Oe=null,Ze=null,dt=null,Ss=!1,tr=!1,ca=!1,Ms=0,el=0,nr=null,Bv=0;function ct(){throw Error(l(321))}function jo(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Jt(e[a],i[a]))return!1;return!0}function Vo(e,i,a,s,o,f){return Ei=f,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=e===null||e.memoizedState===null?dp:pp,ca=!1,f=a(s,o),ca=!1,tr&&(f=Bd(i,a,s,o)),Dd(e),f}function Dd(e){z.H=Ds;var i=Ze!==null&&Ze.next!==null;if(Ei=0,dt=Ze=Oe=null,Ss=!1,el=0,nr=null,i)throw Error(l(300));e===null||xt||(e=e.dependencies,e!==null&&vs(e)&&(xt=!0))}function Bd(e,i,a,s){Oe=e;var o=0;do{if(tr&&(nr=null),el=0,tr=!1,25<=o)throw Error(l(301));if(o+=1,dt=Ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Gv,f=i(a,s)}while(tr);return f}function _v(){var e=z.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Oe.flags|=1024),i}function Xo(){var e=Ms!==0;return Ms=0,e}function Qo(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ko(e){if(Ss){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ss=!1}Ei=0,dt=Ze=Oe=null,tr=!1,el=Ms=0,nr=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Oe.memoizedState=dt=e:dt=dt.next=e,dt}function pt(){if(Ze===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var i=dt===null?Oe.memoizedState:dt.next;if(i!==null)dt=i,Ze=e;else{if(e===null)throw Oe.alternate===null?Error(l(467)):Error(l(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?Oe.memoizedState=dt=e:dt=dt.next=e}return dt}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var i=el;return el+=1,nr===null&&(nr=[]),e=Md(nr,e,i),i=Oe,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?dp:pp),e}function Ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===X)return Bt(e)}throw Error(l(438,String(e)))}function Fo(e){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var s=Oe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(o){return o.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zo(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),s=0;s<e;s++)a[s]=ne;return i.index++,a}function ni(e,i){return typeof i=="function"?i(e):i}function Rs(e){var i=pt();return ko(i,Ze,e)}function ko(e,i,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,f=s.pending;if(f!==null){if(o!==null){var y=o.next;o.next=f.next,f.next=y}i.baseQueue=o=f,s.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{i=o.next;var w=y=null,R=null,G=i,F=!1;do{var $=G.lane&-536870913;if($!==G.lane?(Ne&$)===$:(Ei&$)===$){var Y=G.revertLane;if(Y===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),$===Wa&&(F=!0);else if((Ei&Y)===Y){G=G.next,Y===Wa&&(F=!0);continue}else $={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(w=R=$,y=f):R=R.next=$,Oe.lanes|=Y,qi|=Y;$=G.action,ca&&a(f,$),f=G.hasEagerState?G.eagerState:a(f,$)}else Y={lane:$,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(w=R=Y,y=f):R=R.next=Y,Oe.lanes|=$,qi|=$;G=G.next}while(G!==null&&G!==i);if(R===null?y=f:R.next=w,!Jt(f,e.memoizedState)&&(xt=!0,F&&(a=$a,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,s.lastRenderedState=f}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Jo(e){var i=pt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,f=i.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do f=e(f,y.action),y=y.next;while(y!==o);Jt(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,s]}function _d(e,i,a){var s=Oe,o=pt(),f=Ge;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=i();var y=!Jt((Ze||o).memoizedState,a);y&&(o.memoizedState=a,xt=!0),o=o.queue;var w=zd.bind(null,s,o,e);if(nl(2048,8,w,[e]),o.getSnapshot!==i||y||dt!==null&&dt.memoizedState.tag&1){if(s.flags|=2048,ir(9,Os(),Nd.bind(null,s,o,a,i),null),et===null)throw Error(l(349));f||(Ei&124)!==0||Ud(s,i,a)}return a}function Ud(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=Zo(),Oe.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Nd(e,i,a,s){i.value=a,i.getSnapshot=s,Ld(i)&&Hd(e)}function zd(e,i,a){return a(function(){Ld(i)&&Hd(e)})}function Ld(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Jt(e,a)}catch{return!0}}function Hd(e){var i=ka(e,2);i!==null&&tn(i,e,2)}function Po(e){var i=Yt();if(typeof e=="function"){var a=e;if(e=a(),ca){Ft(!0);try{a()}finally{Ft(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},i}function Gd(e,i,a,s){return e.baseState=a,ko(e,Ze,typeof s=="function"?s:ni)}function Uv(e,i,a,s,o){if(qs(e))throw Error(l(485));if(e=i.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?a(!0):f.isTransition=!1,s(f),a=i.pending,a===null?(f.next=i.pending=f,Yd(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Yd(e,i){var a=i.action,s=i.payload,o=e.state;if(i.isTransition){var f=z.T,y={};z.T=y;try{var w=a(o,s),R=z.S;R!==null&&R(y,w),jd(e,i,w)}catch(G){Io(e,i,G)}finally{z.T=f}}else try{f=a(o,s),jd(e,i,f)}catch(G){Io(e,i,G)}}function jd(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Vd(e,i,s)},function(s){return Io(e,i,s)}):Vd(e,i,a)}function Vd(e,i,a){i.status="fulfilled",i.value=a,Xd(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yd(e,a)))}function Io(e,i,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=a,Xd(i),i=i.next;while(i!==s)}e.action=null}function Xd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qd(e,i){return i}function Kd(e,i){if(Ge){var a=et.formState;if(a!==null){e:{var s=Oe;if(Ge){if(st){t:{for(var o=st,f=Ln;o.nodeType!==8;){if(!f){o=null;break t}if(o=Bn(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){st=Bn(o.nextSibling),s=o.data==="F!";break e}}la(s)}s=!1}s&&(i=a[0])}}return a=Yt(),a.memoizedState=a.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:i},a.queue=s,a=cp.bind(null,Oe,s),s.dispatch=a,s=Po(!1),f=nc.bind(null,Oe,!1,s.queue),s=Yt(),o={state:i,dispatch:null,action:e,pending:null},s.queue=o,a=Uv.bind(null,Oe,o,f,a),o.dispatch=a,s.memoizedState=e,[i,a,!1]}function Zd(e){var i=pt();return Fd(i,Ze,e)}function Fd(e,i,a){if(i=ko(e,i,Qd)[0],e=Rs(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=tl(i)}catch(y){throw y===Jr?ws:y}else s=i;i=pt();var o=i.queue,f=o.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,ir(9,Os(),Nv.bind(null,o,a),null)),[s,f,e]}function Nv(e,i){e.action=i}function kd(e){var i=pt(),a=Ze;if(a!==null)return Fd(i,a,e);pt(),i=i.memoizedState,a=pt();var s=a.queue.dispatch;return a.memoizedState=e,[i,s,!1]}function ir(e,i,a,s){return e={tag:e,create:a,deps:s,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Zo(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,i.lastEffect=e),e}function Os(){return{destroy:void 0,resource:void 0}}function Jd(){return pt().memoizedState}function Cs(e,i,a,s){var o=Yt();s=s===void 0?null:s,Oe.flags|=e,o.memoizedState=ir(1|i,Os(),a,s)}function nl(e,i,a,s){var o=pt();s=s===void 0?null:s;var f=o.memoizedState.inst;Ze!==null&&s!==null&&jo(s,Ze.memoizedState.deps)?o.memoizedState=ir(i,f,a,s):(Oe.flags|=e,o.memoizedState=ir(1|i,f,a,s))}function Pd(e,i){Cs(8390656,8,e,i)}function Id(e,i){nl(2048,8,e,i)}function Wd(e,i){return nl(4,2,e,i)}function $d(e,i){return nl(4,4,e,i)}function ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function tp(e,i,a){a=a!=null?a.concat([e]):null,nl(4,4,ep.bind(null,i,e),a)}function Wo(){}function np(e,i){var a=pt();i=i===void 0?null:i;var s=a.memoizedState;return i!==null&&jo(i,s[1])?s[0]:(a.memoizedState=[e,i],e)}function ip(e,i){var a=pt();i=i===void 0?null:i;var s=a.memoizedState;if(i!==null&&jo(i,s[1]))return s[0];if(s=e(),ca){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,i],s}function $o(e,i,a){return a===void 0||(Ei&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=lm(),Oe.lanes|=e,qi|=e,a)}function ap(e,i,a,s){return Jt(a,i)?a:er.current!==null?(e=$o(e,a,s),Jt(e,i)||(xt=!0),e):(Ei&42)===0?(xt=!0,e.memoizedState=a):(e=lm(),Oe.lanes|=e,qi|=e,i)}function rp(e,i,a,s,o){var f=ee.p;ee.p=f!==0&&8>f?f:8;var y=z.T,w={};z.T=w,nc(e,!1,i,a);try{var R=o(),G=z.S;if(G!==null&&G(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=Dv(R,s);il(e,i,F,en(e))}else il(e,i,s,en(e))}catch($){il(e,i,{then:function(){},status:"rejected",reason:$},en())}finally{ee.p=f,z.T=y}}function zv(){}function ec(e,i,a,s){if(e.tag!==5)throw Error(l(476));var o=lp(e).queue;rp(e,o,i,le,a===null?zv:function(){return sp(e),a(s)})}function lp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sp(e){var i=lp(e).next.queue;il(e,i,{},en())}function tc(){return Bt(wl)}function up(){return pt().memoizedState}function op(){return pt().memoizedState}function Lv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=en();e=wi(a);var s=xi(i,e,a);s!==null&&(tn(s,i,a),Ir(s,i,a)),i={cache:Do()},e.payload=i;return}i=i.return}}function Hv(e,i,a){var s=en();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qs(e)?fp(i,a):(a=wo(e,i,a,s),a!==null&&(tn(a,e,s),hp(a,i,s)))}function cp(e,i,a){var s=en();il(e,i,a,s)}function il(e,i,a,s){var o={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qs(e))fp(i,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,w=f(y,a);if(o.hasEagerState=!0,o.eagerState=w,Jt(w,y))return ds(e,i,o,0),et===null&&hs(),!1}catch{}finally{}if(a=wo(e,i,o,s),a!==null)return tn(a,e,s),hp(a,i,s),!0}return!1}function nc(e,i,a,s){if(s={lane:2,revertLane:Uc(),action:s,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(i)throw Error(l(479))}else i=wo(e,a,s,2),i!==null&&tn(i,e,2)}function qs(e){var i=e.alternate;return e===Oe||i!==null&&i===Oe}function fp(e,i){tr=Ss=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hp(e,i,a){if((a&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,Dr(e,a)}}var Ds={readContext:Bt,use:Ts,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},dp={readContext:Bt,use:Ts,useCallback:function(e,i){return Yt().memoizedState=[e,i===void 0?null:i],e},useContext:Bt,useEffect:Pd,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cs(4194308,4,ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cs(4194308,4,e,i)},useInsertionEffect:function(e,i){Cs(4,2,e,i)},useMemo:function(e,i){var a=Yt();i=i===void 0?null:i;var s=e();if(ca){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,i],s},useReducer:function(e,i,a){var s=Yt();if(a!==void 0){var o=a(i);if(ca){Ft(!0);try{a(i)}finally{Ft(!1)}}}else o=i;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Hv.bind(null,Oe,e),[s.memoizedState,e]},useRef:function(e){var i=Yt();return e={current:e},i.memoizedState=e},useState:function(e){e=Po(e);var i=e.queue,a=cp.bind(null,Oe,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Wo,useDeferredValue:function(e,i){var a=Yt();return $o(a,e,i)},useTransition:function(){var e=Po(!1);return e=rp.bind(null,Oe,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var s=Oe,o=Yt();if(Ge){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),et===null)throw Error(l(349));(Ne&124)!==0||Ud(s,i,a)}o.memoizedState=a;var f={value:a,getSnapshot:i};return o.queue=f,Pd(zd.bind(null,s,f,e),[e]),s.flags|=2048,ir(9,Os(),Nd.bind(null,s,f,a,i),null),a},useId:function(){var e=Yt(),i=et.identifierPrefix;if(Ge){var a=$n,s=Wn;a=(s&~(1<<32-Je(s)-1)).toString(32)+a,i=""+i+"R"+a,a=Ms++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Bv++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:tc,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var i=Yt();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nc.bind(null,Oe,!0,a),a.dispatch=i,[e,i]},useMemoCache:Fo,useCacheRefresh:function(){return Yt().memoizedState=Lv.bind(null,Oe)}},pp={readContext:Bt,use:Ts,useCallback:np,useContext:Bt,useEffect:Id,useImperativeHandle:tp,useInsertionEffect:Wd,useLayoutEffect:$d,useMemo:ip,useReducer:Rs,useRef:Jd,useState:function(){return Rs(ni)},useDebugValue:Wo,useDeferredValue:function(e,i){var a=pt();return ap(a,Ze.memoizedState,e,i)},useTransition:function(){var e=Rs(ni)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:_d,useId:up,useHostTransitionStatus:tc,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,i){var a=pt();return Gd(a,Ze,e,i)},useMemoCache:Fo,useCacheRefresh:op},Gv={readContext:Bt,use:Ts,useCallback:np,useContext:Bt,useEffect:Id,useImperativeHandle:tp,useInsertionEffect:Wd,useLayoutEffect:$d,useMemo:ip,useReducer:Jo,useRef:Jd,useState:function(){return Jo(ni)},useDebugValue:Wo,useDeferredValue:function(e,i){var a=pt();return Ze===null?$o(a,e,i):ap(a,Ze.memoizedState,e,i)},useTransition:function(){var e=Jo(ni)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:_d,useId:up,useHostTransitionStatus:tc,useFormState:kd,useActionState:kd,useOptimistic:function(e,i){var a=pt();return Ze!==null?Gd(a,Ze,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:op},ar=null,al=0;function Bs(e){var i=al;return al+=1,ar===null&&(ar=[]),Md(ar,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function _s(e,i){throw i.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function mp(e){var i=e._init;return i(e._payload)}function gp(e){function i(U,D){if(e){var N=U.deletions;N===null?(U.deletions=[D],U.flags|=16):N.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function s(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function o(U,D){return U=In(U,D),U.index=0,U.sibling=null,U}function f(U,D,N){return U.index=N,e?(N=U.alternate,N!==null?(N=N.index,N<D?(U.flags|=67108866,D):N):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function w(U,D,N,P){return D===null||D.tag!==6?(D=Eo(N,U.mode,P),D.return=U,D):(D=o(D,N),D.return=U,D)}function R(U,D,N,P){var oe=N.type;return oe===b?F(U,D,N.props.children,P,N.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===H&&mp(oe)===D.type)?(D=o(D,N.props),rl(D,N),D.return=U,D):(D=ms(N.type,N.key,N.props,null,U.mode,P),rl(D,N),D.return=U,D)}function G(U,D,N,P){return D===null||D.tag!==4||D.stateNode.containerInfo!==N.containerInfo||D.stateNode.implementation!==N.implementation?(D=So(N,U.mode,P),D.return=U,D):(D=o(D,N.children||[]),D.return=U,D)}function F(U,D,N,P,oe){return D===null||D.tag!==7?(D=na(N,U.mode,P,oe),D.return=U,D):(D=o(D,N),D.return=U,D)}function $(U,D,N){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Eo(""+D,U.mode,N),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case m:return N=ms(D.type,D.key,D.props,null,U.mode,N),rl(N,D),N.return=U,N;case S:return D=So(D,U.mode,N),D.return=U,D;case H:var P=D._init;return D=P(D._payload),$(U,D,N)}if(ve(D)||ue(D))return D=na(D,U.mode,N,null),D.return=U,D;if(typeof D.then=="function")return $(U,Bs(D),N);if(D.$$typeof===X)return $(U,bs(U,D),N);_s(U,D)}return null}function Y(U,D,N,P){var oe=D!==null?D.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return oe!==null?null:w(U,D,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case m:return N.key===oe?R(U,D,N,P):null;case S:return N.key===oe?G(U,D,N,P):null;case H:return oe=N._init,N=oe(N._payload),Y(U,D,N,P)}if(ve(N)||ue(N))return oe!==null?null:F(U,D,N,P,null);if(typeof N.then=="function")return Y(U,D,Bs(N),P);if(N.$$typeof===X)return Y(U,D,bs(U,N),P);_s(U,N)}return null}function j(U,D,N,P,oe){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return U=U.get(N)||null,w(D,U,""+P,oe);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case m:return U=U.get(P.key===null?N:P.key)||null,R(D,U,P,oe);case S:return U=U.get(P.key===null?N:P.key)||null,G(D,U,P,oe);case H:var qe=P._init;return P=qe(P._payload),j(U,D,N,P,oe)}if(ve(P)||ue(P))return U=U.get(N)||null,F(D,U,P,oe,null);if(typeof P.then=="function")return j(U,D,N,Bs(P),oe);if(P.$$typeof===X)return j(U,D,N,bs(D,P),oe);_s(D,P)}return null}function Ee(U,D,N,P){for(var oe=null,qe=null,de=D,be=D=0,St=null;de!==null&&be<N.length;be++){de.index>be?(St=de,de=null):St=de.sibling;var ze=Y(U,de,N[be],P);if(ze===null){de===null&&(de=St);break}e&&de&&ze.alternate===null&&i(U,de),D=f(ze,D,be),qe===null?oe=ze:qe.sibling=ze,qe=ze,de=St}if(be===N.length)return a(U,de),Ge&&aa(U,be),oe;if(de===null){for(;be<N.length;be++)de=$(U,N[be],P),de!==null&&(D=f(de,D,be),qe===null?oe=de:qe.sibling=de,qe=de);return Ge&&aa(U,be),oe}for(de=s(de);be<N.length;be++)St=j(de,U,be,N[be],P),St!==null&&(e&&St.alternate!==null&&de.delete(St.key===null?be:St.key),D=f(St,D,be),qe===null?oe=St:qe.sibling=St,qe=St);return e&&de.forEach(function(Gi){return i(U,Gi)}),Ge&&aa(U,be),oe}function ye(U,D,N,P){if(N==null)throw Error(l(151));for(var oe=null,qe=null,de=D,be=D=0,St=null,ze=N.next();de!==null&&!ze.done;be++,ze=N.next()){de.index>be?(St=de,de=null):St=de.sibling;var Gi=Y(U,de,ze.value,P);if(Gi===null){de===null&&(de=St);break}e&&de&&Gi.alternate===null&&i(U,de),D=f(Gi,D,be),qe===null?oe=Gi:qe.sibling=Gi,qe=Gi,de=St}if(ze.done)return a(U,de),Ge&&aa(U,be),oe;if(de===null){for(;!ze.done;be++,ze=N.next())ze=$(U,ze.value,P),ze!==null&&(D=f(ze,D,be),qe===null?oe=ze:qe.sibling=ze,qe=ze);return Ge&&aa(U,be),oe}for(de=s(de);!ze.done;be++,ze=N.next())ze=j(de,U,be,ze.value,P),ze!==null&&(e&&ze.alternate!==null&&de.delete(ze.key===null?be:ze.key),D=f(ze,D,be),qe===null?oe=ze:qe.sibling=ze,qe=ze);return e&&de.forEach(function(Y1){return i(U,Y1)}),Ge&&aa(U,be),oe}function ke(U,D,N,P){if(typeof N=="object"&&N!==null&&N.type===b&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case m:e:{for(var oe=N.key;D!==null;){if(D.key===oe){if(oe=N.type,oe===b){if(D.tag===7){a(U,D.sibling),P=o(D,N.props.children),P.return=U,U=P;break e}}else if(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===H&&mp(oe)===D.type){a(U,D.sibling),P=o(D,N.props),rl(P,N),P.return=U,U=P;break e}a(U,D);break}else i(U,D);D=D.sibling}N.type===b?(P=na(N.props.children,U.mode,P,N.key),P.return=U,U=P):(P=ms(N.type,N.key,N.props,null,U.mode,P),rl(P,N),P.return=U,U=P)}return y(U);case S:e:{for(oe=N.key;D!==null;){if(D.key===oe)if(D.tag===4&&D.stateNode.containerInfo===N.containerInfo&&D.stateNode.implementation===N.implementation){a(U,D.sibling),P=o(D,N.children||[]),P.return=U,U=P;break e}else{a(U,D);break}else i(U,D);D=D.sibling}P=So(N,U.mode,P),P.return=U,U=P}return y(U);case H:return oe=N._init,N=oe(N._payload),ke(U,D,N,P)}if(ve(N))return Ee(U,D,N,P);if(ue(N)){if(oe=ue(N),typeof oe!="function")throw Error(l(150));return N=oe.call(N),ye(U,D,N,P)}if(typeof N.then=="function")return ke(U,D,Bs(N),P);if(N.$$typeof===X)return ke(U,D,bs(U,N),P);_s(U,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,D!==null&&D.tag===6?(a(U,D.sibling),P=o(D,N),P.return=U,U=P):(a(U,D),P=Eo(N,U.mode,P),P.return=U,U=P),y(U)):a(U,D)}return function(U,D,N,P){try{al=0;var oe=ke(U,D,N,P);return ar=null,oe}catch(de){if(de===Jr||de===ws)throw de;var qe=Pt(29,de,null,U.mode);return qe.lanes=P,qe.return=U,qe}finally{}}}var rr=gp(!0),yp=gp(!1),yn=K(null),Hn=null;function Si(e){var i=e.alternate;re(yt,yt.current&1),re(yn,e),Hn===null&&(i===null||er.current!==null||i.memoizedState!==null)&&(Hn=e)}function vp(e){if(e.tag===22){if(re(yt,yt.current),re(yn,e),Hn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Hn=e)}}else Mi()}function Mi(){re(yt,yt.current),re(yn,yn.current)}function ii(e){te(yn),Hn===e&&(Hn=null),te(yt)}var yt=K(0);function Us(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zc(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ic(e,i,a,s){i=e.memoizedState,a=a(s,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ac={enqueueSetState:function(e,i,a){e=e._reactInternals;var s=en(),o=wi(s);o.payload=i,a!=null&&(o.callback=a),i=xi(e,o,s),i!==null&&(tn(i,e,s),Ir(i,e,s))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var s=en(),o=wi(s);o.tag=1,o.payload=i,a!=null&&(o.callback=a),i=xi(e,o,s),i!==null&&(tn(i,e,s),Ir(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=en(),s=wi(a);s.tag=2,i!=null&&(s.callback=i),i=xi(e,s,a),i!==null&&(tn(i,e,a),Ir(i,e,a))}};function bp(e,i,a,s,o,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):i.prototype&&i.prototype.isPureReactComponent?!jr(a,s)||!jr(o,f):!0}function Ap(e,i,a,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==e&&ac.enqueueReplaceState(i,i.state,null)}function fa(e,i){var a=i;if("ref"in i){a={};for(var s in i)s!=="ref"&&(a[s]=i[s])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Ns=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wp(e){Ns(e)}function xp(e){console.error(e)}function Ep(e){Ns(e)}function zs(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function Sp(e,i,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function rc(e,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){zs(e,i)},a}function Mp(e){return e=wi(e),e.tag=3,e}function Tp(e,i,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var f=s.value;e.payload=function(){return o(f)},e.callback=function(){Sp(i,a,s)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Sp(i,a,s),typeof o!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function Yv(e,i,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=a.alternate,i!==null&&Zr(i,a,o,!0),a=yn.current,a!==null){switch(a.tag){case 13:return Hn===null?Cc():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Uo?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([s]):i.add(s),Dc(e,s,o)),!1;case 22:return a.flags|=65536,s===Uo?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([s]):a.add(s)),Dc(e,s,o)),!1}throw Error(l(435,a.tag))}return Dc(e,s,o),Cc(),!1}if(Ge)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=o,s!==Ro&&(e=Error(l(422),{cause:s}),Kr(dn(e,a)))):(s!==Ro&&(i=Error(l(423),{cause:s}),Kr(dn(i,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=dn(s,a),o=rc(e.stateNode,s,o),Lo(e,o),ut!==4&&(ut=2)),!1;var f=Error(l(520),{cause:s});if(f=dn(f,a),hl===null?hl=[f]:hl.push(f),ut!==4&&(ut=2),i===null)return!0;s=dn(s,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=rc(a.stateNode,s,e),Lo(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Di===null||!Di.has(f))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Mp(o),Tp(o,e,a,s),Lo(a,o),!1}a=a.return}while(a!==null);return!1}var Rp=Error(l(461)),xt=!1;function Tt(e,i,a,s){i.child=e===null?yp(i,null,a,s):rr(i,e.child,a,s)}function Op(e,i,a,s,o){a=a.render;var f=i.ref;if("ref"in s){var y={};for(var w in s)w!=="ref"&&(y[w]=s[w])}else y=s;return ua(i),s=Vo(e,i,a,y,f,o),w=Xo(),e!==null&&!xt?(Qo(e,i,o),ai(e,i,o)):(Ge&&w&&Mo(i),i.flags|=1,Tt(e,i,s,o),i.child)}function Cp(e,i,a,s,o){if(e===null){var f=a.type;return typeof f=="function"&&!xo(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,qp(e,i,f,s,o)):(e=ms(a.type,null,s,i,i.mode,o),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!dc(e,o)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:jr,a(y,s)&&e.ref===i.ref)return ai(e,i,o)}return i.flags|=1,e=In(f,s),e.ref=i.ref,e.return=i,i.child=e}function qp(e,i,a,s,o){if(e!==null){var f=e.memoizedProps;if(jr(f,s)&&e.ref===i.ref)if(xt=!1,i.pendingProps=s=f,dc(e,o))(e.flags&131072)!==0&&(xt=!0);else return i.lanes=e.lanes,ai(e,i,o)}return lc(e,i,a,s,o)}function Dp(e,i,a){var s=i.pendingProps,o=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((i.flags&128)!==0){if(s=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;i.childLanes=f&~s}else i.childLanes=0,i.child=null;return Bp(e,i,s,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&As(i,f!==null?f.cachePool:null),f!==null?qd(i,f):Go(),vp(i);else return i.lanes=i.childLanes=536870912,Bp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(As(i,f.cachePool),qd(i,f),Mi(),i.memoizedState=null):(e!==null&&As(i,null),Go(),Mi());return Tt(e,i,o,a),i.child}function Bp(e,i,a,s){var o=_o();return o=o===null?null:{parent:gt._currentValue,pool:o},i.memoizedState={baseLanes:a,cachePool:o},e!==null&&As(i,null),Go(),vp(i),e!==null&&Zr(e,i,s,!0),null}function Ls(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function lc(e,i,a,s,o){return ua(i),a=Vo(e,i,a,s,void 0,o),s=Xo(),e!==null&&!xt?(Qo(e,i,o),ai(e,i,o)):(Ge&&s&&Mo(i),i.flags|=1,Tt(e,i,a,o),i.child)}function _p(e,i,a,s,o,f){return ua(i),i.updateQueue=null,a=Bd(i,s,a,o),Dd(e),s=Xo(),e!==null&&!xt?(Qo(e,i,f),ai(e,i,f)):(Ge&&s&&Mo(i),i.flags|=1,Tt(e,i,a,f),i.child)}function Up(e,i,a,s,o){if(ua(i),i.stateNode===null){var f=Ja,y=a.contextType;typeof y=="object"&&y!==null&&(f=Bt(y)),f=new a(s,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ac,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=s,f.state=i.memoizedState,f.refs={},No(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?Bt(y):Ja,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ic(i,a,y,s),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ac.enqueueReplaceState(f,f.state,null),$r(i,s,f,o),Wr(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){f=i.stateNode;var w=i.memoizedProps,R=fa(a,w);f.props=R;var G=f.context,F=a.contextType;y=Ja,typeof F=="object"&&F!==null&&(y=Bt(F));var $=a.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||G!==y)&&Ap(i,f,s,y),Ai=!1;var Y=i.memoizedState;f.state=Y,$r(i,s,f,o),Wr(),G=i.memoizedState,w||Y!==G||Ai?(typeof $=="function"&&(ic(i,a,$,s),G=i.memoizedState),(R=Ai||bp(i,a,R,s,Y,G,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=G),f.props=s,f.state=G,f.context=y,s=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{f=i.stateNode,zo(e,i),y=i.memoizedProps,F=fa(a,y),f.props=F,$=i.pendingProps,Y=f.context,G=a.contextType,R=Ja,typeof G=="object"&&G!==null&&(R=Bt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||Y!==R)&&Ap(i,f,s,R),Ai=!1,Y=i.memoizedState,f.state=Y,$r(i,s,f,o),Wr();var j=i.memoizedState;y!==$||Y!==j||Ai||e!==null&&e.dependencies!==null&&vs(e.dependencies)?(typeof w=="function"&&(ic(i,a,w,s),j=i.memoizedState),(F=Ai||bp(i,a,F,s,Y,j,R)||e!==null&&e.dependencies!==null&&vs(e.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,j,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=j),f.props=s,f.state=j,f.context=R,s=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),s=!1)}return f=s,Ls(e,i),s=(i.flags&128)!==0,f||s?(f=i.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&s?(i.child=rr(i,e.child,null,o),i.child=rr(i,null,a,o)):Tt(e,i,a,o),i.memoizedState=f.state,e=i.child):e=ai(e,i,o),e}function Np(e,i,a,s){return Qr(),i.flags|=256,Tt(e,i,a,s),i.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:xd()}}function oc(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function zp(e,i,a){var s=i.pendingProps,o=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),y&&(o=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ge){if(o?Si(i):Mi(),Ge){var w=st,R;if(R=w){e:{for(R=w,w=Ln;R.nodeType!==8;){if(!w){w=null;break e}if(R=Bn(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(i.memoizedState={dehydrated:w,treeContext:ia!==null?{id:Wn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},R=Pt(18,null,null,0),R.stateNode=w,R.return=i,i.child=R,Lt=i,st=null,R=!0):R=!1}R||la(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Zc(w)?i.lanes=32:i.lanes=536870912,null;ii(i)}return w=s.children,s=s.fallback,o?(Mi(),o=i.mode,w=Hs({mode:"hidden",children:w},o),s=na(s,o,a,null),w.return=i,s.return=i,w.sibling=s,i.child=w,o=i.child,o.memoizedState=uc(a),o.childLanes=oc(e,y,a),i.memoizedState=sc,s):(Si(i),cc(i,w))}if(R=e.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(f)i.flags&256?(Si(i),i.flags&=-257,i=fc(e,i,a)):i.memoizedState!==null?(Mi(),i.child=e.child,i.flags|=128,i=null):(Mi(),o=s.fallback,w=i.mode,s=Hs({mode:"visible",children:s.children},w),o=na(o,w,a,null),o.flags|=2,s.return=i,o.return=i,s.sibling=o,i.child=s,rr(i,e.child,null,a),s=i.child,s.memoizedState=uc(a),s.childLanes=oc(e,y,a),i.memoizedState=sc,i=o);else if(Si(i),Zc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var G=y.dgst;y=G,s=Error(l(419)),s.stack="",s.digest=y,Kr({value:s,source:null,stack:null}),i=fc(e,i,a)}else if(xt||Zr(e,i,a,!1),y=(a&e.childLanes)!==0,xt||y){if(y=et,y!==null&&(s=a&-a,s=(s&42)!==0?1:C(s),s=(s&(y.suspendedLanes|a))!==0?0:s,s!==0&&s!==R.retryLane))throw R.retryLane=s,ka(e,s),tn(y,e,s),Rp;w.data==="$?"||Cc(),i=fc(e,i,a)}else w.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,st=Bn(w.nextSibling),Lt=i,Ge=!0,ra=null,Ln=!1,e!==null&&(mn[gn++]=Wn,mn[gn++]=$n,mn[gn++]=ia,Wn=e.id,$n=e.overflow,ia=i),i=cc(i,s.children),i.flags|=4096);return i}return o?(Mi(),o=s.fallback,w=i.mode,R=e.child,G=R.sibling,s=In(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,G!==null?o=In(G,o):(o=na(o,w,a,null),o.flags|=2),o.return=i,s.return=i,s.sibling=o,i.child=s,s=o,o=i.child,w=e.child.memoizedState,w===null?w=uc(a):(R=w.cachePool,R!==null?(G=gt._currentValue,R=R.parent!==G?{parent:G,pool:G}:R):R=xd(),w={baseLanes:w.baseLanes|a,cachePool:R}),o.memoizedState=w,o.childLanes=oc(e,y,a),i.memoizedState=sc,s):(Si(i),a=e.child,e=a.sibling,a=In(a,{mode:"visible",children:s.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function cc(e,i){return i=Hs({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hs(e,i){return e=Pt(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fc(e,i,a){return rr(i,e.child,null,a),e=cc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Lp(e,i,a){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),Co(e.return,i,a)}function hc(e,i,a,s,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o)}function Hp(e,i,a){var s=i.pendingProps,o=s.revealOrder,f=s.tail;if(Tt(e,i,s.children,a),s=yt.current,(s&2)!==0)s=s&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,a,i);else if(e.tag===19)Lp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(re(yt,s),o){case"forwards":for(a=i.child,o=null;a!==null;)e=a.alternate,e!==null&&Us(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=i.child,i.child=null):(o=a.sibling,a.sibling=null),hc(i,!1,o,a,f);break;case"backwards":for(a=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&Us(e)===null){i.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}hc(i,!0,a,null,f);break;case"together":hc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ai(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),qi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Zr(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,a=In(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=In(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function dc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&vs(e)))}function jv(e,i,a){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),bi(i,gt,e.memoizedState.cache),Qr();break;case 27:case 5:Nn(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?zp(e,i,a):(Si(i),e=ai(e,i,a),e!==null?e.sibling:null);Si(i);break;case 19:var o=(e.flags&128)!==0;if(s=(a&i.childLanes)!==0,s||(Zr(e,i,a,!1),s=(a&i.childLanes)!==0),o){if(s)return Hp(e,i,a);i.flags|=128}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),re(yt,yt.current),s)break;return null;case 22:case 23:return i.lanes=0,Dp(e,i,a);case 24:bi(i,gt,e.memoizedState.cache)}return ai(e,i,a)}function Gp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xt=!0;else{if(!dc(e,a)&&(i.flags&128)===0)return xt=!1,jv(e,i,a);xt=(e.flags&131072)!==0}else xt=!1,Ge&&(i.flags&1048576)!==0&&md(i,ys,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var s=i.elementType,o=s._init;if(s=o(s._payload),i.type=s,typeof s=="function")xo(s)?(e=fa(s,e),i.tag=1,i=Up(null,i,s,e,a)):(i.tag=0,i=lc(null,i,s,e,a));else{if(s!=null){if(o=s.$$typeof,o===ie){i.tag=11,i=Op(null,i,s,e,a);break e}else if(o===B){i.tag=14,i=Cp(null,i,s,e,a);break e}}throw i=we(s)||s,Error(l(306,i,""))}}return i;case 0:return lc(e,i,i.type,i.pendingProps,a);case 1:return s=i.type,o=fa(s,i.pendingProps),Up(e,i,s,o,a);case 3:e:{if(Qe(i,i.stateNode.containerInfo),e===null)throw Error(l(387));s=i.pendingProps;var f=i.memoizedState;o=f.element,zo(e,i),$r(i,s,null,a);var y=i.memoizedState;if(s=y.cache,bi(i,gt,s),s!==f.cache&&qo(i,[gt],a,!0),Wr(),s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Np(e,i,s,a);break e}else if(s!==o){o=dn(Error(l(424)),i),Kr(o),i=Np(e,i,s,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Bn(e.firstChild),Lt=i,Ge=!0,ra=null,Ln=!0,a=yp(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),s===o){i=ai(e,i,a);break e}Tt(e,i,s,a)}i=i.child}return i;case 26:return Ls(e,i),e===null?(a=Xm(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,e=i.pendingProps,s=Ws(xe.current).createElement(a),s[Me]=i,s[He]=e,Ot(s,a,e),wt(s),i.stateNode=s):i.memoizedState=Xm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Nn(i),e===null&&Ge&&(s=i.stateNode=Ym(i.type,i.pendingProps,xe.current),Lt=i,Ln=!0,o=st,Ui(i.type)?(Fc=o,st=Bn(s.firstChild)):st=o),Tt(e,i,i.pendingProps.children,a),Ls(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ge&&((o=s=st)&&(s=m1(s,i.type,i.pendingProps,Ln),s!==null?(i.stateNode=s,Lt=i,st=Bn(s.firstChild),Ln=!1,o=!0):o=!1),o||la(i)),Nn(i),o=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,s=f.children,Xc(o,f)?s=null:y!==null&&Xc(o,y)&&(i.flags|=32),i.memoizedState!==null&&(o=Vo(e,i,_v,null,null,a),wl._currentValue=o),Ls(e,i),Tt(e,i,s,a),i.child;case 6:return e===null&&Ge&&((e=a=st)&&(a=g1(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Lt=i,st=null,e=!0):e=!1),e||la(i)),null;case 13:return zp(e,i,a);case 4:return Qe(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=rr(i,null,s,a):Tt(e,i,s,a),i.child;case 11:return Op(e,i,i.type,i.pendingProps,a);case 7:return Tt(e,i,i.pendingProps,a),i.child;case 8:return Tt(e,i,i.pendingProps.children,a),i.child;case 12:return Tt(e,i,i.pendingProps.children,a),i.child;case 10:return s=i.pendingProps,bi(i,i.type,s.value),Tt(e,i,s.children,a),i.child;case 9:return o=i.type._context,s=i.pendingProps.children,ua(i),o=Bt(o),s=s(o),i.flags|=1,Tt(e,i,s,a),i.child;case 14:return Cp(e,i,i.type,i.pendingProps,a);case 15:return qp(e,i,i.type,i.pendingProps,a);case 19:return Hp(e,i,a);case 31:return s=i.pendingProps,a=i.mode,s={mode:s.mode,children:s.children},e===null?(a=Hs(s,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=In(e.child,s),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Dp(e,i,a);case 24:return ua(i),s=Bt(gt),e===null?(o=_o(),o===null&&(o=et,f=Do(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=a),o=f),i.memoizedState={parent:s,cache:o},No(i),bi(i,gt,o)):((e.lanes&a)!==0&&(zo(e,i),$r(i,null,null,a),Wr()),o=e.memoizedState,f=i.memoizedState,o.parent!==s?(o={parent:s,cache:s},i.memoizedState=o,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=o),bi(i,gt,s)):(s=f.cache,bi(i,gt,s),s!==o.cache&&qo(i,[gt],a,!0))),Tt(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ri(e){e.flags|=4}function Yp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!km(i)){if(i=yn.current,i!==null&&((Ne&4194048)===Ne?Hn!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||i!==Hn))throw Pr=Uo,Ed;e.flags|=8192}}function Gs(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ii():536870912,e.lanes|=i,or|=i)}function ll(e,i){if(!Ge)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(i)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,i}function Vv(e,i,a){var s=i.pendingProps;switch(To(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ti(gt),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xr(i)?ri(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vd())),it(i),null;case 26:return a=i.memoizedState,e===null?(ri(i),a!==null?(it(i),Yp(i,a)):(it(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ri(i),it(i),Yp(i,a)):(it(i),i.flags&=-16777217):(e.memoizedProps!==s&&ri(i),it(i),i.flags&=-16777217),null;case 27:Nt(i),a=xe.current;var o=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ri(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return it(i),null}e=fe.current,Xr(i)?gd(i):(e=Ym(o,s,a),i.stateNode=e,ri(i))}return it(i),null;case 5:if(Nt(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ri(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return it(i),null}if(e=fe.current,Xr(i))gd(i);else{switch(o=Ws(xe.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(a,{is:s.is}):o.createElement(a)}}e[Me]=i,e[He]=s;e:for(o=i.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i.stateNode=e;e:switch(Ot(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ri(i)}}return it(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&ri(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(l(166));if(e=xe.current,Xr(i)){if(e=i.stateNode,a=i.memoizedProps,s=null,o=Lt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[Me]=i,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||_m(e.nodeValue,a)),e||la(i)}else e=Ws(e).createTextNode(s),e[Me]=i,i.stateNode=e}return it(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xr(i),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=i.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Me]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),o=!1}else o=vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return i.flags&256?(ii(i),i):(ii(i),null)}if(ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=i.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Gs(i,i.updateQueue),it(i),null;case 4:return on(),e===null&&Hc(i.stateNode.containerInfo),it(i),null;case 10:return ti(i.type),it(i),null;case 19:if(te(yt),o=i.memoizedState,o===null)return it(i),null;if(s=(i.flags&128)!==0,f=o.rendering,f===null)if(s)ll(o,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Us(e),f!==null){for(i.flags|=128,ll(o,!1),e=f.updateQueue,i.updateQueue=e,Gs(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)pd(a,e),a=a.sibling;return re(yt,yt.current&1|2),i.child}e=e.sibling}o.tail!==null&&Ke()>Vs&&(i.flags|=128,s=!0,ll(o,!1),i.lanes=4194304)}else{if(!s)if(e=Us(f),e!==null){if(i.flags|=128,s=!0,e=e.updateQueue,i.updateQueue=e,Gs(i,e),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return it(i),null}else 2*Ke()-o.renderingStartTime>Vs&&a!==536870912&&(i.flags|=128,s=!0,ll(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(i=o.tail,o.rendering=i,o.tail=i.sibling,o.renderingStartTime=Ke(),i.sibling=null,e=yt.current,re(yt,s?e&1|2:e&1),i):(it(i),null);case 22:case 23:return ii(i),Yo(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Gs(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048),e!==null&&te(oa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(gt),it(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Xv(e,i){switch(To(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ti(gt),on(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Nt(i),null;case 13:if(ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Qr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return te(yt),null;case 4:return on(),null;case 10:return ti(i.type),null;case 22:case 23:return ii(i),Yo(),e!==null&&te(oa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ti(gt),null;case 25:return null;default:return null}}function jp(e,i){switch(To(i),i.tag){case 3:ti(gt),on();break;case 26:case 27:case 5:Nt(i);break;case 4:on();break;case 13:ii(i);break;case 19:te(yt);break;case 10:ti(i.type);break;case 22:case 23:ii(i),Yo(),e!==null&&te(oa);break;case 24:ti(gt)}}function sl(e,i){try{var a=i.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var f=a.create,y=a.inst;s=f(),y.destroy=s}a=a.next}while(a!==o)}}catch(w){Ie(i,i.return,w)}}function Ti(e,i,a){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){var y=s.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,o=i;var R=a,G=w;try{G()}catch(F){Ie(o,R,F)}}}s=s.next}while(s!==f)}}catch(F){Ie(i,i.return,F)}}function Vp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cd(i,a)}catch(s){Ie(e,e.return,s)}}}function Xp(e,i,a){a.props=fa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ie(e,i,s)}}function ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ie(e,i,o)}}function Gn(e,i){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ie(e,i,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ie(e,i,o)}else a.current=null}function Qp(e){var i=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ie(e,e.return,o)}}function pc(e,i,a){try{var s=e.stateNode;c1(s,e.type,a,i),s[He]=i}catch(o){Ie(e,e.return,o)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Is));else if(s!==4&&(s===27&&Ui(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(gc(e,i,a),e=e.sibling;e!==null;)gc(e,i,a),e=e.sibling}function Ys(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(s!==4&&(s===27&&Ui(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ys(e,i,a),e=e.sibling;e!==null;)Ys(e,i,a),e=e.sibling}function Zp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ot(i,s,a),i[Me]=e,i[He]=a}catch(f){Ie(e,e.return,f)}}var li=!1,ft=!1,yc=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Qv(e,i){if(e=e.containerInfo,jc=au,e=ad(e),mo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,w=-1,R=-1,G=0,F=0,$=e,Y=null;t:for(;;){for(var j;$!==a||o!==0&&$.nodeType!==3||(w=y+o),$!==f||s!==0&&$.nodeType!==3||(R=y+s),$.nodeType===3&&(y+=$.nodeValue.length),(j=$.firstChild)!==null;)Y=$,$=j;for(;;){if($===e)break t;if(Y===a&&++G===o&&(w=y),Y===f&&++F===s&&(R=y),(j=$.nextSibling)!==null)break;$=Y,Y=$.parentNode}$=j}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vc={focusedElem:e,selectionRange:a},au=!1,Et=i;Et!==null;)if(i=Et,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Et=e;else for(;Et!==null;){switch(i=Et,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,o=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var Ee=fa(a.type,o,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(Ee,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ie(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,Et=e;break}Et=i.return}}function kp(e,i,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(e,a),s&4&&sl(5,a);break;case 1:if(Ri(e,a),s&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Ie(a,a.return,y)}else{var o=fa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(o,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ie(a,a.return,y)}}s&64&&Vp(a),s&512&&ul(a,a.return);break;case 3:if(Ri(e,a),s&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cd(e,i)}catch(y){Ie(a,a.return,y)}}break;case 27:i===null&&s&4&&Zp(a);case 26:case 5:Ri(e,a),i===null&&s&4&&Qp(a),s&512&&ul(a,a.return);break;case 12:Ri(e,a);break;case 13:Ri(e,a),s&4&&Ip(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$v.bind(null,a),y1(e,a))));break;case 22:if(s=a.memoizedState!==null||li,!s){i=i!==null&&i.memoizedState!==null||ft,o=li;var f=ft;li=s,(ft=i)&&!f?Oi(e,a,(a.subtreeFlags&8772)!==0):Ri(e,a),li=o,ft=f}break;case 30:break;default:Ri(e,a)}}function Jp(e){var i=e.alternate;i!==null&&(e.alternate=null,Jp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ju(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,jt=!1;function si(e,i,a){for(a=a.child;a!==null;)Pp(e,i,a),a=a.sibling}function Pp(e,i,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:ft||Gn(a,i),si(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Gn(a,i);var s=tt,o=jt;Ui(a.type)&&(tt=a.stateNode,jt=!1),si(e,i,a),yl(a.stateNode),tt=s,jt=o;break;case 5:ft||Gn(a,i);case 6:if(s=tt,o=jt,tt=null,si(e,i,a),tt=s,jt=o,tt!==null)if(jt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(f){Ie(a,i,f)}else try{tt.removeChild(a.stateNode)}catch(f){Ie(a,i,f)}break;case 18:tt!==null&&(jt?(e=tt,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ml(e)):Hm(tt,a.stateNode));break;case 4:s=tt,o=jt,tt=a.stateNode.containerInfo,jt=!0,si(e,i,a),tt=s,jt=o;break;case 0:case 11:case 14:case 15:ft||Ti(2,a,i),ft||Ti(4,a,i),si(e,i,a);break;case 1:ft||(Gn(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Xp(a,i,s)),si(e,i,a);break;case 21:si(e,i,a);break;case 22:ft=(s=ft)||a.memoizedState!==null,si(e,i,a),ft=s;break;default:si(e,i,a)}}function Ip(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(a){Ie(i,i.return,a)}}function Kv(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Fp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Fp),i;default:throw Error(l(435,e.tag))}}function vc(e,i){var a=Kv(e);i.forEach(function(s){var o=e1.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}function It(e,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],f=e,y=i,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(Ui(w.type)){tt=w.stateNode,jt=!1;break e}break;case 5:tt=w.stateNode,jt=!1;break e;case 3:case 4:tt=w.stateNode.containerInfo,jt=!0;break e}w=w.return}if(tt===null)throw Error(l(160));Pp(f,y,o),tt=null,jt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wp(i,e),i=i.sibling}var Dn=null;function Wp(e,i){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(i,e),Wt(e),s&4&&(Ti(3,e,e.return),sl(3,e),Ti(5,e,e.return));break;case 1:It(i,e),Wt(e),s&512&&(ft||a===null||Gn(a,a.return)),s&64&&li&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Dn;if(It(i,e),Wt(e),s&512&&(ft||a===null||Gn(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Br]||f[Me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(s),o.head.insertBefore(f,o.querySelector("head > title"))),Ot(f,s,a),f[Me]=e,wt(f),s=f;break e;case"link":var y=Zm("link","href",o).get(s+(a.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(w,1);break t}}f=o.createElement(s),Ot(f,s,a),o.head.appendChild(f);break;case"meta":if(y=Zm("meta","content",o).get(s+(a.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(w,1);break t}}f=o.createElement(s),Ot(f,s,a),o.head.appendChild(f);break;default:throw Error(l(468,s))}f[Me]=e,wt(f),s=f}e.stateNode=s}else Fm(o,e.type,e.stateNode);else e.stateNode=Km(o,s,e.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?Fm(o,e.type,e.stateNode):Km(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&pc(e,e.memoizedProps,a.memoizedProps)}break;case 27:It(i,e),Wt(e),s&512&&(ft||a===null||Gn(a,a.return)),a!==null&&s&4&&pc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(It(i,e),Wt(e),s&512&&(ft||a===null||Gn(a,a.return)),e.flags&32){o=e.stateNode;try{ja(o,"")}catch(j){Ie(e,e.return,j)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,pc(e,o,a!==null?a.memoizedProps:o)),s&1024&&(yc=!0);break;case 6:if(It(i,e),Wt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(j){Ie(e,e.return,j)}}break;case 3:if(tu=null,o=Dn,Dn=$s(i.containerInfo),It(i,e),Dn=o,Wt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(i.containerInfo)}catch(j){Ie(e,e.return,j)}yc&&(yc=!1,$p(e));break;case 4:s=Dn,Dn=$s(e.stateNode.containerInfo),It(i,e),Wt(e),Dn=s;break;case 12:It(i,e),Wt(e);break;case 13:It(i,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=Ke()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,vc(e,s)));break;case 22:o=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,G=li,F=ft;if(li=G||o,ft=F||R,It(i,e),ft=F,li=G,Wt(e),s&8192)e:for(i=e.stateNode,i._visibility=o?i._visibility&-2:i._visibility|1,o&&(a===null||R||li||ft||ha(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,o)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=R.stateNode;var $=R.memoizedProps.style,Y=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(j){Ie(R,R.return,j)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=o?"":R.memoizedProps}catch(j){Ie(R,R.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,vc(e,a))));break;case 19:It(i,e),Wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,vc(e,s)));break;case 30:break;case 21:break;default:It(i,e),Wt(e)}}function Wt(e){var i=e.flags;if(i&2){try{for(var a,s=e.return;s!==null;){if(Kp(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,f=mc(e);Ys(e,f,o);break;case 5:var y=a.stateNode;a.flags&32&&(ja(y,""),a.flags&=-33);var w=mc(e);Ys(e,w,y);break;case 3:case 4:var R=a.stateNode.containerInfo,G=mc(e);gc(e,G,R);break;default:throw Error(l(161))}}catch(F){Ie(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ri(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kp(e,i.alternate,i),i=i.sibling}function ha(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ti(4,i,i.return),ha(i);break;case 1:Gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xp(i,i.return,a),ha(i);break;case 27:yl(i.stateNode);case 26:case 5:Gn(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}e=e.sibling}}function Oi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,o=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(o,f,a),sl(4,f);break;case 1:if(Oi(o,f,a),s=f,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){Ie(s,s.return,G)}if(s=f,o=s.updateQueue,o!==null){var w=s.stateNode;try{var R=o.shared.hiddenCallbacks;if(R!==null)for(o.shared.hiddenCallbacks=null,o=0;o<R.length;o++)Od(R[o],w)}catch(G){Ie(s,s.return,G)}}a&&y&64&&Vp(f),ul(f,f.return);break;case 27:Zp(f);case 26:case 5:Oi(o,f,a),a&&s===null&&y&4&&Qp(f),ul(f,f.return);break;case 12:Oi(o,f,a);break;case 13:Oi(o,f,a),a&&y&4&&Ip(o,f);break;case 22:f.memoizedState===null&&Oi(o,f,a),ul(f,f.return);break;case 30:break;default:Oi(o,f,a)}i=i.sibling}}function bc(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fr(a))}function Ac(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fr(e))}function Yn(e,i,a,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)em(e,i,a,s),i=i.sibling}function em(e,i,a,s){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i,a,s),o&2048&&sl(9,i);break;case 1:Yn(e,i,a,s);break;case 3:Yn(e,i,a,s),o&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fr(e)));break;case 12:if(o&2048){Yn(e,i,a,s),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ie(i,i.return,R)}}else Yn(e,i,a,s);break;case 13:Yn(e,i,a,s);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Yn(e,i,a,s):ol(e,i):f._visibility&2?Yn(e,i,a,s):(f._visibility|=2,lr(e,i,a,s,(i.subtreeFlags&10256)!==0)),o&2048&&bc(y,i);break;case 24:Yn(e,i,a,s),o&2048&&Ac(i.alternate,i);break;default:Yn(e,i,a,s)}}function lr(e,i,a,s,o){for(o=o&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,w=a,R=s,G=y.flags;switch(y.tag){case 0:case 11:case 15:lr(f,y,w,R,o),sl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?lr(f,y,w,R,o):ol(f,y):(F._visibility|=2,lr(f,y,w,R,o)),o&&G&2048&&bc(y.alternate,y);break;case 24:lr(f,y,w,R,o),o&&G&2048&&Ac(y.alternate,y);break;default:lr(f,y,w,R,o)}i=i.sibling}}function ol(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,s=i,o=s.flags;switch(s.tag){case 22:ol(a,s),o&2048&&bc(s.alternate,s);break;case 24:ol(a,s),o&2048&&Ac(s.alternate,s);break;default:ol(a,s)}i=i.sibling}}var cl=8192;function sr(e){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 26:sr(e),e.flags&cl&&e.memoizedState!==null&&q1(Dn,e.memoizedState,e.memoizedProps);break;case 5:sr(e);break;case 3:case 4:var i=Dn;Dn=$s(e.stateNode.containerInfo),sr(e),Dn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=cl,cl=16777216,sr(e),cl=i):sr(e));break;default:sr(e)}}function nm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];Et=s,am(s,e)}nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)im(e),e=e.sibling}function im(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Ti(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,js(e)):fl(e);break;default:fl(e)}}function js(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];Et=s,am(s,e)}nm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ti(8,i,i.return),js(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,js(i));break;default:js(i)}e=e.sibling}}function am(e,i){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:Ti(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Fr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Et=s;else e:for(a=e;Et!==null;){s=Et;var o=s.sibling,f=s.return;if(Jp(s),s===a){Et=null;break e}if(o!==null){o.return=f,Et=o;break e}Et=f}}}var Zv={getCacheForType:function(e){var i=Bt(gt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Fv=typeof WeakMap=="function"?WeakMap:Map,je=0,et=null,De=null,Ne=0,Ve=0,$t=null,Ci=!1,ur=!1,wc=!1,ui=0,ut=0,qi=0,da=0,xc=0,vn=0,or=0,hl=null,Vt=null,Ec=!1,Sc=0,Vs=1/0,Xs=null,Di=null,Rt=0,Bi=null,cr=null,fr=0,Mc=0,Tc=null,rm=null,dl=0,Rc=null;function en(){if((je&2)!==0&&Ne!==0)return Ne&-Ne;if(z.T!==null){var e=Wa;return e!==0?e:Uc()}return J()}function lm(){vn===0&&(vn=(Ne&536870912)===0||Ge?_a():536870912);var e=yn.current;return e!==null&&(e.flags|=32),vn}function tn(e,i,a){(e===et&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(hr(e,0),_i(e,Ne,vn,!1)),yi(e,a),((je&2)===0||e!==et)&&(e===et&&((je&2)===0&&(da|=a),ut===4&&_i(e,Ne,vn,!1)),jn(e))}function sm(e,i,a){if((je&6)!==0)throw Error(l(327));var s=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Pi(e,i),o=s?Pv(e,i):qc(e,i,!0),f=s;do{if(o===0){ur&&!s&&_i(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!kv(a)){o=qc(e,i,!1),f=!1;continue}if(o===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var w=e;o=hl;var R=w.current.memoizedState.isDehydrated;if(R&&(hr(w,y).flags|=256),y=qc(w,y,!1),y!==2){if(wc&&!R){w.errorRecoveryDisabledLanes|=f,da|=f,o=4;break e}f=Vt,Vt=o,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}o=y}if(f=!1,o!==2)continue}}if(o===1){hr(e,0),_i(e,i,0,!0);break}e:{switch(s=e,f=o,f){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:_i(s,i,vn,!Ci);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(o=Sc+300-Ke(),10<o)){if(_i(s,i,vn,!Ci),Ba(s,0,!0)!==0)break e;s.timeoutHandle=zm(um.bind(null,s,a,Vt,Xs,Ec,i,vn,da,or,Ci,f,2,-0,0),o);break e}um(s,a,Vt,Xs,Ec,i,vn,da,or,Ci,f,0,-0,0)}}break}while(!0);jn(e)}function um(e,i,a,s,o,f,y,w,R,G,F,$,Y,j){if(e.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:C1},tm(i),$=D1(),$!==null)){e.cancelPendingCommit=$(mm.bind(null,e,i,f,a,s,o,y,w,R,F,1,Y,j)),_i(e,f,y,!G);return}mm(e,i,f,a,s,o,y,w,R)}function kv(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],f=o.getSnapshot;o=o.value;try{if(!Jt(f(),o))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _i(e,i,a,s){i&=~xc,i&=~da,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var o=i;0<o;){var f=31-Je(o),y=1<<f;s[f]=-1,o&=~y}a!==0&&qr(e,a,i)}function Qs(){return(je&6)===0?(pl(0),!1):!0}function Oc(){if(De!==null){if(Ve===0)var e=De.return;else e=De,ei=sa=null,Ko(e),ar=null,al=0,e=De;for(;e!==null;)jp(e.alternate,e),e=e.return;De=null}}function hr(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,h1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Oc(),et=e,De=a=In(e.current,null),Ne=i,Ve=0,$t=null,Ci=!1,ur=Pi(e,i),wc=!1,or=vn=xc=da=qi=ut=0,Vt=hl=null,Ec=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var o=31-Je(s),f=1<<o;i|=e[o],s&=~f}return ui=i,hs(),a}function om(e,i){Oe=null,z.H=Ds,i===Jr||i===ws?(i=Td(),Ve=3):i===Ed?(i=Td(),Ve=4):Ve=i===Rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$t=i,De===null&&(ut=1,zs(e,dn(i,e.current)))}function cm(){var e=z.H;return z.H=Ds,e===null?Ds:e}function fm(){var e=z.A;return z.A=Zv,e}function Cc(){ut=4,Ci||(Ne&4194048)!==Ne&&yn.current!==null||(ur=!0),(qi&134217727)===0&&(da&134217727)===0||et===null||_i(et,Ne,vn,!1)}function qc(e,i,a){var s=je;je|=2;var o=cm(),f=fm();(et!==e||Ne!==i)&&(Xs=null,hr(e,i)),i=!1;var y=ut;e:do try{if(Ve!==0&&De!==null){var w=De,R=$t;switch(Ve){case 8:Oc(),y=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var G=Ve;if(Ve=0,$t=null,dr(e,w,R,G),a&&ur){y=0;break e}break;default:G=Ve,Ve=0,$t=null,dr(e,w,R,G)}}Jv(),y=ut;break}catch(F){om(e,F)}while(!0);return i&&e.shellSuspendCounter++,ei=sa=null,je=s,z.H=o,z.A=f,De===null&&(et=null,Ne=0,hs()),y}function Jv(){for(;De!==null;)hm(De)}function Pv(e,i){var a=je;je|=2;var s=cm(),o=fm();et!==e||Ne!==i?(Xs=null,Vs=Ke()+500,hr(e,i)):ur=Pi(e,i);e:do try{if(Ve!==0&&De!==null){i=De;var f=$t;t:switch(Ve){case 1:Ve=0,$t=null,dr(e,i,f,1);break;case 2:case 9:if(Sd(f)){Ve=0,$t=null,dm(i);break}i=function(){Ve!==2&&Ve!==9||et!==e||(Ve=7),jn(e)},f.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Sd(f)?(Ve=0,$t=null,dm(i)):(Ve=0,$t=null,dr(e,i,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var w=De;if(!y||km(y)){Ve=0,$t=null;var R=w.sibling;if(R!==null)De=R;else{var G=w.return;G!==null?(De=G,Ks(G)):De=null}break t}}Ve=0,$t=null,dr(e,i,f,5);break;case 6:Ve=0,$t=null,dr(e,i,f,6);break;case 8:Oc(),ut=6;break e;default:throw Error(l(462))}}Iv();break}catch(F){om(e,F)}while(!0);return ei=sa=null,z.H=s,z.A=o,je=a,De!==null?0:(et=null,Ne=0,hs(),ut)}function Iv(){for(;De!==null&&!Re();)hm(De)}function hm(e){var i=Gp(e.alternate,e,ui);e.memoizedProps=e.pendingProps,i===null?Ks(e):De=i}function dm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=_p(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=_p(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Ko(i);default:jp(a,i),i=De=pd(i,ui),i=Gp(a,i,ui)}e.memoizedProps=e.pendingProps,i===null?Ks(e):De=i}function dr(e,i,a,s){ei=sa=null,Ko(i),ar=null,al=0;var o=i.return;try{if(Yv(e,o,i,a,Ne)){ut=1,zs(e,dn(a,e.current)),De=null;return}}catch(f){if(o!==null)throw De=o,f;ut=1,zs(e,dn(a,e.current)),De=null;return}i.flags&32768?(Ge||s===1?e=!0:ur||(Ne&536870912)!==0?e=!1:(Ci=e=!0,(s===2||s===9||s===3||s===6)&&(s=yn.current,s!==null&&s.tag===13&&(s.flags|=16384))),pm(i,e)):Ks(i)}function Ks(e){var i=e;do{if((i.flags&32768)!==0){pm(i,Ci);return}e=i.return;var a=Vv(i.alternate,i,ui);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=e}while(i!==null);ut===0&&(ut=5)}function pm(e,i){do{var a=Xv(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);ut=6,De=null}function mm(e,i,a,s,o,f,y,w,R){e.cancelPendingCommit=null;do Zs();while(Rt!==0);if((je&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(f=i.lanes|i.childLanes,f|=Ao,ku(e,a,f,y,w,R),e===et&&(De=et=null,Ne=0),cr=i,Bi=e,fr=a,Mc=f,Tc=o,rm=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,t1(gi,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,o=ee.p,ee.p=2,y=je,je|=4;try{Qv(e,i,a)}finally{je=y,ee.p=o,z.T=s}}Rt=1,gm(),ym(),vm()}}function gm(){if(Rt===1){Rt=0;var e=Bi,i=cr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=ee.p;ee.p=2;var o=je;je|=4;try{Wp(i,e);var f=Vc,y=ad(e.containerInfo),w=f.focusedElem,R=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&id(w.ownerDocument.documentElement,w)){if(R!==null&&mo(w)){var G=R.start,F=R.end;if(F===void 0&&(F=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(F,w.value.length);else{var $=w.ownerDocument||document,Y=$&&$.defaultView||window;if(Y.getSelection){var j=Y.getSelection(),Ee=w.textContent.length,ye=Math.min(R.start,Ee),ke=R.end===void 0?ye:Math.min(R.end,Ee);!j.extend&&ye>ke&&(y=ke,ke=ye,ye=y);var U=nd(w,ye),D=nd(w,ke);if(U&&D&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var N=$.createRange();N.setStart(U.node,U.offset),j.removeAllRanges(),ye>ke?(j.addRange(N),j.extend(D.node,D.offset)):(N.setEnd(D.node,D.offset),j.addRange(N))}}}}for($=[],j=w;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var P=$[w];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}au=!!jc,Vc=jc=null}finally{je=o,ee.p=s,z.T=a}}e.current=i,Rt=2}}function ym(){if(Rt===2){Rt=0;var e=Bi,i=cr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=ee.p;ee.p=2;var o=je;je|=4;try{kp(e,i.alternate,i)}finally{je=o,ee.p=s,z.T=a}}Rt=3}}function vm(){if(Rt===4||Rt===3){Rt=0,$e();var e=Bi,i=cr,a=fr,s=rm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rt=5:(Rt=0,cr=Bi=null,bm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Di=null),Q(a),i=i.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Dt,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=z.T,o=ee.p,ee.p=2,z.T=null;try{for(var f=e.onRecoverableError,y=0;y<s.length;y++){var w=s[y];f(w.value,{componentStack:w.stack})}}finally{z.T=i,ee.p=o}}(fr&3)!==0&&Zs(),jn(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===Rc?dl++:(dl=0,Rc=e):dl=0,pl(0)}}function bm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fr(i)))}function Zs(e){return gm(),ym(),vm(),Am()}function Am(){if(Rt!==5)return!1;var e=Bi,i=Mc;Mc=0;var a=Q(fr),s=z.T,o=ee.p;try{ee.p=32>a?32:a,z.T=null,a=Tc,Tc=null;var f=Bi,y=fr;if(Rt=0,cr=Bi=null,fr=0,(je&6)!==0)throw Error(l(331));var w=je;if(je|=4,im(f.current),em(f,f.current,y,a),je=w,pl(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Dt,f)}catch{}return!0}finally{ee.p=o,z.T=s,bm(e,i)}}function wm(e,i,a){i=dn(a,i),i=rc(e.stateNode,i,2),e=xi(e,i,2),e!==null&&(yi(e,2),jn(e))}function Ie(e,i,a){if(e.tag===3)wm(e,e,a);else for(;i!==null;){if(i.tag===3){wm(i,e,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Di===null||!Di.has(s))){e=dn(a,e),a=Mp(2),s=xi(i,a,2),s!==null&&(Tp(a,s,i,e),yi(s,2),jn(s));break}}i=i.return}}function Dc(e,i,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Fv;var o=new Set;s.set(i,o)}else o=s.get(i),o===void 0&&(o=new Set,s.set(i,o));o.has(a)||(wc=!0,o.add(a),e=Wv.bind(null,e,i,a),i.then(e,e))}function Wv(e,i,a){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,et===e&&(Ne&a)===a&&(ut===4||ut===3&&(Ne&62914560)===Ne&&300>Ke()-Sc?(je&2)===0&&hr(e,0):xc|=a,or===Ne&&(or=0)),jn(e)}function xm(e,i){i===0&&(i=Ii()),e=ka(e,i),e!==null&&(yi(e,i),jn(e))}function $v(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),xm(e,a)}function e1(e,i){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(i),xm(e,a)}function t1(e,i){return he(e,i)}var Fs=null,pr=null,Bc=!1,ks=!1,_c=!1,pa=0;function jn(e){e!==pr&&e.next===null&&(pr===null?Fs=pr=e:pr=pr.next=e),ks=!0,Bc||(Bc=!0,i1())}function pl(e,i){if(!_c&&ks){_c=!0;do for(var a=!1,s=Fs;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var f=0;else{var y=s.suspendedLanes,w=s.pingedLanes;f=(1<<31-Je(42|e)+1)-1,f&=o&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Tm(s,f))}else f=Ne,f=Ba(s,s===et?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Pi(s,f)||(a=!0,Tm(s,f));s=s.next}while(a);_c=!1}}function n1(){Em()}function Em(){ks=Bc=!1;var e=0;pa!==0&&(f1()&&(e=pa),pa=0);for(var i=Ke(),a=null,s=Fs;s!==null;){var o=s.next,f=Sm(s,i);f===0?(s.next=null,a===null?Fs=o:a.next=o,o===null&&(pr=a)):(a=s,(e!==0||(f&3)!==0)&&(ks=!0)),s=o}pl(e)}function Sm(e,i){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Je(f),w=1<<y,R=o[y];R===-1?((w&a)===0||(w&s)!==0)&&(o[y]=zt(w,i)):R<=i&&(e.expiredLanes|=w),f&=~w}if(i=et,a=Ne,a=Ba(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===i&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Se(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(s!==null&&Se(s),Q(a)){case 2:case 8:a=Rn;break;case 32:a=gi;break;case 268435456:a=Ra;break;default:a=gi}return s=Mm.bind(null,e),a=he(a,s),e.callbackPriority=i,e.callbackNode=a,i}return s!==null&&s!==null&&Se(s),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,i){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zs()&&e.callbackNode!==a)return null;var s=Ne;return s=Ba(e,e===et?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sm(e,s,i),Sm(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?Mm.bind(null,e):null)}function Tm(e,i){if(Zs())return null;sm(e,i,!0)}function i1(){d1(function(){(je&6)!==0?he(Mt,n1):Em()})}function Uc(){return pa===0&&(pa=_a()),pa}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function Om(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function a1(e,i,a,s,o){if(i==="submit"&&a&&a.stateNode===o){var f=Rm((o[He]||null).action),y=s.submitter;y&&(i=(i=y[He]||null)?Rm(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var w=new os("action","action",null,s,o);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(pa!==0){var R=y?Om(o,y):new FormData(o);ec(a,{pending:!0,data:R,method:o.method,action:f},null,R)}}else typeof f=="function"&&(w.preventDefault(),R=y?Om(o,y):new FormData(o),ec(a,{pending:!0,data:R,method:o.method,action:f},f,R))},currentTarget:o}]})}}for(var Nc=0;Nc<bo.length;Nc++){var zc=bo[Nc],r1=zc.toLowerCase(),l1=zc[0].toUpperCase()+zc.slice(1);qn(r1,"on"+l1)}qn(sd,"onAnimationEnd"),qn(ud,"onAnimationIteration"),qn(od,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Ev,"onTransitionRun"),qn(Sv,"onTransitionStart"),qn(Mv,"onTransitionCancel"),qn(cd,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Cm(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var f=void 0;if(i)for(var y=s.length-1;0<=y;y--){var w=s[y],R=w.instance,G=w.currentTarget;if(w=w.listener,R!==f&&o.isPropagationStopped())break e;f=w,o.currentTarget=G;try{f(o)}catch(F){Ns(F)}o.currentTarget=null,f=R}else for(y=0;y<s.length;y++){if(w=s[y],R=w.instance,G=w.currentTarget,w=w.listener,R!==f&&o.isPropagationStopped())break e;f=w,o.currentTarget=G;try{f(o)}catch(F){Ns(F)}o.currentTarget=null,f=R}}}}function Be(e,i){var a=i[kt];a===void 0&&(a=i[kt]=new Set);var s=e+"__bubble";a.has(s)||(qm(i,e,2,!1),a.add(s))}function Lc(e,i,a){var s=0;i&&(s|=4),qm(a,e,s,i)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[Js]){e[Js]=!0,Eh.forEach(function(a){a!=="selectionchange"&&(s1.has(a)||Lc(a,!1,e),Lc(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Js]||(i[Js]=!0,Lc("selectionchange",!1,i))}}function qm(e,i,a,s){switch(eg(i)){case 2:var o=U1;break;case 8:o=N1;break;default:o=Wc}a=o.bind(null,i,a,e),o=void 0,!ro||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(i,a,{capture:!0,passive:o}):e.addEventListener(i,a,!0):o!==void 0?e.addEventListener(i,a,{passive:o}):e.addEventListener(i,a,!1)}function Gc(e,i,a,s,o){var f=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var w=s.stateNode.containerInfo;if(w===o)break;if(y===4)for(y=s.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;w!==null;){if(y=Na(w),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){s=f=y;continue e}w=w.parentNode}}s=s.return}Lh(function(){var G=f,F=io(a),$=[];e:{var Y=fd.get(e);if(Y!==void 0){var j=os,Ee=e;switch(e){case"keypress":if(ss(a)===0)break e;case"keydown":case"keyup":j=tv;break;case"focusin":Ee="focus",j=oo;break;case"focusout":Ee="blur",j=oo;break;case"beforeblur":case"afterblur":j=oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=av;break;case sd:case ud:case od:j=Z0;break;case cd:j=lv;break;case"scroll":case"scrollend":j=j0;break;case"wheel":j=uv;break;case"copy":case"cut":case"paste":j=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vh;break;case"toggle":case"beforetoggle":j=cv}var ye=(i&4)!==0,ke=!ye&&(e==="scroll"||e==="scrollend"),U=ye?Y!==null?Y+"Capture":null:Y;ye=[];for(var D=G,N;D!==null;){var P=D;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||U===null||(P=Ur(D,U),P!=null&&ye.push(gl(D,P,N))),ke)break;D=D.return}0<ye.length&&(Y=new j(Y,Ee,null,a,F),$.push({event:Y,listeners:ye}))}}if((i&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",Y&&a!==no&&(Ee=a.relatedTarget||a.fromElement)&&(Na(Ee)||Ee[Pe]))break e;if((j||Y)&&(Y=F.window===F?F:(Y=F.ownerDocument)?Y.defaultView||Y.parentWindow:window,j?(Ee=a.relatedTarget||a.toElement,j=G,Ee=Ee?Na(Ee):null,Ee!==null&&(ke=c(Ee),ye=Ee.tag,Ee!==ke||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(j=null,Ee=G),j!==Ee)){if(ye=Yh,P="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Vh,P="onPointerLeave",U="onPointerEnter",D="pointer"),ke=j==null?Y:_r(j),N=Ee==null?Y:_r(Ee),Y=new ye(P,D+"leave",j,a,F),Y.target=ke,Y.relatedTarget=N,P=null,Na(F)===G&&(ye=new ye(U,D+"enter",Ee,a,F),ye.target=N,ye.relatedTarget=ke,P=ye),ke=P,j&&Ee)t:{for(ye=j,U=Ee,D=0,N=ye;N;N=mr(N))D++;for(N=0,P=U;P;P=mr(P))N++;for(;0<D-N;)ye=mr(ye),D--;for(;0<N-D;)U=mr(U),N--;for(;D--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=mr(ye),U=mr(U)}ye=null}else ye=null;j!==null&&Dm($,Y,j,ye,!1),Ee!==null&&ke!==null&&Dm($,ke,Ee,ye,!0)}}e:{if(Y=G?_r(G):window,j=Y.nodeName&&Y.nodeName.toLowerCase(),j==="select"||j==="input"&&Y.type==="file")var oe=Ph;else if(kh(Y))if(Ih)oe=Av;else{oe=vv;var qe=yv}else j=Y.nodeName,!j||j.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&to(G.elementType)&&(oe=Ph):oe=bv;if(oe&&(oe=oe(e,G))){Jh($,oe,a,F);break e}qe&&qe(e,Y,G),e==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&eo(Y,"number",Y.value)}switch(qe=G?_r(G):window,e){case"focusin":(kh(qe)||qe.contentEditable==="true")&&(Ka=qe,go=G,Vr=null);break;case"focusout":Vr=go=Ka=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,rd($,a,F);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":rd($,a,F)}var de;if(fo)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Qa?Zh(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Xh&&a.locale!=="ko"&&(Qa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Qa&&(de=Hh()):(vi=F,lo="value"in vi?vi.value:vi.textContent,Qa=!0)),qe=Ps(G,be),0<qe.length&&(be=new jh(be,e,null,a,F),$.push({event:be,listeners:qe}),de?be.data=de:(de=Fh(a),de!==null&&(be.data=de)))),(de=hv?dv(e,a):pv(e,a))&&(be=Ps(G,"onBeforeInput"),0<be.length&&(qe=new jh("onBeforeInput","beforeinput",null,a,F),$.push({event:qe,listeners:be}),qe.data=de)),a1($,e,G,a,F)}Cm($,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ps(e,i){for(var a=i+"Capture",s=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Ur(e,a),o!=null&&s.unshift(gl(e,o,f)),o=Ur(e,i),o!=null&&s.push(gl(e,o,f))),e.tag===3)return s;e=e.return}return[]}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dm(e,i,a,s,o){for(var f=i._reactName,y=[];a!==null&&a!==s;){var w=a,R=w.alternate,G=w.stateNode;if(w=w.tag,R!==null&&R===s)break;w!==5&&w!==26&&w!==27||G===null||(R=G,o?(G=Ur(a,f),G!=null&&y.unshift(gl(a,G,R))):o||(G=Ur(a,f),G!=null&&y.push(gl(a,G,R)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var u1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(u1,`
`).replace(o1,"")}function _m(e,i){return i=Bm(i),Bm(e)===i}function Is(){}function Fe(e,i,a,s,o,f){switch(a){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||ja(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&ja(e,""+s);break;case"className":ns(e,"class",s);break;case"tabIndex":ns(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,a,s);break;case"style":Nh(e,s,f);break;case"data":if(i!=="object"){ns(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=rs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Fe(e,i,"name",o.name,o,null),Fe(e,i,"formEncType",o.formEncType,o,null),Fe(e,i,"formMethod",o.formMethod,o,null),Fe(e,i,"formTarget",o.formTarget,o,null)):(Fe(e,i,"encType",o.encType,o,null),Fe(e,i,"method",o.method,o,null),Fe(e,i,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=rs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Is);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=rs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Be("beforetoggle",e),Be("toggle",e),ts(e,"popover",s);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=G0.get(a)||a,ts(e,a,s))}}function Yc(e,i,a,s,o,f){switch(a){case"style":Nh(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ja(e,s):(typeof s=="number"||typeof s=="bigint")&&ja(e,""+s);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),i=a.slice(2,o?a.length-7:void 0),f=e[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,o),typeof s=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ts(e,a,s)}}}function Ot(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var s=!1,o=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Fe(e,i,f,y,a,null)}}o&&Fe(e,i,"srcSet",a.srcSet,a,null),s&&Fe(e,i,"src",a.src,a,null);return;case"input":Be("invalid",e);var w=f=y=o=null,R=null,G=null;for(s in a)if(a.hasOwnProperty(s)){var F=a[s];if(F!=null)switch(s){case"name":o=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":G=F;break;case"value":f=F;break;case"defaultValue":w=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,i));break;default:Fe(e,i,s,F,a,null)}}Dh(e,f,w,R,G,y,o,!1),is(e);return;case"select":Be("invalid",e),s=y=f=null;for(o in a)if(a.hasOwnProperty(o)&&(w=a[o],w!=null))switch(o){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":s=w;default:Fe(e,i,o,w,a,null)}i=f,a=y,e.multiple=!!s,i!=null?Ya(e,!!s,i,!1):a!=null&&Ya(e,!!s,a,!0);return;case"textarea":Be("invalid",e),f=o=s=null;for(y in a)if(a.hasOwnProperty(y)&&(w=a[y],w!=null))switch(y){case"value":s=w;break;case"defaultValue":o=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:Fe(e,i,y,w,a,null)}_h(e,s,o,f),is(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(s=a[R],s!=null))switch(R){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Fe(e,i,R,s,a,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(s=0;s<ml.length;s++)Be(ml[s],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(s=a[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Fe(e,i,G,s,a,null)}return;default:if(to(i)){for(F in a)a.hasOwnProperty(F)&&(s=a[F],s!==void 0&&Yc(e,i,F,s,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null&&Fe(e,i,w,s,a,null))}function c1(e,i,a,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,y=null,w=null,R=null,G=null,F=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=$;default:s.hasOwnProperty(j)||Fe(e,i,j,null,s,$)}}for(var Y in s){var j=s[Y];if($=a[Y],s.hasOwnProperty(Y)&&(j!=null||$!=null))switch(Y){case"type":f=j;break;case"name":o=j;break;case"checked":G=j;break;case"defaultChecked":F=j;break;case"value":y=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,i));break;default:j!==$&&Fe(e,i,Y,j,s,$)}}$u(e,y,w,R,G,F,f,o);return;case"select":j=y=w=Y=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:s.hasOwnProperty(f)||Fe(e,i,f,null,s,R)}for(o in s)if(f=s[o],R=a[o],s.hasOwnProperty(o)&&(f!=null||R!=null))switch(o){case"value":Y=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==R&&Fe(e,i,o,f,s,R)}i=w,a=y,s=j,Y!=null?Ya(e,!!a,Y,!1):!!s!=!!a&&(i!=null?Ya(e,!!a,i,!0):Ya(e,!!a,a?[]:"",!1));return;case"textarea":j=Y=null;for(w in a)if(o=a[w],a.hasOwnProperty(w)&&o!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Fe(e,i,w,null,s,o)}for(y in s)if(o=s[y],f=a[y],s.hasOwnProperty(y)&&(o!=null||f!=null))switch(y){case"value":Y=o;break;case"defaultValue":j=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==f&&Fe(e,i,y,o,s,f)}Bh(e,Y,j);return;case"option":for(var Ee in a)if(Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!s.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:Fe(e,i,Ee,null,s,Y)}for(R in s)if(Y=s[R],j=a[R],s.hasOwnProperty(R)&&Y!==j&&(Y!=null||j!=null))switch(R){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Fe(e,i,R,Y,s,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!s.hasOwnProperty(ye)&&Fe(e,i,ye,null,s,Y);for(G in s)if(Y=s[G],j=a[G],s.hasOwnProperty(G)&&Y!==j&&(Y!=null||j!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,i));break;default:Fe(e,i,G,Y,s,j)}return;default:if(to(i)){for(var ke in a)Y=a[ke],a.hasOwnProperty(ke)&&Y!==void 0&&!s.hasOwnProperty(ke)&&Yc(e,i,ke,void 0,s,Y);for(F in s)Y=s[F],j=a[F],!s.hasOwnProperty(F)||Y===j||Y===void 0&&j===void 0||Yc(e,i,F,Y,s,j);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!s.hasOwnProperty(U)&&Fe(e,i,U,null,s,Y);for($ in s)Y=s[$],j=a[$],!s.hasOwnProperty($)||Y===j||Y==null&&j==null||Fe(e,i,$,Y,s,j)}var jc=null,Vc=null;function Ws(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qc=null;function f1(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(e){return Lm.resolve(null).then(e).catch(p1)}:zm;function p1(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function Hm(e,i){var a=i,s=0,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<s&&8>s){a=s;var y=e.ownerDocument;if(a&1&&yl(y.documentElement),a&2&&yl(y.body),a&4)for(a=y.head,yl(a),y=a.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[Br]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=w}}if(o===0){e.removeChild(f),Ml(i);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:s=a.charCodeAt(0)-48;else s=0;a=f}while(a);Ml(i)}function Kc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kc(a),Ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function m1(e,i,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Br])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function g1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function Zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function y1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var s=function(){i(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Fc=null;function Gm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Ym(e,i,a){switch(i=Ws(a),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ju(e)}var bn=new Map,jm=new Set;function $s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oi=ee.d;ee.d={f:v1,r:b1,D:A1,C:w1,L:x1,m:E1,X:M1,S:S1,M:T1};function v1(){var e=oi.f(),i=Qs();return e||i}function b1(e){var i=za(e);i!==null&&i.tag===5&&i.type==="form"?sp(i):oi.r(e)}var gr=typeof document>"u"?null:document;function Vm(e,i,a){var s=gr;if(s&&typeof i=="string"&&i){var o=hn(i);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),jm.has(o)||(jm.add(o),e={rel:e,crossOrigin:a,href:i},s.querySelector(o)===null&&(i=s.createElement("link"),Ot(i,"link",e),wt(i),s.head.appendChild(i)))}}function A1(e){oi.D(e),Vm("dns-prefetch",e,null)}function w1(e,i){oi.C(e,i),Vm("preconnect",e,i)}function x1(e,i,a){oi.L(e,i,a);var s=gr;if(s&&e&&i){var o='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+hn(a.imageSizes)+'"]')):o+='[href="'+hn(e)+'"]';var f=o;switch(i){case"style":f=yr(e);break;case"script":f=vr(e)}bn.has(f)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),bn.set(f,e),s.querySelector(o)!==null||i==="style"&&s.querySelector(vl(f))||i==="script"&&s.querySelector(bl(f))||(i=s.createElement("link"),Ot(i,"link",e),wt(i),s.head.appendChild(i)))}}function E1(e,i){oi.m(e,i);var a=gr;if(a&&e){var s=i&&typeof i.as=="string"?i.as:"script",o='link[rel="modulepreload"][as="'+hn(s)+'"][href="'+hn(e)+'"]',f=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vr(e)}if(!bn.has(f)&&(e=v({rel:"modulepreload",href:e},i),bn.set(f,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}s=a.createElement("link"),Ot(s,"link",e),wt(s),a.head.appendChild(s)}}}function S1(e,i,a){oi.S(e,i,a);var s=gr;if(s&&e){var o=La(s).hoistableStyles,f=yr(e);i=i||"default";var y=o.get(f);if(!y){var w={loading:0,preload:null};if(y=s.querySelector(vl(f)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=bn.get(f))&&kc(e,a);var R=y=s.createElement("link");wt(R),Ot(R,"link",e),R._p=new Promise(function(G,F){R.onload=G,R.onerror=F}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eu(y,i,s)}y={type:"stylesheet",instance:y,count:1,state:w},o.set(f,y)}}}function M1(e,i){oi.X(e,i);var a=gr;if(a&&e){var s=La(a).hoistableScripts,o=vr(e),f=s.get(o);f||(f=a.querySelector(bl(o)),f||(e=v({src:e,async:!0},i),(i=bn.get(o))&&Jc(e,i),f=a.createElement("script"),wt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function T1(e,i){oi.M(e,i);var a=gr;if(a&&e){var s=La(a).hoistableScripts,o=vr(e),f=s.get(o);f||(f=a.querySelector(bl(o)),f||(e=v({src:e,async:!0,type:"module"},i),(i=bn.get(o))&&Jc(e,i),f=a.createElement("script"),wt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function Xm(e,i,a,s){var o=(o=xe.current)?$s(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yr(a.href),a=La(o).hoistableStyles,s=a.get(i),s||(s={type:"style",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=yr(a.href);var f=La(o).hoistableStyles,y=f.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=o.querySelector(vl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||R1(o,e,a,y.state))),i&&s===null)throw Error(l(528,""));return y}if(i&&s!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vr(a),a=La(o).hoistableScripts,s=a.get(i),s||(s={type:"script",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function yr(e){return'href="'+hn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function Qm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function R1(e,i,a,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),Ot(i,"link",a),wt(i),e.head.appendChild(i))}function vr(e){return'[src="'+hn(e)+'"]'}function bl(e){return"script[async]"+e}function Km(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(s)return i.instance=s,wt(s),s;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),wt(s),Ot(s,"style",o),eu(s,a.precedence,e),i.instance=s;case"stylesheet":o=yr(a.href);var f=e.querySelector(vl(o));if(f)return i.state.loading|=4,i.instance=f,wt(f),f;s=Qm(a),(o=bn.get(o))&&kc(s,o),f=(e.ownerDocument||e).createElement("link"),wt(f);var y=f;return y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),Ot(f,"link",s),i.state.loading|=4,eu(f,a.precedence,e),i.instance=f;case"script":return f=vr(a.src),(o=e.querySelector(bl(f)))?(i.instance=o,wt(o),o):(s=a,(o=bn.get(f))&&(s=v({},a),Jc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),wt(o),Ot(o,"link",s),e.head.appendChild(o),i.instance=o);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,eu(s,a.precedence,e));return i.instance}function eu(e,i,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,f=o,y=0;y<s.length;y++){var w=s[y];if(w.dataset.precedence===i)f=w;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function kc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var tu=null;function Zm(e,i,a){if(tu===null){var s=new Map,o=tu=new Map;o.set(a,s)}else o=tu,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var f=a[o];if(!(f[Br]||f[Me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var w=s.get(y);w?w.push(f):s.set(y,[f])}}return s}function Fm(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function O1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Al=null;function C1(){}function q1(e,i,a){if(Al===null)throw Error(l(475));var s=Al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=yr(a.href),f=e.querySelector(vl(o));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=nu.bind(s),e.then(s,s)),i.state.loading|=4,i.instance=f,wt(f);return}f=e.ownerDocument||e,a=Qm(a),(o=bn.get(o))&&kc(a,o),f=f.createElement("link"),wt(f);var y=f;y._p=new Promise(function(w,R){y.onload=w,y.onerror=R}),Ot(f,"link",a),i.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=nu.bind(s),e.addEventListener("load",i),e.addEventListener("error",i))}}function D1(){if(Al===null)throw Error(l(475));var e=Al;return e.stylesheets&&e.count===0&&Pc(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nu(){if(this.count--,this.count===0){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function Pc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,i.forEach(B1,e),iu=null,nu.call(e))}function B1(e,i){if(!(i.state.loading&4)){var a=iu.get(e);if(a)var s=a.get(null);else{a=new Map,iu.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var y=o[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),s=y)}s&&a.set(null,s)}o=i.instance,y=o.getAttribute("data-precedence"),f=a.get(y)||s,f===s&&a.set(null,o),a.set(y,o),this.count++,s=nu.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:X,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function _1(e,i,a,s,o,f,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Jm(e,i,a,s,o,f,y,w,R,G,F,$){return e=new _1(e,i,a,y,w,R,G,$),i=1,f===!0&&(i|=24),f=Pt(3,null,null,i),e.current=f,f.stateNode=e,i=Do(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:i},No(f),e}function Pm(e){return e?(e=Ja,e):Ja}function Im(e,i,a,s,o,f){o=Pm(o),s.context===null?s.context=o:s.pendingContext=o,s=wi(i),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=xi(e,s,i),a!==null&&(tn(a,e,i),Ir(a,e,i))}function Wm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ic(e,i){Wm(e,i),(e=e.alternate)&&Wm(e,i)}function $m(e){if(e.tag===13){var i=ka(e,67108864);i!==null&&tn(i,e,67108864),Ic(e,67108864)}}var au=!0;function U1(e,i,a,s){var o=z.T;z.T=null;var f=ee.p;try{ee.p=2,Wc(e,i,a,s)}finally{ee.p=f,z.T=o}}function N1(e,i,a,s){var o=z.T;z.T=null;var f=ee.p;try{ee.p=8,Wc(e,i,a,s)}finally{ee.p=f,z.T=o}}function Wc(e,i,a,s){if(au){var o=$c(s);if(o===null)Gc(e,i,s,ru,a),tg(e,s);else if(L1(o,e,i,a,s))s.stopPropagation();else if(tg(e,s),i&4&&-1<z1.indexOf(e)){for(;o!==null;){var f=za(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=zn(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var R=1<<31-Je(y);w.entanglements[1]|=R,y&=~R}jn(f),(je&6)===0&&(Vs=Ke()+500,pl(0))}}break;case 13:w=ka(f,2),w!==null&&tn(w,f,2),Qs(),Ic(f,2)}if(f=$c(s),f===null&&Gc(e,i,s,ru,a),f===o)break;o=f}o!==null&&s.stopPropagation()}else Gc(e,i,s,null,a)}}function $c(e){return e=io(e),ef(e)}var ru=null;function ef(e){if(ru=null,e=Na(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ru=e,null}function eg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Mt:return 2;case Rn:return 8;case gi:case Or:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var tf=!1,Ni=null,zi=null,Li=null,xl=new Map,El=new Map,Hi=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tg(e,i){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Sl(e,i,a,s,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[o]},i!==null&&(i=za(i),i!==null&&$m(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function L1(e,i,a,s,o){switch(i){case"focusin":return Ni=Sl(Ni,e,i,a,s,o),!0;case"dragenter":return zi=Sl(zi,e,i,a,s,o),!0;case"mouseover":return Li=Sl(Li,e,i,a,s,o),!0;case"pointerover":var f=o.pointerId;return xl.set(f,Sl(xl.get(f)||null,e,i,a,s,o)),!0;case"gotpointercapture":return f=o.pointerId,El.set(f,Sl(El.get(f)||null,e,i,a,s,o)),!0}return!1}function ng(e){var i=Na(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,se(e.priority,function(){if(a.tag===13){var s=en();s=C(s);var o=ka(a,s);o!==null&&tn(o,a,s),Ic(a,s)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=$c(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);no=s,a.target.dispatchEvent(s),no=null}else return i=za(a),i!==null&&$m(i),e.blockedOn=a,!1;i.shift()}return!0}function ig(e,i,a){lu(e)&&a.delete(i)}function H1(){tf=!1,Ni!==null&&lu(Ni)&&(Ni=null),zi!==null&&lu(zi)&&(zi=null),Li!==null&&lu(Li)&&(Li=null),xl.forEach(ig),El.forEach(ig)}function su(e,i){e.blockedOn===i&&(e.blockedOn=null,tf||(tf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H1)))}var uu=null;function ag(e){uu!==e&&(uu=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uu===e&&(uu=null);for(var i=0;i<e.length;i+=3){var a=e[i],s=e[i+1],o=e[i+2];if(typeof s!="function"){if(ef(s||a)===null)continue;break}var f=za(a);f!==null&&(e.splice(i,3),i-=3,ec(f,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Ml(e){function i(R){return su(R,e)}Ni!==null&&su(Ni,e),zi!==null&&su(zi,e),Li!==null&&su(Li,e),xl.forEach(i),El.forEach(i);for(var a=0;a<Hi.length;a++){var s=Hi[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)ng(a),a.blockedOn===null&&Hi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],f=a[s+1],y=o[He]||null;if(typeof f=="function")y||ag(a);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(o=f,y=f[He]||null)w=y.formAction;else if(ef(o)!==null)continue}else w=y.action;typeof w=="function"?a[s+1]=w:(a.splice(s,3),s-=3),ag(a)}}}function nf(e){this._internalRoot=e}ou.prototype.render=nf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,s=en();Im(a,s,e,i,null,null)},ou.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Im(e.current,2,null,e,null,null),Qs(),i[Pe]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var i=J();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hi.length&&i!==0&&i<Hi[a].priority;a++);Hi.splice(a,0,e),a===0&&ng(e)}};var rg=t.version;if(rg!=="19.1.0")throw Error(l(527,rg,"19.1.0"));ee.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(i),e=e!==null?d(e):null,e=e===null?null:e.stateNode,e};var G1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Dt=cu.inject(G1),lt=cu}catch{}}return Rl.createRoot=function(e,i){if(!u(e))throw Error(l(299));var a=!1,s="",o=wp,f=xp,y=Ep,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(o=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Jm(e,1,!1,null,null,a,s,o,f,y,w,null),e[Pe]=i.current,Hc(e),new nf(i)},Rl.hydrateRoot=function(e,i,a){if(!u(e))throw Error(l(299));var s=!1,o="",f=wp,y=xp,w=Ep,R=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Jm(e,1,!0,i,a??null,s,o,f,y,w,R,G),i.context=Pm(null),a=i.current,s=en(),s=C(s),o=wi(s),o.callback=null,xi(a,o,s),a=s,i.current.lanes=a,yi(i,a),jn(i),e[Pe]=i.current,Hc(e),new ou(i)},Rl.version="19.1.0",Rl}var mg;function I1(){if(mg)return lf.exports;mg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lf.exports=P1(),lf.exports}var W1=I1(),Ol={},gg;function $1(){if(gg)return Ol;gg=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=h,Ol.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,c=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function h(m,S){const b=new c,O=m.length;if(O<2)return b;const x=(S==null?void 0:S.decode)||v;let M=0;do{const _=m.indexOf("=",M);if(_===-1)break;const X=m.indexOf(";",M),ie=X===-1?O:X;if(_>ie){M=m.lastIndexOf(";",_-1)+1;continue}const k=g(m,M,_),q=p(m,_,k),B=m.slice(k,q);if(b[B]===void 0){let H=g(m,_+1,ie),W=p(m,ie,H);const ne=x(m.slice(H,W));b[B]=ne}M=ie+1}while(M<O);return b}function g(m,S,b){do{const O=m.charCodeAt(S);if(O!==32&&O!==9)return S}while(++S<b);return b}function p(m,S,b){for(;S>b;){const O=m.charCodeAt(--S);if(O!==32&&O!==9)return S+1}return b}function d(m,S,b){const O=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const x=O(S);if(!t.test(x))throw new TypeError(`argument val is invalid: ${S}`);let M=m+"="+x;if(!b)return M;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);M+="; Max-Age="+b.maxAge}if(b.domain){if(!r.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);M+="; Domain="+b.domain}if(b.path){if(!l.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);M+="; Path="+b.path}if(b.expires){if(!E(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);M+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(M+="; HttpOnly"),b.secure&&(M+="; Secure"),b.partitioned&&(M+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return M}function v(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function E(m){return u.call(m)==="[object Date]"}return Ol}$1();var yg="popstate";function eb(n={}){function t(u,c){let{pathname:h="/",search:g="",hash:p=""}=Ea(u.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),bf("",{pathname:h,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(u,c){let h=u.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let p=u.location.href,d=p.indexOf("#");g=d===-1?p:p.slice(0,d)}return g+"#"+(typeof c=="string"?c:Ql(c))}function l(u,c){Un(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return nb(t,r,l,n)}function rt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Un(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function vg(n,t){return{usr:n.state,key:n.key,idx:t}}function bf(n,t,r=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ea(t):t,state:r,key:t&&t.key||l||tb()}}function Ql({pathname:n="/",search:t="",hash:r=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ea(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substring(r),n=n.substring(0,r));let l=n.indexOf("?");l>=0&&(t.search=n.substring(l),n=n.substring(0,l)),n&&(t.pathname=n)}return t}function nb(n,t,r,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,h=u.history,g="POP",p=null,d=v();d==null&&(d=0,h.replaceState({...h.state,idx:d},""));function v(){return(h.state||{idx:null}).idx}function E(){g="POP";let x=v(),M=x==null?null:x-d;d=x,p&&p({action:g,location:O.location,delta:M})}function m(x,M){g="PUSH";let _=bf(O.location,x,M);r&&r(_,x),d=v()+1;let X=vg(_,d),ie=O.createHref(_);try{h.pushState(X,"",ie)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;u.location.assign(ie)}c&&p&&p({action:g,location:O.location,delta:1})}function S(x,M){g="REPLACE";let _=bf(O.location,x,M);r&&r(_,x),d=v();let X=vg(_,d),ie=O.createHref(_);h.replaceState(X,"",ie),c&&p&&p({action:g,location:O.location,delta:0})}function b(x){return ib(x)}let O={get action(){return g},get location(){return n(u,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(yg,E),p=x,()=>{u.removeEventListener(yg,E),p=null}},createHref(x){return t(u,x)},createURL:b,encodeLocation(x){let M=b(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:m,replace:S,go(x){return h.go(x)}};return O}function ib(n,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rt(r,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:Ql(n);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Qg(n,t,r="/"){return ab(n,t,r,!1)}function ab(n,t,r,l){let u=typeof t=="string"?Ea(t):t,c=hi(u.pathname||"/",r);if(c==null)return null;let h=Kg(n);rb(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let d=gb(c);g=pb(h[p],d,l)}return g}function Kg(n,t=[],r=[],l=""){let u=(c,h,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length));let d=fi([l,p.relativePath]),v=r.concat(p);c.children&&c.children.length>0&&(rt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Kg(c.children,t,v,d)),!(c.path==null&&!c.index)&&t.push({path:d,score:hb(d,c.index),routesMeta:v})};return n.forEach((c,h)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))u(c,h);else for(let p of Zg(c.path))u(c,h,p)}),t}function Zg(n){let t=n.split("/");if(t.length===0)return[];let[r,...l]=t,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=Zg(l.join("/")),g=[];return g.push(...h.map(p=>p===""?c:[c,p].join("/"))),u&&g.push(...h),g.map(p=>n.startsWith("/")&&p===""?"/":p)}function rb(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:db(t.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var lb=/^:[\w-]+$/,sb=3,ub=2,ob=1,cb=10,fb=-2,bg=n=>n==="*";function hb(n,t){let r=n.split("/"),l=r.length;return r.some(bg)&&(l+=fb),t&&(l+=ub),r.filter(u=>!bg(u)).reduce((u,c)=>u+(lb.test(c)?sb:c===""?ob:cb),l)}function db(n,t){return n.length===t.length&&n.slice(0,-1).every((l,u)=>l===t[u])?n[n.length-1]-t[t.length-1]:0}function pb(n,t,r=!1){let{routesMeta:l}=n,u={},c="/",h=[];for(let g=0;g<l.length;++g){let p=l[g],d=g===l.length-1,v=c==="/"?t:t.slice(c.length)||"/",E=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},v),m=p.route;if(!E&&d&&r&&!l[l.length-1].route.index&&(E=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(u,E.params),h.push({params:u,pathname:fi([c,E.pathname]),pathnameBase:Ab(fi([c,E.pathnameBase])),route:m}),E.pathnameBase!=="/"&&(c=fi([c,E.pathnameBase]))}return h}function Ru(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,l]=mb(n.path,n.caseSensitive,n.end),u=t.match(r);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:l.reduce((d,{paramName:v,isOptional:E},m)=>{if(v==="*"){let b=g[m]||"";h=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const S=g[m];return E&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:c,pathnameBase:h,pattern:n}}function mb(n,t=!1,r=!0){Un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(l.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(l.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),l]}function gb(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function hi(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,l=n.charAt(r);return l&&l!=="/"?null:n.slice(r)||"/"}function yb(n,t="/"){let{pathname:r,search:l="",hash:u=""}=typeof n=="string"?Ea(n):n;return{pathname:r?r.startsWith("/")?r:vb(r,t):t,search:wb(l),hash:xb(u)}}function vb(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function cf(n,t,r,l){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bb(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fg(n){let t=bb(n);return t.map((r,l)=>l===t.length-1?r.pathname:r.pathnameBase)}function kg(n,t,r,l=!1){let u;typeof n=="string"?u=Ea(n):(u={...n},rt(!u.pathname||!u.pathname.includes("?"),cf("?","pathname","search",u)),rt(!u.pathname||!u.pathname.includes("#"),cf("#","pathname","hash",u)),rt(!u.search||!u.search.includes("#"),cf("#","search","hash",u)));let c=n===""||u.pathname==="",h=c?"/":u.pathname,g;if(h==null)g=r;else{let E=t.length-1;if(!l&&h.startsWith("..")){let m=h.split("/");for(;m[0]==="..";)m.shift(),E-=1;u.pathname=m.join("/")}g=E>=0?t[E]:"/"}let p=yb(u,g),d=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(d||v)&&(p.pathname+="/"),p}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),Ab=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Eb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jg=["POST","PUT","PATCH","DELETE"];new Set(Jg);var Sb=["GET",...Jg];new Set(Sb);var Er=I.createContext(null);Er.displayName="DataRouter";var Lu=I.createContext(null);Lu.displayName="DataRouterState";var Pg=I.createContext({isTransitioning:!1});Pg.displayName="ViewTransition";var Mb=I.createContext(new Map);Mb.displayName="Fetchers";var Tb=I.createContext(null);Tb.displayName="Await";var kn=I.createContext(null);kn.displayName="Navigation";var Pl=I.createContext(null);Pl.displayName="Location";var di=I.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Jf=I.createContext(null);Jf.displayName="RouteError";function Rb(n,{relative:t}={}){rt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=I.useContext(kn),{hash:u,pathname:c,search:h}=Wl(n,{relative:t}),g=c;return r!=="/"&&(g=c==="/"?r:fi([r,c])),l.createHref({pathname:g,search:h,hash:u})}function Il(){return I.useContext(Pl)!=null}function Sa(){return rt(Il(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Pl).location}var Ig="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wg(n){I.useContext(kn).static||I.useLayoutEffect(n)}function Ob(){let{isDataRoute:n}=I.useContext(di);return n?jb():Cb()}function Cb(){rt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Er),{basename:t,navigator:r}=I.useContext(kn),{matches:l}=I.useContext(di),{pathname:u}=Sa(),c=JSON.stringify(Fg(l)),h=I.useRef(!1);return Wg(()=>{h.current=!0}),I.useCallback((p,d={})=>{if(Un(h.current,Ig),!h.current)return;if(typeof p=="number"){r.go(p);return}let v=kg(p,JSON.parse(c),u,d.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:fi([t,v.pathname])),(d.replace?r.replace:r.push)(v,d.state,d)},[t,r,c,u,n])}I.createContext(null);function Wl(n,{relative:t}={}){let{matches:r}=I.useContext(di),{pathname:l}=Sa(),u=JSON.stringify(Fg(r));return I.useMemo(()=>kg(n,JSON.parse(u),l,t==="path"),[n,u,l,t])}function qb(n,t){return $g(n,t)}function $g(n,t,r,l){var M;rt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(kn),{matches:c}=I.useContext(di),h=c[c.length-1],g=h?h.params:{},p=h?h.pathname:"/",d=h?h.pathnameBase:"/",v=h&&h.route;{let _=v&&v.path||"";ey(p,!v||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let E=Sa(),m;if(t){let _=typeof t=="string"?Ea(t):t;rt(d==="/"||((M=_.pathname)==null?void 0:M.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=E;let S=m.pathname||"/",b=S;if(d!=="/"){let _=d.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let O=Qg(n,{pathname:b});Un(v||O!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Un(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Nb(O&&O.map(_=>Object.assign({},_,{params:Object.assign({},g,_.params),pathname:fi([d,u.encodeLocation?u.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:fi([d,u.encodeLocation?u.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),c,r,l);return t&&x?I.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function Db(){let n=Yb(),t=Eb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:u},r):null,h)}var Bb=I.createElement(Db,null),_b=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?I.createElement(di.Provider,{value:this.props.routeContext},I.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ub({routeContext:n,match:t,children:r}){let l=I.useContext(Er);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(di.Provider,{value:n},r)}function Nb(n,t=[],r=null,l=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let u=n,c=r==null?void 0:r.errors;if(c!=null){let p=u.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let h=!1,g=-1;if(r)for(let p=0;p<u.length;p++){let d=u[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(g=p),d.route.id){let{loaderData:v,errors:E}=r,m=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!E||E[d.route.id]===void 0);if(d.route.lazy||m){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,d,v)=>{let E,m=!1,S=null,b=null;r&&(E=c&&d.route.id?c[d.route.id]:void 0,S=d.route.errorElement||Bb,h&&(g<0&&v===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):g===v&&(m=!0,b=d.route.hydrateFallbackElement||null)));let O=t.concat(u.slice(0,v+1)),x=()=>{let M;return E?M=S:m?M=b:d.route.Component?M=I.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=p,I.createElement(Ub,{match:d,routeContext:{outlet:p,matches:O,isDataRoute:r!=null},children:M})};return r&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?I.createElement(_b,{location:r.location,revalidation:r.revalidation,component:S,error:E,children:x(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):x()},null)}function Pf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(n){let t=I.useContext(Er);return rt(t,Pf(n)),t}function Lb(n){let t=I.useContext(Lu);return rt(t,Pf(n)),t}function Hb(n){let t=I.useContext(di);return rt(t,Pf(n)),t}function If(n){let t=Hb(n),r=t.matches[t.matches.length-1];return rt(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function Gb(){return If("useRouteId")}function Yb(){var l;let n=I.useContext(Jf),t=Lb("useRouteError"),r=If("useRouteError");return n!==void 0?n:(l=t.errors)==null?void 0:l[r]}function jb(){let{router:n}=zb("useNavigate"),t=If("useNavigate"),r=I.useRef(!1);return Wg(()=>{r.current=!0}),I.useCallback(async(u,c={})=>{Un(r.current,Ig),r.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:t,...c}))},[n,t])}var Ag={};function ey(n,t,r){!t&&!Ag[n]&&(Ag[n]=!0,Un(!1,r))}I.memo(Vb);function Vb({routes:n,future:t,state:r}){return $g(n,void 0,r,t)}function gu(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xb({basename:n="/",children:t=null,location:r,navigationType:l="POP",navigator:u,static:c=!1}){rt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:h,navigator:u,static:c,future:{}}),[h,u,c]);typeof r=="string"&&(r=Ea(r));let{pathname:p="/",search:d="",hash:v="",state:E=null,key:m="default"}=r,S=I.useMemo(()=>{let b=hi(p,h);return b==null?null:{location:{pathname:b,search:d,hash:v,state:E,key:m},navigationType:l}},[h,p,d,v,E,m,l]);return Un(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(kn.Provider,{value:g},I.createElement(Pl.Provider,{children:t,value:S}))}function Qb({children:n,location:t}){return qb(Af(n),t)}function Af(n,t=[]){let r=[];return I.Children.forEach(n,(l,u)=>{if(!I.isValidElement(l))return;let c=[...t,u];if(l.type===I.Fragment){r.push.apply(r,Af(l.props.children,c));return}rt(l.type===gu,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Af(l.props.children,c)),r.push(h)}),r}var yu="get",vu="application/x-www-form-urlencoded";function Hu(n){return n!=null&&typeof n.tagName=="string"}function Kb(n){return Hu(n)&&n.tagName.toLowerCase()==="button"}function Zb(n){return Hu(n)&&n.tagName.toLowerCase()==="form"}function Fb(n){return Hu(n)&&n.tagName.toLowerCase()==="input"}function kb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Jb(n,t){return n.button===0&&(!t||t==="_self")&&!kb(n)}var fu=null;function Pb(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var Ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(n){return n!=null&&!Ib.has(n)?(Un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):n}function Wb(n,t){let r,l,u,c,h;if(Zb(n)){let g=n.getAttribute("action");l=g?hi(g,t):null,r=n.getAttribute("method")||yu,u=ff(n.getAttribute("enctype"))||vu,c=new FormData(n)}else if(Kb(n)||Fb(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||g.getAttribute("action");if(l=p?hi(p,t):null,r=n.getAttribute("formmethod")||g.getAttribute("method")||yu,u=ff(n.getAttribute("formenctype"))||ff(g.getAttribute("enctype"))||vu,c=new FormData(g,n),!Pb()){let{name:d,type:v,value:E}=n;if(v==="image"){let m=d?`${d}.`:"";c.append(`${m}x`,"0"),c.append(`${m}y`,"0")}else d&&c.append(d,E)}}else{if(Hu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=yu,l=null,u=vu,h=n}return c&&u==="text/plain"&&(h=c,c=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:c,body:h}}function Wf(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function $b(n,t){if(n.id in t)return t[n.id];try{let r=await import(n.module);return t[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tA(n,t,r){let l=await Promise.all(n.map(async u=>{let c=t.routes[u.route.id];if(c){let h=await $b(c,r);return h.links?h.links():[]}return[]}));return rA(l.flat(1).filter(eA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function wg(n,t,r,l,u,c){let h=(p,d)=>r[d]?p.route.id!==r[d].route.id:!0,g=(p,d)=>{var v;return r[d].pathname!==p.pathname||((v=r[d].route.path)==null?void 0:v.endsWith("*"))&&r[d].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,d)=>h(p,d)||g(p,d)):c==="data"?t.filter((p,d)=>{var E;let v=l.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,d)||g(p,d))return!0;if(p.route.shouldRevalidate){let m=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((E=r[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function nA(n,t,{includeHydrateFallback:r}={}){return iA(n.map(l=>{let u=t.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function iA(n){return[...new Set(n)]}function aA(n){let t={},r=Object.keys(n).sort();for(let l of r)t[l]=n[l];return t}function rA(n,t){let r=new Set;return new Set(t),n.reduce((l,u)=>{let c=JSON.stringify(aA(u));return r.has(c)||(r.add(c),l.push({key:c,link:u})),l},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lA=new Set([100,101,204,205]);function sA(n,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname="_root.data":t&&hi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function ty(){let n=I.useContext(Er);return Wf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uA(){let n=I.useContext(Lu);return Wf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $f=I.createContext(void 0);$f.displayName="FrameworkContext";function ny(){let n=I.useContext($f);return Wf(n,"You must render this element inside a <HydratedRouter> element"),n}function oA(n,t){let r=I.useContext($f),[l,u]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:d,onMouseLeave:v,onTouchStart:E}=t,m=I.useRef(null);I.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let O=M=>{M.forEach(_=>{h(_.isIntersecting)})},x=new IntersectionObserver(O,{threshold:.5});return m.current&&x.observe(m.current),()=>{x.disconnect()}}},[n]),I.useEffect(()=>{if(l){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[l]);let S=()=>{u(!0)},b=()=>{u(!1),h(!1)};return r?n!=="intent"?[c,m,{}]:[c,m,{onFocus:Cl(g,S),onBlur:Cl(p,b),onMouseEnter:Cl(d,S),onMouseLeave:Cl(v,b),onTouchStart:Cl(E,S)}]:[!1,m,{}]}function Cl(n,t){return r=>{n&&n(r),r.defaultPrevented||t(r)}}function cA({page:n,...t}){let{router:r}=ty(),l=I.useMemo(()=>Qg(r.routes,n,r.basename),[r.routes,n,r.basename]);return l?I.createElement(hA,{page:n,matches:l,...t}):null}function fA(n){let{manifest:t,routeModules:r}=ny(),[l,u]=I.useState([]);return I.useEffect(()=>{let c=!1;return tA(n,t,r).then(h=>{c||u(h)}),()=>{c=!0}},[n,t,r]),l}function hA({page:n,matches:t,...r}){let l=Sa(),{manifest:u,routeModules:c}=ny(),{basename:h}=ty(),{loaderData:g,matches:p}=uA(),d=I.useMemo(()=>wg(n,t,p,u,l,"data"),[n,t,p,u,l]),v=I.useMemo(()=>wg(n,t,p,u,l,"assets"),[n,t,p,u,l]),E=I.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let b=new Set,O=!1;if(t.forEach(M=>{var X;let _=u.routes[M.route.id];!_||!_.hasLoader||(!d.some(ie=>ie.route.id===M.route.id)&&M.route.id in g&&((X=c[M.route.id])!=null&&X.shouldRevalidate)||_.hasClientLoader?O=!0:b.add(M.route.id))}),b.size===0)return[];let x=sA(n,h);return O&&b.size>0&&x.searchParams.set("_routes",t.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[x.pathname+x.search]},[h,g,l,u,d,t,n,c]),m=I.useMemo(()=>nA(v,u),[v,u]),S=fA(v);return I.createElement(I.Fragment,null,E.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),m.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),S.map(({key:b,link:O})=>I.createElement("link",{key:b,...O})))}function dA(...n){return t=>{n.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iy&&(window.__reactRouterVersion="7.6.2")}catch{}function pA({basename:n,children:t,window:r}){let l=I.useRef();l.current==null&&(l.current=eb({window:r,v5Compat:!0}));let u=l.current,[c,h]=I.useState({action:u.action,location:u.location}),g=I.useCallback(p=>{I.startTransition(()=>h(p))},[h]);return I.useLayoutEffect(()=>u.listen(g),[u,g]),I.createElement(Xb,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=I.forwardRef(function({onClick:t,discover:r="render",prefetch:l="none",relative:u,reloadDocument:c,replace:h,state:g,target:p,to:d,preventScrollReset:v,viewTransition:E,...m},S){let{basename:b}=I.useContext(kn),O=typeof d=="string"&&ay.test(d),x,M=!1;if(typeof d=="string"&&O&&(x=d,iy))try{let W=new URL(window.location.href),ne=d.startsWith("//")?new URL(W.protocol+d):new URL(d),ae=hi(ne.pathname,b);ne.origin===W.origin&&ae!=null?d=ae+ne.search+ne.hash:M=!0}catch{Un(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Rb(d,{relative:u}),[X,ie,k]=oA(l,m),q=vA(d,{replace:h,state:g,target:p,preventScrollReset:v,relative:u,viewTransition:E});function B(W){t&&t(W),W.defaultPrevented||q(W)}let H=I.createElement("a",{...m,...k,href:x||_,onClick:M||c?t:B,ref:dA(S,ie),target:p,"data-discover":!O&&r==="render"?"true":void 0});return X&&!O?I.createElement(I.Fragment,null,H,I.createElement(cA,{page:_})):H});ry.displayName="Link";var mA=I.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:l="",end:u=!1,style:c,to:h,viewTransition:g,children:p,...d},v){let E=Wl(h,{relative:d.relative}),m=Sa(),S=I.useContext(Lu),{navigator:b,basename:O}=I.useContext(kn),x=S!=null&&EA(E)&&g===!0,M=b.encodeLocation?b.encodeLocation(E).pathname:E.pathname,_=m.pathname,X=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(_=_.toLowerCase(),X=X?X.toLowerCase():null,M=M.toLowerCase()),X&&O&&(X=hi(X,O)||X);const ie=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let k=_===M||!u&&_.startsWith(M)&&_.charAt(ie)==="/",q=X!=null&&(X===M||!u&&X.startsWith(M)&&X.charAt(M.length)==="/"),B={isActive:k,isPending:q,isTransitioning:x},H=k?t:void 0,W;typeof l=="function"?W=l(B):W=[l,k?"active":null,q?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let ne=typeof c=="function"?c(B):c;return I.createElement(ry,{...d,"aria-current":H,className:W,ref:v,style:ne,to:h,viewTransition:g},typeof p=="function"?p(B):p)});mA.displayName="NavLink";var gA=I.forwardRef(({discover:n="render",fetcherKey:t,navigate:r,reloadDocument:l,replace:u,state:c,method:h=yu,action:g,onSubmit:p,relative:d,preventScrollReset:v,viewTransition:E,...m},S)=>{let b=wA(),O=xA(g,{relative:d}),x=h.toLowerCase()==="get"?"get":"post",M=typeof g=="string"&&ay.test(g),_=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ie=X.nativeEvent.submitter,k=(ie==null?void 0:ie.getAttribute("formmethod"))||h;b(ie||X.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:u,state:c,relative:d,preventScrollReset:v,viewTransition:E})};return I.createElement("form",{ref:S,method:x,action:O,onSubmit:l?p:_,...m,"data-discover":!M&&n==="render"?"true":void 0})});gA.displayName="Form";function yA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ly(n){let t=I.useContext(Er);return rt(t,yA(n)),t}function vA(n,{target:t,replace:r,state:l,preventScrollReset:u,relative:c,viewTransition:h}={}){let g=Ob(),p=Sa(),d=Wl(n,{relative:c});return I.useCallback(v=>{if(Jb(v,t)){v.preventDefault();let E=r!==void 0?r:Ql(p)===Ql(d);g(n,{replace:E,state:l,preventScrollReset:u,relative:c,viewTransition:h})}},[p,g,d,r,l,t,n,u,c,h])}var bA=0,AA=()=>`__${String(++bA)}__`;function wA(){let{router:n}=ly("useSubmit"),{basename:t}=I.useContext(kn),r=Gb();return I.useCallback(async(l,u={})=>{let{action:c,method:h,encType:g,formData:p,body:d}=Wb(l,t);if(u.navigate===!1){let v=u.fetcherKey||AA();await n.fetch(v,r,u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:d,formMethod:u.method||h,formEncType:u.encType||g,flushSync:u.flushSync})}else await n.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:d,formMethod:u.method||h,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,t,r])}function xA(n,{relative:t}={}){let{basename:r}=I.useContext(kn),l=I.useContext(di);rt(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Wl(n||".",{relative:t})},h=Sa();if(n==null){c.search=h.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(v=>v==="")){g.delete("index"),p.filter(E=>E).forEach(E=>g.append("index",E));let v=g.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:fi([r,c.pathname])),Ql(c)}function EA(n,t={}){let r=I.useContext(Pg);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ly("useViewTransitionState"),u=Wl(n,{relative:t.relative});if(!r.isTransitioning)return!1;let c=hi(r.currentLocation.pathname,l)||r.currentLocation.pathname,h=hi(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Ru(u.pathname,h)!=null||Ru(u.pathname,c)!=null}[...lA];const Fn=Object.create(null);Fn.open="0";Fn.close="1";Fn.ping="2";Fn.pong="3";Fn.message="4";Fn.upgrade="5";Fn.noop="6";const bu=Object.create(null);Object.keys(Fn).forEach(n=>{bu[Fn[n]]=n});const wf={type:"error",data:"parser error"},sy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",uy=typeof ArrayBuffer=="function",oy=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,eh=({type:n,data:t},r,l)=>sy&&t instanceof Blob?r?l(t):xg(t,l):uy&&(t instanceof ArrayBuffer||oy(t))?r?l(t):xg(new Blob([t]),l):l(Fn[n]+(t||"")),xg=(n,t)=>{const r=new FileReader;return r.onload=function(){const l=r.result.split(",")[1];t("b"+(l||""))},r.readAsDataURL(n)};function Eg(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let hf;function SA(n,t){if(sy&&n.data instanceof Blob)return n.data.arrayBuffer().then(Eg).then(t);if(uy&&(n.data instanceof ArrayBuffer||oy(n.data)))return t(Eg(n.data));eh(n,!1,r=>{hf||(hf=new TextEncoder),t(hf.encode(r))})}const Sg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_l=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Sg.length;n++)_l[Sg.charCodeAt(n)]=n;const MA=n=>{let t=n.length*.75,r=n.length,l,u=0,c,h,g,p;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const d=new ArrayBuffer(t),v=new Uint8Array(d);for(l=0;l<r;l+=4)c=_l[n.charCodeAt(l)],h=_l[n.charCodeAt(l+1)],g=_l[n.charCodeAt(l+2)],p=_l[n.charCodeAt(l+3)],v[u++]=c<<2|h>>4,v[u++]=(h&15)<<4|g>>2,v[u++]=(g&3)<<6|p&63;return d},TA=typeof ArrayBuffer=="function",th=(n,t)=>{if(typeof n!="string")return{type:"message",data:cy(n,t)};const r=n.charAt(0);return r==="b"?{type:"message",data:RA(n.substring(1),t)}:bu[r]?n.length>1?{type:bu[r],data:n.substring(1)}:{type:bu[r]}:wf},RA=(n,t)=>{if(TA){const r=MA(n);return cy(r,t)}else return{base64:!0,data:n}},cy=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},fy="",OA=(n,t)=>{const r=n.length,l=new Array(r);let u=0;n.forEach((c,h)=>{eh(c,!1,g=>{l[h]=g,++u===r&&t(l.join(fy))})})},CA=(n,t)=>{const r=n.split(fy),l=[];for(let u=0;u<r.length;u++){const c=th(r[u],t);if(l.push(c),c.type==="error")break}return l};function qA(){return new TransformStream({transform(n,t){SA(n,r=>{const l=r.length;let u;if(l<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,l);else if(l<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,l)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(l))}n.data&&typeof n.data!="string"&&(u[0]|=128),t.enqueue(u),t.enqueue(r)})}})}let df;function hu(n){return n.reduce((t,r)=>t+r.length,0)}function du(n,t){if(n[0].length===t)return n.shift();const r=new Uint8Array(t);let l=0;for(let u=0;u<t;u++)r[u]=n[0][l++],l===n[0].length&&(n.shift(),l=0);return n.length&&l<n[0].length&&(n[0]=n[0].slice(l)),r}function DA(n,t){df||(df=new TextDecoder);const r=[];let l=0,u=-1,c=!1;return new TransformStream({transform(h,g){for(r.push(h);;){if(l===0){if(hu(r)<1)break;const p=du(r,1);c=(p[0]&128)===128,u=p[0]&127,u<126?l=3:u===126?l=1:l=2}else if(l===1){if(hu(r)<2)break;const p=du(r,2);u=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),l=3}else if(l===2){if(hu(r)<8)break;const p=du(r,8),d=new DataView(p.buffer,p.byteOffset,p.length),v=d.getUint32(0);if(v>Math.pow(2,21)-1){g.enqueue(wf);break}u=v*Math.pow(2,32)+d.getUint32(4),l=3}else{if(hu(r)<u)break;const p=du(r,u);g.enqueue(th(c?p:df.decode(p),t)),l=0}if(u===0||u>n){g.enqueue(wf);break}}}})}const hy=4;function mt(n){if(n)return BA(n)}function BA(n){for(var t in mt.prototype)n[t]=mt.prototype[t];return n}mt.prototype.on=mt.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};mt.prototype.once=function(n,t){function r(){this.off(n,r),t.apply(this,arguments)}return r.fn=t,this.on(n,r),this};mt.prototype.off=mt.prototype.removeListener=mt.prototype.removeAllListeners=mt.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+n];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var l,u=0;u<r.length;u++)if(l=r[u],l===t||l.fn===t){r.splice(u,1);break}return r.length===0&&delete this._callbacks["$"+n],this};mt.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+n],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(r){r=r.slice(0);for(var l=0,u=r.length;l<u;++l)r[l].apply(this,t)}return this};mt.prototype.emitReserved=mt.prototype.emit;mt.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};mt.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Gu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),wn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_A="arraybuffer";function dy(n,...t){return t.reduce((r,l)=>(n.hasOwnProperty(l)&&(r[l]=n[l]),r),{})}const UA=wn.setTimeout,NA=wn.clearTimeout;function Yu(n,t){t.useNativeTimers?(n.setTimeoutFn=UA.bind(wn),n.clearTimeoutFn=NA.bind(wn)):(n.setTimeoutFn=wn.setTimeout.bind(wn),n.clearTimeoutFn=wn.clearTimeout.bind(wn))}const zA=1.33;function LA(n){return typeof n=="string"?HA(n):Math.ceil((n.byteLength||n.size)*zA)}function HA(n){let t=0,r=0;for(let l=0,u=n.length;l<u;l++)t=n.charCodeAt(l),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(l++,r+=4);return r}function py(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function GA(n){let t="";for(let r in n)n.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(n[r]));return t}function YA(n){let t={},r=n.split("&");for(let l=0,u=r.length;l<u;l++){let c=r[l].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class jA extends Error{constructor(t,r,l){super(t),this.description=r,this.context=l,this.type="TransportError"}}class nh extends mt{constructor(t){super(),this.writable=!1,Yu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,l){return super.emitReserved("error",new jA(t,r,l)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=th(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=GA(t);return r.length?"?"+r:""}}class VA extends nh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let l=0;this._polling&&(l++,this.once("pollComplete",function(){--l||r()})),this.writable||(l++,this.once("drain",function(){--l||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=l=>{if(this.readyState==="opening"&&l.type==="open"&&this.onOpen(),l.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(l)};CA(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,OA(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=py()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let my=!1;try{my=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const XA=my;function QA(){}class KA extends VA{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let l=location.port;l||(l=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||l!==t.port}}doWrite(t,r){const l=this.request({method:"POST",data:t});l.on("success",r),l.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,l)=>{this.onError("xhr poll error",r,l)}),this.pollXhr=t}}class Qn extends mt{constructor(t,r,l){super(),this.createRequest=t,Yu(this,l),this._opts=l,this._method=l.method||"GET",this._uri=r,this._data=l.data!==void 0?l.data:null,this._create()}_create(){var t;const r=dy(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const l=this._xhr=this.createRequest(r);try{l.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){l.setDisableHeaderCheck&&l.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&l.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{l.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{l.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(l),"withCredentials"in l&&(l.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(l.timeout=this._opts.requestTimeout),l.onreadystatechange=()=>{var u;l.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(l.getResponseHeader("set-cookie"))),l.readyState===4&&(l.status===200||l.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof l.status=="number"?l.status:0)},0))},l.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=Qn.requestsCount++,Qn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=QA,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qn.requestsCount=0;Qn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Mg);else if(typeof addEventListener=="function"){const n="onpagehide"in wn?"pagehide":"unload";addEventListener(n,Mg,!1)}}function Mg(){for(let n in Qn.requests)Qn.requests.hasOwnProperty(n)&&Qn.requests[n].abort()}const ZA=function(){const n=gy({xdomain:!1});return n&&n.responseType!==null}();class FA extends KA{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=ZA&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Qn(gy,this.uri(),t)}}function gy(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||XA))return new XMLHttpRequest}catch{}if(!t)try{return new wn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const yy=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kA extends nh{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,l=yy?{}:dy(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(l.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,l)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const l=t[r],u=r===t.length-1;eh(l,this.supportsBinary,c=>{try{this.doWrite(l,c)}catch{}u&&Gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=py()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const pf=wn.WebSocket||wn.MozWebSocket;class JA extends kA{createSocket(t,r,l){return yy?new pf(t,r,l):r?new pf(t,r):new pf(t)}doWrite(t,r){this.ws.send(r)}}class PA extends nh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=DA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),l=t.readable.pipeThrough(r).getReader(),u=qA();u.readable.pipeTo(t.writable),this._writer=u.writable.getWriter();const c=()=>{l.read().then(({done:g,value:p})=>{g||(this.onPacket(p),c())}).catch(g=>{})};c();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const l=t[r],u=r===t.length-1;this._writer.write(l).then(()=>{u&&Gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const IA={websocket:JA,webtransport:PA,polling:FA},WA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xf(n){if(n.length>8e3)throw"URI too long";const t=n,r=n.indexOf("["),l=n.indexOf("]");r!=-1&&l!=-1&&(n=n.substring(0,r)+n.substring(r,l).replace(/:/g,";")+n.substring(l,n.length));let u=WA.exec(n||""),c={},h=14;for(;h--;)c[$A[h]]=u[h]||"";return r!=-1&&l!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=ew(c,c.path),c.queryKey=tw(c,c.query),c}function ew(n,t){const r=/\/{2,9}/g,l=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&l.splice(0,1),t.slice(-1)=="/"&&l.splice(l.length-1,1),l}function tw(n,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(l,u,c){u&&(r[u]=c)}),r}const Ef=typeof addEventListener=="function"&&typeof removeEventListener=="function",Au=[];Ef&&addEventListener("offline",()=>{Au.forEach(n=>n())},!1);class Xi extends mt{constructor(t,r){if(super(),this.binaryType=_A,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const l=xf(t);r.hostname=l.host,r.secure=l.protocol==="https"||l.protocol==="wss",r.port=l.port,l.query&&(r.query=l.query)}else r.host&&(r.hostname=xf(r.host).host);Yu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(l=>{const u=l.prototype.name;this.transports.push(u),this._transportsByName[u]=l}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=YA(this.opts.query)),Ef&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Au.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=hy,r.transport=t,this.id&&(r.sid=this.id);const l=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](l)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Xi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Xi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let l=0;l<this.writeBuffer.length;l++){const u=this.writeBuffer[l].data;if(u&&(r+=LA(u)),l>0&&r>this._maxPayload)return this.writeBuffer.slice(0,l);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Gu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,l){return this._sendPacket("message",t,r,l),this}send(t,r,l){return this._sendPacket("message",t,r,l),this}_sendPacket(t,r,l,u){if(typeof r=="function"&&(u=r,r=void 0),typeof l=="function"&&(u=l,l=null),this.readyState==="closing"||this.readyState==="closed")return;l=l||{},l.compress=l.compress!==!1;const c={type:t,data:r,options:l};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},l=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?l():t()}):this.upgrading?l():t()),this}_onError(t){if(Xi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ef&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const l=Au.indexOf(this._offlineEventListener);l!==-1&&Au.splice(l,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Xi.protocol=hy;class nw extends Xi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),l=!1;Xi.priorWebsocketSuccess=!1;const u=()=>{l||(r.send([{type:"ping",data:"probe"}]),r.once("packet",E=>{if(!l)if(E.type==="pong"&&E.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Xi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{l||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function c(){l||(l=!0,v(),r.close(),r=null)}const h=E=>{const m=new Error("probe error: "+E);m.transport=r.name,c(),this.emitReserved("upgradeError",m)};function g(){h("transport closed")}function p(){h("socket closed")}function d(E){r&&E.name!==r.name&&c()}const v=()=>{r.removeListener("open",u),r.removeListener("error",h),r.removeListener("close",g),this.off("close",p),this.off("upgrading",d)};r.once("open",u),r.once("error",h),r.once("close",g),this.once("close",p),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{l||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let l=0;l<t.length;l++)~this.transports.indexOf(t[l])&&r.push(t[l]);return r}}let iw=class extends nw{constructor(t,r={}){const l=typeof t=="object"?t:r;(!l.transports||l.transports&&typeof l.transports[0]=="string")&&(l.transports=(l.transports||["polling","websocket","webtransport"]).map(u=>IA[u]).filter(u=>!!u)),super(t,l)}};function aw(n,t="",r){let l=n;r=r||typeof location<"u"&&location,n==null&&(n=r.protocol+"//"+r.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=r.protocol+n:n=r.host+n),/^(https?|wss?):\/\//.test(n)||(typeof r<"u"?n=r.protocol+"//"+n:n="https://"+n),l=xf(n)),l.port||(/^(http|ws)$/.test(l.protocol)?l.port="80":/^(http|ws)s$/.test(l.protocol)&&(l.port="443")),l.path=l.path||"/";const c=l.host.indexOf(":")!==-1?"["+l.host+"]":l.host;return l.id=l.protocol+"://"+c+":"+l.port+t,l.href=l.protocol+"://"+c+(r&&r.port===l.port?"":":"+l.port),l}const rw=typeof ArrayBuffer=="function",lw=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,vy=Object.prototype.toString,sw=typeof Blob=="function"||typeof Blob<"u"&&vy.call(Blob)==="[object BlobConstructor]",uw=typeof File=="function"||typeof File<"u"&&vy.call(File)==="[object FileConstructor]";function ih(n){return rw&&(n instanceof ArrayBuffer||lw(n))||sw&&n instanceof Blob||uw&&n instanceof File}function wu(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let r=0,l=n.length;r<l;r++)if(wu(n[r]))return!0;return!1}if(ih(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return wu(n.toJSON(),!0);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&wu(n[r]))return!0;return!1}function ow(n){const t=[],r=n.data,l=n;return l.data=Sf(r,t),l.attachments=t.length,{packet:l,buffers:t}}function Sf(n,t){if(!n)return n;if(ih(n)){const r={_placeholder:!0,num:t.length};return t.push(n),r}else if(Array.isArray(n)){const r=new Array(n.length);for(let l=0;l<n.length;l++)r[l]=Sf(n[l],t);return r}else if(typeof n=="object"&&!(n instanceof Date)){const r={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=Sf(n[l],t));return r}return n}function cw(n,t){return n.data=Mf(n.data,t),delete n.attachments,n}function Mf(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let r=0;r<n.length;r++)n[r]=Mf(n[r],t);else if(typeof n=="object")for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=Mf(n[r],t));return n}const fw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hw=5;var Ue;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Ue||(Ue={}));class dw{constructor(t){this.replacer=t}encode(t){return(t.type===Ue.EVENT||t.type===Ue.ACK)&&wu(t)?this.encodeAsBinary({type:t.type===Ue.EVENT?Ue.BINARY_EVENT:Ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ue.BINARY_EVENT||t.type===Ue.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=ow(t),l=this.encodeAsString(r.packet),u=r.buffers;return u.unshift(l),u}}function Tg(n){return Object.prototype.toString.call(n)==="[object Object]"}class ah extends mt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const l=r.type===Ue.BINARY_EVENT;l||r.type===Ue.BINARY_ACK?(r.type=l?Ue.EVENT:Ue.ACK,this.reconstructor=new pw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ih(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const l={type:Number(t.charAt(0))};if(Ue[l.type]===void 0)throw new Error("unknown packet type "+l.type);if(l.type===Ue.BINARY_EVENT||l.type===Ue.BINARY_ACK){const c=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const h=t.substring(c,r);if(h!=Number(h)||t.charAt(r)!=="-")throw new Error("Illegal attachments");l.attachments=Number(h)}if(t.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););l.nsp=t.substring(c,r)}else l.nsp="/";const u=t.charAt(r+1);if(u!==""&&Number(u)==u){const c=r+1;for(;++r;){const h=t.charAt(r);if(h==null||Number(h)!=h){--r;break}if(r===t.length)break}l.id=Number(t.substring(c,r+1))}if(t.charAt(++r)){const c=this.tryParse(t.substr(r));if(ah.isPayloadValid(l.type,c))l.data=c;else throw new Error("invalid payload")}return l}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ue.CONNECT:return Tg(r);case Ue.DISCONNECT:return r===void 0;case Ue.CONNECT_ERROR:return typeof r=="string"||Tg(r);case Ue.EVENT:case Ue.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fw.indexOf(r[0])===-1);case Ue.ACK:case Ue.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pw{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=cw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ah,Encoder:dw,get PacketType(){return Ue},protocol:hw},Symbol.toStringTag,{value:"Module"}));function _n(n,t,r){return n.on(t,r),function(){n.off(t,r)}}const gw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class by extends mt{constructor(t,r,l){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,l&&l.auth&&(this.auth=l.auth),this._opts=Object.assign({},l),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_n(t,"open",this.onopen.bind(this)),_n(t,"packet",this.onpacket.bind(this)),_n(t,"error",this.onerror.bind(this)),_n(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var l,u,c;if(gw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const h={type:Ue.EVENT,data:r};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,E=r.pop();this._registerAckCallback(v,E),h.id=v}const g=(u=(l=this.io.engine)===null||l===void 0?void 0:l.transport)===null||u===void 0?void 0:u.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!g||(p?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(t,r){var l;const u=(l=this.flags.timeout)!==null&&l!==void 0?l:this._opts.ackTimeout;if(u===void 0){this.acks[t]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===t&&this.sendBuffer.splice(g,1);r.call(this,new Error("operation has timed out"))},u),h=(...g)=>{this.io.clearTimeoutFn(c),r.apply(this,g)};h.withError=!0,this.acks[t]=h}emitWithAck(t,...r){return new Promise((l,u)=>{const c=(h,g)=>h?u(h):l(g);c.withError=!0,r.push(c),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const l={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((u,...c)=>l!==this._queue[0]?void 0:(u!==null?l.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(u)):(this._queue.shift(),r&&r(null,...c)),l.pending=!1,this._drainQueue())),this._queue.push(l),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(l=>String(l.id)===t)){const l=this.acks[t];delete this.acks[t],l.withError&&l.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ue.EVENT:case Ue.BINARY_EVENT:this.onevent(t);break;case Ue.ACK:case Ue.BINARY_ACK:this.onack(t);break;case Ue.DISCONNECT:this.ondisconnect();break;case Ue.CONNECT_ERROR:this.destroy();const l=new Error(t.data.message);l.data=t.data.data,this.emitReserved("connect_error",l);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const l of r)l.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let l=!1;return function(...u){l||(l=!0,r.packet({type:Ue.ACK,id:t,data:u}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let l=0;l<r.length;l++)if(t===r[l])return r.splice(l,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let l=0;l<r.length;l++)if(t===r[l])return r.splice(l,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const l of r)l.apply(this,t.data)}}}function Sr(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Sr.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*n);n=(Math.floor(t*10)&1)==0?n-r:n+r}return Math.min(n,this.max)|0};Sr.prototype.reset=function(){this.attempts=0};Sr.prototype.setMin=function(n){this.ms=n};Sr.prototype.setMax=function(n){this.max=n};Sr.prototype.setJitter=function(n){this.jitter=n};class Tf extends mt{constructor(t,r){var l;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((l=r.randomizationFactor)!==null&&l!==void 0?l:.5),this.backoff=new Sr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const u=r.parser||mw;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new iw(this.uri,this.opts);const r=this.engine,l=this;this._readyState="opening",this.skipReconnect=!1;const u=_n(r,"open",function(){l.onopen(),t&&t()}),c=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),t?t(g):this.maybeReconnectOnOpen()},h=_n(r,"error",c);if(this._timeout!==!1){const g=this._timeout,p=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),r.close()},g);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(u),this.subs.push(h),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_n(t,"ping",this.onping.bind(this)),_n(t,"data",this.ondata.bind(this)),_n(t,"error",this.onerror.bind(this)),_n(t,"close",this.onclose.bind(this)),_n(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Gu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let l=this.nsps[t];return l?this._autoConnect&&!l.active&&l.connect():(l=new by(this,t,r),this.nsps[t]=l),l}_destroy(t){const r=Object.keys(this.nsps);for(const l of r)if(this.nsps[l].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let l=0;l<r.length;l++)this.engine.write(r[l],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var l;this.cleanup(),(l=this.engine)===null||l===void 0||l.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const l=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(u=>{u?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",u)):t.onreconnect()}))},r);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ql={};function xu(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const r=aw(n,t.path||"/socket.io"),l=r.source,u=r.id,c=r.path,h=ql[u]&&c in ql[u].nsps,g=t.forceNew||t["force new connection"]||t.multiplex===!1||h;let p;return g?p=new Tf(l,t):(ql[u]||(ql[u]=new Tf(l,t)),p=ql[u]),r.query&&!t.query&&(t.query=r.queryKey),p.socket(r.path,t)}Object.assign(xu,{Manager:Tf,Socket:by,io:xu,connect:xu});const nn=xu("https://api.donger.ca");function yw(){const n=document.getElementById("game"),t=document.getElementById("root");t.style.pointerEvents="none";const[r,l]=I.useState({id:"",username:"",loggedIn:!1});I.useEffect(()=>{fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then(b=>b.json()).then(b=>{l(b)})},[]);const[u,c]=I.useState(0),[h,g]=I.useState(!1),[p,d]=I.useState([]),v=()=>p.length===0?Ae.jsxs("div",{id:"bag",children:[Ae.jsx("h2",{children:"Bag"}),Ae.jsx("p",{children:"No items in bag."})]}):Ae.jsxs("div",{id:"bag",children:[Ae.jsx("h2",{children:"Bag"}),Ae.jsx("ul",{children:p.map(b=>Ae.jsxs("li",{children:[b.name," x",b.amount]},b.id))})]});function E(){if(h){g(!1),n.focus();return}nn.emit("GET player/bag",b=>{b.status==="ok"&&(d(b.data),g(!0),n.focus())})}function m(){window.location.href="https://agrifusion.donger.ca"}function S(){return r.loggedIn?(n.hidden=!1,n.focus(),Ae.jsxs("div",{children:[Ae.jsx("div",{id:"coins",children:"$"+u}),Ae.jsx("button",{onClick:E,className:"btn",id:"btn_bag",children:"BAG"}),h&&v()]})):(n.hidden=!0,t.style.pointerEvents="all",Ae.jsxs("h1",{onClick:m,id:"login_warning",children:["YOU NEED TO LOGIN TO PLAY!",Ae.jsx("br",{}),"Click/tap to login"]}))}return nn.on("UPDATE player/coins",b=>{c(b.coins)}),Ae.jsx("div",{className:"background",children:S()})}function vw(){const n=document.getElementById("game");n.hidden=!0;const t=document.getElementById("root");t.style.pointerEvents="all",fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then(h=>h.json()).then(h=>{if(h.loggedIn)window.location.href="/#/play";else{const g=document.cookie.split(";"),p={};if(g.forEach(d=>{const[v,E]=d.trim().split("=");p[v]=E}),console.log(p),p.error){const d=decodeURIComponent(p.error);l(d),document.cookie="error=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}});const[r,l]=I.useState(""),u=()=>Ae.jsx("div",{id:"error",children:r});function c(){window.location.href="https://agrifusion.donger.ca/#/signup"}return Ae.jsxs("div",{className:"background",children:[Ae.jsx("div",{id:"title",children:"Agrifusion"}),Ae.jsxs("form",{action:"https://api.donger.ca/api/login",method:"post",children:[u(),Ae.jsxs("div",{id:"login-form",children:[Ae.jsx("section",{children:Ae.jsxs("label",{htmlFor:"username",children:["Username:",Ae.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,autoFocus:!0})]})}),Ae.jsx("section",{children:Ae.jsxs("label",{htmlFor:"current-password",children:["Password:",Ae.jsx("input",{id:"current-password",name:"password",type:"password",autoComplete:"current-password",required:!0})]})}),Ae.jsx("input",{type:"hidden",name:"_csrf",value:"<%= csrfToken %>"})]}),Ae.jsx("br",{}),Ae.jsxs("div",{id:"buttons",children:[Ae.jsx("button",{className:"btn",id:"btn_sign_in",type:"submit",children:"Sign in"}),Ae.jsx("button",{className:"btn",id:"btn_sign_up",onClick:c,children:"Sign up"})]})]}),Ae.jsx("br",{})]})}function bw(){const n=document.getElementById("game");n.style.pointerEvents="none",n.style.display="none";const t=document.getElementById("root");t.style.pointerEvents="all";const[r,l]=I.useState(""),u=document.cookie.split(";"),c={};if(u.forEach(g=>{const[p,d]=g.trim().split("=");c[p]=d}),c.error){const g=decodeURIComponent(c.error);l(g),document.cookie="error=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}const h=()=>Ae.jsx("div",{id:"error",children:r});return Ae.jsxs("div",{className:"background",children:[Ae.jsx("h1",{children:"Sign up"}),h(),Ae.jsxs("form",{action:"https://api.donger.ca/api/signup",method:"post",children:[Ae.jsx("section",{children:Ae.jsxs("label",{htmlFor:"username",children:["Username:",Ae.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0})]})}),Ae.jsx("section",{children:Ae.jsxs("label",{htmlFor:"new-password",children:["Password:",Ae.jsx("input",{id:"new-password",name:"password",type:"password",autoComplete:"new-password",required:!0})]})}),Ae.jsx("button",{type:"submit",children:"Sign up"})]})]})}var Aw=(()=>{for(var n=new Uint8Array(128),t=0;t<64;t++)n[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var l=r.length,u=new Uint8Array((l-(r[l-1]=="=")-(r[l-2]=="="))*3/4|0),c=0,h=0;c<l;){var g=n[r.charCodeAt(c++)],p=n[r.charCodeAt(c++)],d=n[r.charCodeAt(c++)],v=n[r.charCodeAt(c++)];u[h++]=g<<2|p>>4,u[h++]=p<<4|d>>2,u[h++]=d<<6|v}return u}})(),ww={version:"3001.0.18"};function Kn(n,t,r){return t>r?Kn(n,r,t):Math.min(Math.max(n,t),r)}var Ye,_e=(Ye=class{constructor(t,r,l){L(this,"r",255);L(this,"g",255);L(this,"b",255);this.r=Kn(t,0,255),this.g=Kn(r,0,255),this.b=Kn(l,0,255)}static fromArray(t){return new Ye(t[0],t[1],t[2])}static fromHex(t){if(typeof t=="number")return new Ye(t>>16&255,t>>8&255,t>>0&255);if(typeof t=="string"){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!r)throw new Error("Invalid hex color format");return new Ye(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(t,r,l){if(r==0)return new Ye(255*l,255*l,255*l);let u=(v,E,m)=>(m<0&&(m+=1),m>1&&(m-=1),m<1/6?v+(E-v)*6*m:m<1/2?E:m<2/3?v+(E-v)*(2/3-m)*6:v),c=l<.5?l*(1+r):l+r-l*r,h=2*l-c,g=u(h,c,t+1/3),p=u(h,c,t),d=u(h,c,t-1/3);return new Ye(Math.round(g*255),Math.round(p*255),Math.round(d*255))}clone(){return new Ye(this.r,this.g,this.b)}lighten(t){return new Ye(this.r+t,this.g+t,this.b+t)}darken(t){return this.lighten(-t)}invert(){return new Ye(255-this.r,255-this.g,255-this.b)}mult(t){return new Ye(this.r*t.r/255,this.g*t.g/255,this.b*t.b/255)}lerp(t,r){return new Ye(rn(this.r,t.r,r),rn(this.g,t.g,r),rn(this.b,t.b,r))}toHSL(){let t=this.r/255,r=this.g/255,l=this.b/255,u=Math.max(t,r,l),c=Math.min(t,r,l),h=(u+c)/2,g=h,p=h;if(u==c)h=g=0;else{let d=u-c;switch(g=p>.5?d/(2-u-c):d/(u+c),u){case t:h=(r-l)/d+(r<l?6:0);break;case r:h=(l-t)/d+2;break;case l:h=(t-r)/d+4;break}h/=6}return[h,g,p]}eq(t){return this.r===t.r&&this.g===t.g&&this.b===t.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},L(Ye,"RED",new Ye(255,0,0)),L(Ye,"GREEN",new Ye(0,255,0)),L(Ye,"BLUE",new Ye(0,0,255)),L(Ye,"YELLOW",new Ye(255,255,0)),L(Ye,"MAGENTA",new Ye(255,0,255)),L(Ye,"CYAN",new Ye(0,255,255)),L(Ye,"WHITE",new Ye(255,255,255)),L(Ye,"BLACK",new Ye(0,0,0)),Ye);function Xe(...n){if(n.length===0)return new _e(255,255,255);if(n.length===1){if(n[0]instanceof _e)return n[0].clone();if(typeof n[0]=="string")return _e.fromHex(n[0]);if(Array.isArray(n[0])&&n[0].length===3)return _e.fromArray(n[0])}else if(n.length===2){if(n[0]instanceof _e)return n[0].clone()}else if(n.length===3||n.length===4)return new _e(n[0],n[1],n[2]);throw new Error("Invalid color arguments")}var xw=(n,t,r)=>_e.fromHSL(n,t,r);function bt(n){return n*Math.PI/180}function va(n){return n*180/Math.PI}function rn(n,t,r){if(typeof n=="number"&&typeof t=="number")return n+(t-n)*r;if(n instanceof Z&&t instanceof Z||n instanceof _e&&t instanceof _e)return n.lerp(t,r);throw new Error(`Bad value for lerp(): ${n}, ${t}. Only number, Vec2 and Color is supported.`)}function Xn(n,t,r,l,u){return l+(n-t)/(r-t)*(u-l)}function Ew(n,t,r,l,u){return Kn(Xn(n,t,r,l,u),l,u)}var We,Z=(We=class{constructor(t=0,r=t){L(this,"x",0);L(this,"y",0);this.x=t,this.y=r}static fromAngle(t){let r=bt(t);return new We(Math.cos(r),Math.sin(r))}static fromArray(t){return new We(t[0],t[1])}clone(){return new We(this.x,this.y)}add(...t){let r=V(...t);return new We(this.x+r.x,this.y+r.y)}sub(...t){let r=V(...t);return new We(this.x-r.x,this.y-r.y)}scale(...t){let r=V(...t);return new We(this.x*r.x,this.y*r.y)}dist(...t){let r=V(...t);return this.sub(r).len()}sdist(...t){let r=V(...t);return this.sub(r).slen()}static sdist(t,r){let l=t.x-r.x,u=t.y-r.y;return l*l+u*u}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let t=this.len();return t===0?new We(0):this.scale(1/t)}normal(){return new We(this.y,-this.x)}reflect(t){return this.sub(t.scale(2*this.dot(t)))}project(t){return t.scale(t.dot(this)/t.len())}reject(t){return this.sub(this.project(t))}dot(t){return this.x*t.x+this.y*t.y}static dot(t,r){return t.x*r.x+t.y*r.y}cross(t){return this.x*t.y-this.y*t.x}static cross(t,r){return t.x*r.y-t.y*r.x}angle(...t){let r=V(...t);return va(Math.atan2(this.y-r.y,this.x-r.x))}angleBetween(...t){let r=V(...t);return va(Math.atan2(this.cross(r),this.dot(r)))}lerp(t,r){return new We(rn(this.x,t.x,r),rn(this.y,t.y,r))}slerp(t,r){let l=this.dot(t),u=this.cross(t),c=Math.atan2(u,l);return this.scale(Math.sin((1-r)*c)).add(t.scale(Math.sin(r*c))).scale(1/u)}isZero(){return this.x===0&&this.y===0}toFixed(t){return new We(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}transform(t){return t.multVec2(this)}eq(t){return this.x===t.x&&this.y===t.y}bbox(){return new nt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},L(We,"ZERO",new We(0,0)),L(We,"ONE",new We(1,1)),L(We,"LEFT",new We(-1,0)),L(We,"RIGHT",new We(1,0)),L(We,"UP",new We(0,-1)),L(We,"DOWN",new We(0,1)),We);function V(...n){if(n.length===1){if(n[0]instanceof Z)return new Z(n[0].x,n[0].y);if(Array.isArray(n[0])&&n[0].length===2)return new Z(...n[0])}return new Z(...n)}var ot=class Rf{constructor(t,r,l,u){L(this,"x",0);L(this,"y",0);L(this,"w",1);L(this,"h",1);this.x=t,this.y=r,this.w=l,this.h=u}scale(t){return new Rf(this.x+this.w*t.x,this.y+this.h*t.y,this.w*t.w,this.h*t.h)}pos(){return new Z(this.x,this.y)}clone(){return new Rf(this.x,this.y,this.w,this.h)}eq(t){return this.x===t.x&&this.y===t.y&&this.w===t.w&&this.h===t.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};function vt(n,t,r,l){return new ot(n,t,r,l)}var Ou=class Ar{constructor(t,r,l,u){L(this,"a");L(this,"b");L(this,"c");L(this,"d");this.a=t,this.b=r,this.c=l,this.d=u}mul(t){return new Ar(this.a*t.a+this.b*t.c,this.a*t.b+this.b*t.d,this.c*t.a+this.d*t.c,this.c*t.b+this.d*t.d)}transform(t){return V(this.a*t.x+this.b*t.y,this.c*t.x+this.d*t.y)}get inverse(){let t=this.det;return new Ar(this.d/t,-this.b/t,-this.c/t,this.a/t)}get transpose(){return new Ar(this.a,this.c,this.b,this.d)}get eigenvalues(){let t=this.trace/2,r=this.det,l=t+Math.sqrt(t*t-r),u=t-Math.sqrt(t*t-r);return[l,u]}eigenvectors(t,r){return this.c!=0?[[t-this.d,this.c],[r-this.d,this.c]]:this.b!=0?[[this.b,t-this.a],[this.b,r-this.a]]:Math.abs(this.transform(V(1,0)).x-t)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(t){let r=Math.cos(t),l=Math.sin(t);return new Ar(r,l,-l,r)}static scale(t,r){return new Ar(t,0,0,r)}},Ul=class Nl{constructor(t,r,l,u,c,h,g,p,d){L(this,"m11");L(this,"m12");L(this,"m13");L(this,"m21");L(this,"m22");L(this,"m23");L(this,"m31");L(this,"m32");L(this,"m33");this.m11=t,this.m12=r,this.m13=l,this.m21=u,this.m22=c,this.m23=h,this.m31=g,this.m32=p,this.m33=d}static fromMat2(t){return new Nl(t.a,t.b,0,t.c,t.d,0,0,0,1)}toMat2(){return new Ou(this.m11,this.m12,this.m21,this.m22)}mul(t){return new Nl(this.m11*t.m11+this.m12*t.m21+this.m13*t.m31,this.m11*t.m12+this.m12*t.m22+this.m13*t.m32,this.m11*t.m13+this.m12*t.m23+this.m13*t.m33,this.m21*t.m11+this.m22*t.m21+this.m23*t.m31,this.m21*t.m12+this.m22*t.m22+this.m23*t.m32,this.m21*t.m13+this.m22*t.m23+this.m23*t.m33,this.m31*t.m11+this.m32*t.m21+this.m33*t.m31,this.m31*t.m12+this.m32*t.m22+this.m33*t.m32,this.m31*t.m13+this.m32*t.m23+this.m33*t.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(t){let r=Math.cos(t),l=Math.sin(t),u=this.m11,c=this.m12;return this.m11=r*this.m11+l*this.m21,this.m12=r*this.m12+l*this.m22,this.m21=r*this.m21-l*u,this.m22=r*this.m22-l*c,this}scale(t,r){return this.m11*=t,this.m12*=t,this.m21*=r,this.m22*=r,this}get inverse(){let t=this.det;return new Nl((this.m22*this.m33-this.m23*this.m32)/t,(this.m13*this.m32-this.m12*this.m33)/t,(this.m12*this.m23-this.m13*this.m22)/t,(this.m23*this.m31-this.m21*this.m33)/t,(this.m11*this.m33-this.m13*this.m31)/t,(this.m13*this.m21-this.m11*this.m23)/t,(this.m21*this.m32-this.m22*this.m31)/t,(this.m12*this.m31-this.m11*this.m32)/t,(this.m11*this.m22-this.m12*this.m21)/t)}get transpose(){return new Nl(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},Zn=class ci{constructor(t){L(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);t&&(this.m=t)}static translate(t){return new ci([1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,0,1])}static scale(t){return new ci([t.x,0,0,0,0,t.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(t){t=bt(-t);let r=Math.cos(t),l=Math.sin(t);return new ci([1,0,0,0,0,r,-l,0,0,l,r,0,0,0,0,1])}static rotateY(t){t=bt(-t);let r=Math.cos(t),l=Math.sin(t);return new ci([r,0,l,0,0,1,0,0,-l,0,r,0,0,0,0,1])}static rotateZ(t){t=bt(-t);let r=Math.cos(t),l=Math.sin(t);return new ci([r,-l,0,0,l,r,0,0,0,0,1,0,0,0,0,1])}translate(t){return this.m[12]+=this.m[0]*t.x+this.m[4]*t.y,this.m[13]+=this.m[1]*t.x+this.m[5]*t.y,this.m[14]+=this.m[2]*t.x+this.m[6]*t.y,this.m[15]+=this.m[3]*t.x+this.m[7]*t.y,this}scale(t){return this.m[0]*=t.x,this.m[4]*=t.y,this.m[1]*=t.x,this.m[5]*=t.y,this.m[2]*=t.x,this.m[6]*=t.y,this.m[3]*=t.x,this.m[7]*=t.y,this}rotate(t){t=bt(-t);let r=Math.cos(t),l=Math.sin(t),u=this.m[0],c=this.m[1],h=this.m[4],g=this.m[5];return this.m[0]=u*r+c*l,this.m[1]=-u*l+c*r,this.m[4]=h*r+g*l,this.m[5]=-h*l+g*r,this}mult(t){let r=[];for(let l=0;l<4;l++)for(let u=0;u<4;u++)r[l*4+u]=this.m[0*4+u]*t.m[l*4+0]+this.m[1*4+u]*t.m[l*4+1]+this.m[2*4+u]*t.m[l*4+2]+this.m[3*4+u]*t.m[l*4+3];return new ci(r)}multVec2(t){return new Z(t.x*this.m[0]+t.y*this.m[4]+this.m[12],t.x*this.m[1]+t.y*this.m[5]+this.m[13])}getTranslation(){return new Z(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],r=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(r,t/r)}else if(this.m[4]!=0||this.m[5]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],r=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(t/r,r)}else return new Z(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return va(this.m[1]>0?Math.acos(this.m[0]/t):-Math.acos(this.m[0]/t))}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return va(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/t):-Math.acos(this.m[4]/t)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t),0)}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t))}else return new Z(0,0)}invert(){let t=[],r=this.m[10]*this.m[15]-this.m[14]*this.m[11],l=this.m[9]*this.m[15]-this.m[13]*this.m[11],u=this.m[9]*this.m[14]-this.m[13]*this.m[10],c=this.m[8]*this.m[15]-this.m[12]*this.m[11],h=this.m[8]*this.m[14]-this.m[12]*this.m[10],g=this.m[8]*this.m[13]-this.m[12]*this.m[9],p=this.m[6]*this.m[15]-this.m[14]*this.m[7],d=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],E=this.m[4]*this.m[15]-this.m[12]*this.m[7],m=this.m[4]*this.m[14]-this.m[12]*this.m[6],S=this.m[5]*this.m[15]-this.m[13]*this.m[7],b=this.m[4]*this.m[13]-this.m[12]*this.m[5],O=this.m[6]*this.m[11]-this.m[10]*this.m[7],x=this.m[5]*this.m[11]-this.m[9]*this.m[7],M=this.m[5]*this.m[10]-this.m[9]*this.m[6],_=this.m[4]*this.m[11]-this.m[8]*this.m[7],X=this.m[4]*this.m[10]-this.m[8]*this.m[6],ie=this.m[4]*this.m[9]-this.m[8]*this.m[5];t[0]=this.m[5]*r-this.m[6]*l+this.m[7]*u,t[4]=-(this.m[4]*r-this.m[6]*c+this.m[7]*h),t[8]=this.m[4]*l-this.m[5]*c+this.m[7]*g,t[12]=-(this.m[4]*u-this.m[5]*h+this.m[6]*g),t[1]=-(this.m[1]*r-this.m[2]*l+this.m[3]*u),t[5]=this.m[0]*r-this.m[2]*c+this.m[3]*h,t[9]=-(this.m[0]*l-this.m[1]*c+this.m[3]*g),t[13]=this.m[0]*u-this.m[1]*h+this.m[2]*g,t[2]=this.m[1]*p-this.m[2]*d+this.m[3]*v,t[6]=-(this.m[0]*p-this.m[2]*E+this.m[3]*m),t[10]=this.m[0]*S-this.m[1]*E+this.m[3]*b,t[14]=-(this.m[0]*v-this.m[1]*m+this.m[2]*b),t[3]=-(this.m[1]*O-this.m[2]*x+this.m[3]*M),t[7]=this.m[0]*O-this.m[2]*_+this.m[3]*X,t[11]=-(this.m[0]*x-this.m[1]*_+this.m[3]*ie),t[15]=this.m[0]*M-this.m[1]*X+this.m[2]*ie;let k=this.m[0]*t[0]+this.m[1]*t[4]+this.m[2]*t[8]+this.m[3]*t[12];for(let q=0;q<4;q++)for(let B=0;B<4;B++)t[q*4+B]*=1/k;return new ci(t)}clone(){return new ci([...this.m])}toString(){return this.m.toString()}};function Ay(n,t,r,l=u=>-Math.cos(u)){return n+(l(r)+1)/2*(t-n)}var Sw=1103515245,Mw=12345,Rg=2147483648,wy=class{constructor(n){L(this,"seed");this.seed=n}gen(){return this.seed=(Sw*this.seed+Mw)%Rg,this.seed/Rg}genNumber(n,t){return n+this.gen()*(t-n)}genVec2(n,t){return new Z(this.genNumber(n.x,t.x),this.genNumber(n.y,t.y))}genColor(n,t){return new _e(this.genNumber(n.r,t.r),this.genNumber(n.g,t.g),this.genNumber(n.b,t.b))}genAny(...n){if(n.length===0)return this.gen();if(n.length===1){if(typeof n[0]=="number")return this.genNumber(0,n[0]);if(n[0]instanceof Z)return this.genVec2(V(0,0),n[0]);if(n[0]instanceof _e)return this.genColor(Xe(0,0,0),n[0])}else if(n.length===2){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.genNumber(n[0],n[1]);if(n[0]instanceof Z&&n[1]instanceof Z)return this.genVec2(n[0],n[1]);if(n[0]instanceof _e&&n[1]instanceof _e)return this.genColor(n[0],n[1])}throw new Error("More than 2 arguments not supported")}},Of=new wy(Date.now());function Tw(n){return n!=null&&(Of.seed=n),Of.seed}function Ct(...n){return Of.genAny(...n)}function xy(...n){return Math.floor(Ct(...n.length>0?n:[2]))}function Rw(n){return Ct()<=n}function Ey(n){for(let t=n.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[n[t],n[r]]=[n[r],n[t]]}return n}function Ow(n,t){return n.length<=t?n.slice():Ey(n.slice()).slice(0,t)}function Cw(n){return n[xy(n.length)]}function Sy(n,t){return n.pos.x+n.width>t.pos.x&&n.pos.x<t.pos.x+t.width&&n.pos.y+n.height>t.pos.y&&n.pos.y<t.pos.y+t.height}function qw(n,t){if(n.p1.x===n.p2.x&&n.p1.y===n.p2.y||t.p1.x===t.p2.x&&t.p1.y===t.p2.y)return null;let r=(t.p2.y-t.p1.y)*(n.p2.x-n.p1.x)-(t.p2.x-t.p1.x)*(n.p2.y-n.p1.y);if(r===0)return null;let l=((t.p2.x-t.p1.x)*(n.p1.y-t.p1.y)-(t.p2.y-t.p1.y)*(n.p1.x-t.p1.x))/r,u=((n.p2.x-n.p1.x)*(n.p1.y-t.p1.y)-(n.p2.y-n.p1.y)*(n.p1.x-t.p1.x))/r;return l<0||l>1||u<0||u>1?null:l}function rh(n,t){let r=qw(n,t);return r?V(n.p1.x+r*(n.p2.x-n.p1.x),n.p1.y+r*(n.p2.y-n.p1.y)):null}function lh(n,t){let r=t.p2.sub(t.p1),l=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(r.x!=0){let c=(n.pos.x-t.p1.x)/r.x,h=(n.pos.x+n.width-t.p1.x)/r.x;l=Math.max(l,Math.min(c,h)),u=Math.min(u,Math.max(c,h))}if(r.y!=0){let c=(n.pos.y-t.p1.y)/r.y,h=(n.pos.y+n.height-t.p1.y)/r.y;l=Math.max(l,Math.min(c,h)),u=Math.min(u,Math.max(c,h))}return u>=l&&u>=0&&l<=1}function ju(n,t){return t.x>n.pos.x&&t.x<n.pos.x+n.width&&t.y>n.pos.y&&t.y<n.pos.y+n.height}function My(n,t){let r=Math.max(n.pos.x,Math.min(t.center.x,n.pos.x+n.width)),l=Math.max(n.pos.y,Math.min(t.center.y,n.pos.y+n.height));return V(r,l).sdist(t.center)<=t.radius*t.radius}function Ty(n,t){return Ry(t,new Zt(n.points()))}function sh(n,t){let r=t.sub(n.p1),l=n.p2.sub(n.p1);if(Math.abs(r.cross(l))>Number.EPSILON)return!1;let u=r.dot(l)/l.dot(l);return u>=0&&u<=1}function $l(n,t){let r=n.p2.sub(n.p1),l=r.dot(r),u=n.p1.sub(t.center),c=2*r.dot(u),h=u.dot(u)-t.radius*t.radius,g=c*c-4*l*h;if(l<=Number.EPSILON||g<0)return!1;if(g==0){let p=-c/(2*l);if(p>=0&&p<=1)return!0}else{let p=(-c+Math.sqrt(g))/(2*l),d=(-c-Math.sqrt(g))/(2*l);if(p>=0&&p<=1||d>=0&&d<=1)return!0}return Vu(t,n.p1)}function uh(n,t){if(Zi(t,n.p1)||Zi(t,n.p2))return!0;for(let r=0;r<t.pts.length;r++){let l=t.pts[r],u=t.pts[(r+1)%t.pts.length];if(rh(n,new sn(l,u)))return!0}return!1}function Vu(n,t){return n.center.sdist(t)<n.radius*n.radius}function Dw(n,t){return n.center.sdist(t.center)<(n.radius+t.radius)*(n.radius+t.radius)}function Xu(n,t){let r=t.pts[t.pts.length-1];for(let l of t.pts){if($l(new sn(r,l),n))return!0;r=l}return Vu(n,t.pts[0])?!0:Zi(t,n.center)}function Ry(n,t){for(let r=0;r<n.pts.length;r++)if(uh(new sn(n.pts[r],n.pts[(r+1)%n.pts.length]),t))return!0;return!!(n.pts.some(r=>Zi(t,r))||t.pts.some(r=>Zi(n,r)))}function Zi(n,t){let r=!1,l=n.pts;for(let u=0,c=l.length-1;u<l.length;c=u++)l[u].y>t.y!=l[c].y>t.y&&t.x<(l[c].x-l[u].x)*(t.y-l[u].y)/(l[c].y-l[u].y)+l[u].x&&(r=!r);return r}function oh(n,t){t=t.sub(n.center);let r=bt(n.angle),l=Math.cos(r),u=Math.sin(r),c=t.x*l+t.y*u,h=-t.x*u+t.y*l;return c*c/(n.radiusX*n.radiusX)+h*h/(n.radiusY*n.radiusY)<1}function Cu(n,t){let r=t.center.sub(n.center),l=bt(n.angle),u=Math.cos(l),c=Math.sin(l),h=r.x*u+r.y*c,g=-r.x*c+r.y*u;return oh(new pi(V(),n.radiusX+t.radius,n.radiusY+t.radius,0),V(h,g))}function Oy(n,t){let r=n.toMat2().inverse;return t=new sn(r.transform(t.p1.sub(n.center)),r.transform(t.p2.sub(n.center))),$l(t,new ln(V(),1))}function Bw(n,t){if(n.radiusX===n.radiusY)return Cu(t,new ln(n.center,n.radiusX));if(t.radiusX===t.radiusY)return Cu(n,new ln(t.center,t.radiusX));let r=new Ul(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),l=new Ul(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),u=n.center.x,c=n.center.y,h=t.center.x,g=t.center.y,p=bt(n.angle),d=bt(t.angle),v=new Ul(Math.cos(p),-Math.sin(p),u,Math.sin(p),Math.cos(p),c,0,0,1),E=new Ul(Math.cos(d),-Math.sin(d),h,Math.sin(d),Math.cos(d),g,0,0,1),m=v.inverse,S=E.inverse,b=m.transpose.mul(r).mul(m),O=S.transpose.mul(l).mul(S),x=b.m11,M=b.m12,_=b.m13,X=b.m21,ie=b.m22,k=b.m23,q=b.m31,B=b.m32,H=b.m33,W=O.m11,ne=O.m12,ae=O.m13,ue=O.m21,pe=O.m22,we=O.m23,ve=O.m31,z=O.m32,ee=O.m33,le=x*ie*H-x*k*B-M*X*H+M*k*q+_*X*B-_*ie*q,ce=(x*ie*ee-x*k*z-x*B*we+x*H*pe-M*X*ee+M*k*ve+M*q*we-M*H*ue+_*X*z-_*ie*ve-_*q*pe+_*B*ue+X*B*ae-X*H*ne-ie*q*ae+ie*H*W+k*q*ne-k*B*W)/le,T=(x*pe*ee-x*we*z-M*ue*ee+M*we*ve+_*ue*z-_*pe*ve-X*ne*ee+X*ae*z+ie*W*ee-ie*ae*ve-k*W*z+k*ne*ve+q*ne*we-q*ae*pe-B*W*we+B*ae*ue+H*W*pe-H*ne*ue)/le,K=(W*pe*ee-W*we*z-ne*ue*ee+ne*we*ve+ae*ue*z-ae*pe*ve)/le;if(ce>=0){let te=-3*T+ce**2,re=3*ce*K+T*ce**2-4*T**2,fe=-27*K**2+18*K*ce*T+ce**2*T**2-4*ce**3*K-4*T**3;return!(te>0&&re<0&&fe>0)}else{let te=-3*T+ce**2,re=-27*K**2+18*K*ce*T+ce**2*T**2-4*ce**3*K-4*T**3;return!(te>0&&re>0)}}function Cy(n,t){return ch(n,new Zt(t.points()))}function ch(n,t){let r=n.toMat2().inverse;return t=new Zt(t.pts.map(l=>r.transform(l.sub(n.center)))),Xu(new ln(V(),1),t)}function _w(n,t){return n.x===t.x&&n.y===t.y}function Uw(n,t){return t instanceof Z?_w(t,n.pt):t instanceof ln?Vu(t,n.pt):t instanceof sn?sh(t,n.pt):t instanceof nt?ju(t,n.pt):t instanceof Zt?Zi(t,n.pt):t instanceof pi?oh(t,n.pt):!1}function Nw(n,t){return t instanceof Z?sh(n,t):t instanceof ln?$l(n,t):t instanceof sn?rh(n,t)!=null:t instanceof nt?lh(t,n):t instanceof Zt?uh(n,t):t instanceof pi?Oy(t,n):!1}function zw(n,t){return t instanceof Z?Vu(n,t):t instanceof ln?Dw(n,t):t instanceof sn?$l(t,n):t instanceof nt?My(t,n):t instanceof Zt?Xu(n,t):t instanceof pi?Cu(t,n):!1}function Lw(n,t){return t instanceof Z?ju(n,t):t instanceof ln?My(n,t):t instanceof sn?lh(n,t):t instanceof nt?Sy(n,t):t instanceof Zt?Ty(n,t):t instanceof pi?Cy(t,n):!1}function Hw(n,t){return t instanceof Z?Zi(n,t):t instanceof ln?Xu(t,n):t instanceof sn?uh(t,n):t instanceof nt?Ty(t,n):t instanceof Zt?Ry(t,n):t instanceof pi?ch(t,n):!1}function Gw(n,t){return t instanceof Z?oh(n,t):t instanceof ln?Cu(n,t):t instanceof sn?Oy(n,t):t instanceof nt?Cy(n,t):t instanceof Zt?ch(n,t):t instanceof pi?Bw(t,n):!1}function qy(n,t,r){let l=n,u=r.p1,c=r.p2,h=t,g=c.sub(u),p=h.cross(g);if(Math.abs(p)<Number.EPSILON)return null;let d=u.sub(l),v=d.cross(g)/p;if(v<=0||v>=1)return null;let E=d.cross(h)/p;if(E<=0||E>=1)return null;let m=g.normal().unit();return t.dot(m)>0&&(m.x*=-1,m.y*=-1),{point:l.add(h.scale(v)),normal:m,fraction:v}}function Yw(n,t,r){let l=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,c;if(n.x!=0){let h=(r.pos.x-n.x)/t.x,g=(r.pos.x+r.width-n.x)/t.x;c=V(-Math.sign(t.x),0),l=Math.max(l,Math.min(h,g)),u=Math.min(u,Math.max(h,g))}if(n.y!=0){let h=(r.pos.y-n.y)/t.y,g=(r.pos.y+r.height-n.y)/t.y;Math.min(h,g)>l&&(c=V(0,-Math.sign(t.y))),l=Math.max(l,Math.min(h,g)),u=Math.min(u,Math.max(h,g))}return u>=l&&l>=0&&l<=1?{point:n.add(t.scale(l)),normal:c,fraction:l}:null}function Dy(n,t,r){let l=n,u=r.center,c=t,h=c.dot(c),g=l.sub(u),p=2*c.dot(g),d=g.dot(g)-r.radius*r.radius,v=p*p-4*h*d;if(h<=Number.EPSILON||v<0)return null;if(v==0){let E=-p/(2*h);if(E>=0&&E<=1){let m=l.add(c.scale(E));return{point:m,normal:m.sub(u),fraction:E}}}else{let E=(-p+Math.sqrt(v))/(2*h),m=(-p-Math.sqrt(v))/(2*h),S=null;if(E>=0&&E<=1&&(S=E),m>=0&&m<=1&&(S=Math.min(m,S??m)),S!=null){let b=l.add(c.scale(S));return{point:b,normal:b.sub(u).unit(),fraction:S}}}return null}function jw(n,t,r){let l=r.pts,u=null,c=l[l.length-1];for(let h=0;h<l.length;h++){let g=l[h],p=qy(n,t,new sn(c,g));p&&(!u||u.fraction>p.fraction)&&(u=p),c=g}return u}function Vw(n,t,r){let l=r.toMat2(),u=l.inverse,c=u.transform(n.sub(r.center)),h=u.transform(t),g=Dy(c,h,new ln(V(),1));if(g){let p=Ou.rotation(bt(-r.angle)),d=Ou.scale(r.radiusX,r.radiusY).transform(g.point),v=l.transform(g.point).add(r.center),E=v.dist(n)/t.len();return{point:v,normal:p.transform(V(r.radiusY**2*d.x,r.radiusX**2*d.y)).unit(),fraction:E}}return g}function Xw(n,t,r,l=64){let u=n,c=t.len(),h=t.scale(1/c),g=0,p=V(Math.floor(n.x),Math.floor(n.y)),d=V(h.x>0?1:-1,h.y>0?1:-1),v=V(Math.abs(1/h.x),Math.abs(1/h.y)),E=V(d.x>0?p.x+1-n.x:n.x-p.x,d.y>0?p.y+1-n.y:n.y-p.y),m=V(v.x<1/0?v.x*E.x:1/0,v.y<1/0?v.y*E.y:1/0),S=-1;for(;g<=l;){let b=r(p);if(b===!0)return{point:u.add(h.scale(g)),normal:V(S===0?-d.x:0,S===1?-d.y:0),fraction:g/c,gridPos:p};if(b)return b;m.x<m.y?(p.x+=d.x,g=m.x,m.x+=v.x,S=0):(p.y+=d.y,g=m.y,m.y+=v.y,S=1)}return null}var Qw=class Cf{constructor(t){L(this,"pt");this.pt=t.clone()}transform(t){return new Cf(t.multVec2(this.pt))}bbox(){return new nt(this.pt,0,0)}area(){return 0}clone(){return new Cf(this.pt)}collides(t){return Uw(this,t)}contains(t){return this.pt.eq(t)}raycast(t,r){return null}random(){return this.pt.clone()}},sn=class qf{constructor(t,r){L(this,"p1");L(this,"p2");this.p1=t.clone(),this.p2=r.clone()}transform(t){return new qf(t.multVec2(this.p1),t.multVec2(this.p2))}bbox(){return nt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new qf(this.p1,this.p2)}collides(t){return Nw(this,t)}contains(t){return this.collides(t)}raycast(t,r){return qy(t,r,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(Ct(1)))}},nt=class Df{constructor(t,r,l){L(this,"pos");L(this,"width");L(this,"height");this.pos=t.clone(),this.width=r,this.height=l}static fromPoints(t,r){return new Df(t.clone(),r.x-t.x,r.y-t.y)}center(){return new Z(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(t){return new Zt(this.points().map(r=>t.multVec2(r)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new Df(this.pos.clone(),this.width,this.height)}distToPoint(t){return Math.sqrt(this.sdistToPoint(t))}sdistToPoint(t){let r=this.pos,l=this.pos.add(this.width,this.height),u=Math.max(r.x-t.x,0,t.x-l.x),c=Math.max(r.y-t.y,0,t.y-l.y);return u*u+c*c}collides(t){return Lw(this,t)}contains(t){return this.collides(t)}raycast(t,r){return Yw(t,r,this)}random(){return this.pos.add(Ct(this.width),Ct(this.height))}},ln=class By{constructor(t,r){L(this,"center");L(this,"radius");this.center=t.clone(),this.radius=r}transform(t){return new pi(this.center,this.radius,this.radius).transform(t)}bbox(){return nt.fromPoints(this.center.sub(V(this.radius)),this.center.add(V(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new By(this.center,this.radius)}collides(t){return zw(this,t)}contains(t){return this.collides(t)}raycast(t,r){return Dy(t,r,this)}random(){return this.center.add(Z.fromAngle(Ct(360)).scale(Ct(this.radius)))}},pi=class wr{constructor(t,r,l,u=0){L(this,"center");L(this,"radiusX");L(this,"radiusY");L(this,"angle");this.center=t.clone(),this.radiusX=r,this.radiusY=l,this.angle=u}static fromMat2(t){let r=t.inverse,l=r.transpose.mul(r),[u,c]=l.eigenvalues,[h,g]=l.eigenvectors(u,c),[p,d]=[1/Math.sqrt(u),1/Math.sqrt(c)];return p>d?new wr(V(),p,d,va(Math.atan2(-h[1],h[0]))):new wr(V(),d,p,va(Math.atan2(-g[1],g[0])))}toMat2(){let t=bt(this.angle),r=Math.cos(t),l=Math.sin(t);return new Ou(r*this.radiusX,-l*this.radiusY,l*this.radiusX,r*this.radiusY)}transform(t){if(this.angle==0&&t.getRotation()==0)return new wr(t.multVec2(this.center),t.m[0]*this.radiusX,t.m[5]*this.radiusY);{let r=this.toMat2(),l=t.getRotation(),u=t.getScale();r=Ul.fromMat2(r).scale(u.x,u.y).rotate(l).toMat2();let c=wr.fromMat2(r);return c.center=t.multVec2(this.center),c}}bbox(){if(this.angle==0)return nt.fromPoints(this.center.sub(V(this.radiusX,this.radiusY)),this.center.add(V(this.radiusX,this.radiusY)));{let t=bt(this.angle),r=Math.cos(t),l=Math.sin(t),u=this.radiusX*r,c=this.radiusX*l,h=this.radiusY*l,g=this.radiusY*r,p=Math.sqrt(u*u+h*h),d=Math.sqrt(c*c+g*g);return nt.fromPoints(this.center.sub(V(p,d)),this.center.add(V(p,d)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new wr(this.center,this.radiusX,this.radiusY,this.angle)}collides(t){return Gw(this,t)}contains(t){t=t.sub(this.center);let r=bt(this.angle),l=Math.cos(r),u=Math.sin(r),c=t.x*l+t.y*u,h=-t.x*u+t.y*l;return c*c/(this.radiusX*this.radiusX)+h*h/(this.radiusY*this.radiusY)<1}raycast(t,r){return Vw(t,r,this)}random(){return this.center}};function Kw(n,t,r,l){let u=t.sub(n),c=l.sub(r),h=u.cross(c);return h<1e-5&&h>-1e-5||(h=r.sub(n).cross(c)/h,h<0||h>1)?null:n.add(u.scale(h))}var Zt=class zl{constructor(t){L(this,"pts");if(t.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=t}transform(t){return new zl(this.pts.map(r=>t.multVec2(r)))}bbox(){let t=V(Number.MAX_VALUE),r=V(-Number.MAX_VALUE);for(let l of this.pts)t.x=Math.min(t.x,l.x),r.x=Math.max(r.x,l.x),t.y=Math.min(t.y,l.y),r.y=Math.max(r.y,l.y);return nt.fromPoints(t,r)}area(){let t=0,r=this.pts.length;for(let l=0;l<r;l++){let u=this.pts[l],c=this.pts[(l+1)%r];t+=u.x*c.y*.5,t-=c.x*u.y*.5}return Math.abs(t)}clone(){return new zl(this.pts.map(t=>t.clone()))}collides(t){return Hw(this,t)}contains(t){return this.collides(t)}raycast(t,r){return jw(t,r,this)}random(){return V()}cut(t,r){new sn(t,r);let l=[],u=[],c=r.sub(t),h=this.pts[this.pts.length-1],g=h.sub(t),p=c.cross(g)>0;return this.pts.forEach(d=>{g=d.sub(t);let v=c.cross(g)>0;if(p!=v){let E=Kw(h,d,t,r);l.push(E),u.push(E),p=v}(v?l:u).push(d),h=d}),[l.length?new zl(l):null,u.length?new zl(u):null]}};function Zw(n,t,r,l){let u=l*l,c=1-l,h=c*c;return n.scale(h).add(t.scale(2*c*l)).add(r.scale(u))}function Fw(n,t,r,l){let u=1-l;return t.sub(n).scale(2*u).add(r.sub(t).scale(2*l))}function kw(n,t,r,l){return r.sub(t.scale(2)).add(n).scale(2)}function fh(n,t,r,l,u){let c=u*u,h=c*u,g=1-u,p=g*g,d=p*g;return n.scale(d).add(t.scale(3*p*u)).add(r.scale(3*g*c)).add(l.scale(h))}function Jw(n,t,r,l,u){let c=u*u,h=1-u,g=h*h;return t.sub(n).scale(3*g).add(r.sub(t).scale(6*h*u)).add(l.sub(r).scale(3*c))}function Pw(n,t,r,l,u){let c=1-u;return r.sub(t.scale(2)).add(n).scale(6*c).add(l.sub(r.scale(2)).add(t).scale(6*u))}function Iw(n,t,r,l,u){let c=.5*(((-u+2)*u-1)*u),h=.5*((3*u-5)*u*u+2),g=.5*(((-3*u+4)*u+1)*u),p=.5*((u-1)*u*u);return n.scale(c).add(t.scale(h)).add(r.scale(g)).add(l.scale(p))}function Ww(n,t,r,l,u){let c=.5*((-3*u+4)*u-1),h=.5*((9*u-10)*u),g=.5*((-9*u+8)*u+1),p=.5*((3*u-2)*u);return n.scale(c).add(t.scale(h)).add(r.scale(g)).add(l.scale(p))}function $w(n){let t=_y(n),r=t(1);return l=>{let u=l*r,c=t(u,!0);return n(c)}}function _y(n,t=10,r=10){let l=[0],u=[0],c=1/(t-1)/r,h=0,g=n(0),p=0;for(let d=1;d<t;d++){for(let v=0;v<r;v++){p+=c;let E=n(p),m=E.dist(g);h+=m,g=E}l[d]=h,u[d]=p}return u[t-1]=1,(d,v=!1)=>{if(v){let E=d;if(E<=0)return 0;if(E>=h)return 1;let m=0;for(;l[m+1]<E;)m++;let S=u[m],b=u[m+1],O=l[m],x=l[m+1],M=(E-O)/(x-O);return S+(b-S)*M}else{if(d<=0)return 0;if(d>=1)return l[t-1];let E=0;for(;u[E+1]<d;)E++;let m=u[E],S=u[E+1],b=l[E],O=l[E+1],x=(d-m)/(S-m);return b+(O-b)*x}}}function es(n,t,r,l){let u=2*n+t-2*l+r,c=-3*n+3*l-2*t-r,h=t,g=n;return p=>{let d=p*p,v=d*p;return u*v+c*d+h*p+g}}function Uy(n,t,r,l,u,c=es){let h=c(t.x,(1-u)*(r.x-n.x),(1-u)*(l.x-t.x),r.x),g=c(t.y,(1-u)*(r.y-n.y),(1-u)*(l.y-t.y),r.y);return p=>new Z(h(p),g(p))}function qu(n,t,r,l,u=es){return Uy(n,t,r,l,.5,u)}function e2(n,t,r,l,u=es){return qu(l.add(n.sub(t).scale(6)),n,l,n.add(l.sub(r).scale(6)),u)}function t2(n,t,r,l,u,c,h,g=es){let p=g(t.x,.5*(1-u)*(1+h)*(1+c)*(t.x-n.x)+.5*(1-u)*(1-h)*(1-c)*(r.x-t.x),.5*(1-u)*(1+h)*(1-c)*(r.x-t.x)+.5*(1-u)*(1-h)*(1+c)*(l.x-r.x),r.x),d=g(t.y,.5*(1-u)*(1+h)*(1+c)*(t.y-n.y)+.5*(1-u)*(1-h)*(1-c)*(r.y-t.y),.5*(1-u)*(1+h)*(1-c)*(r.y-t.y)+.5*(1-u)*(1-h)*(1+c)*(l.y-r.y),r.y);return v=>new Z(p(v),d(v))}function n2(n,t,r,l){let u=2*n+t-2*l+r,c=-3*n+3*l-2*t+r,h=t;return g=>{let p=g*g;return 3*u*p+2*c*g+h}}function Dl(n){return 0<=n&&n<=1}function mf(n,t){return Math.abs(n-t)<=Number.EPSILON}function Bl(n){return n<0?-Math.pow(-n,1/3):Math.pow(n,1/3)}function i2(n,t,r,l){let u=3*n-6*t+3*r,c=-3*n+3*t,h=n,g=-n+3*t-3*r+l;if(mf(g,0)){if(mf(u,0))return mf(c,0)?[]:[-h/c].filter(Dl);let x=Math.sqrt(c*c-4*u*h),M=2*u;return[(x-c)/M,(-c-x)/M].filter(Dl)}u/=g,c/=g,h/=g;let p=(3*c-u*u)/3,d=p/3,v=(2*u*u*u-9*u*c+27*h)/27,E=v/2,m=E*E+d*d*d;if(m<0){let x=-p/3,M=x*x*x,_=Math.sqrt(M),X=-v/(2*_),ie=X<-1?-1:X>1?1:X,k=Math.acos(ie),q=2*Bl(_),B=q*Math.cos(k/3)-u/3,H=q*Math.cos((k+2*Math.PI)/3)-u/3,W=q*Math.cos((k+4*Math.PI)/3)-u/3;return[B,H,W].filter(Dl)}if(m===0){let x=E<0?Bl(-E):-Bl(E),M=2*x-u/3,_=-x-u/3;return[M,_].filter(Dl)}let S=Math.sqrt(m),b=Bl(S-E),O=Bl(S+E);return[b-O-u/3].filter(Dl)}function a2(n,t,r,l,u){let c=i2(n.x-u,t.x-u,r.x-u,l.x-u);return c.length>0?fh(n,t,r,l,c[0]).y:NaN}function r2(n){if(!n||n.length==0)throw new Error("Need at least one point for easingLinear.");let t=n.length;return r=>{if(r<=0||n.length==1||r<=n[0].x)return n[0].y;for(let l=0;l<t;l++)if(n[l].x>=r)return Xn(r,n[l-1].x,n[l].x,n[l-1].y,n[l].y);return n[n.length-1].y}}function l2(n,t){return r=>a2(V(0,0),n,t,V(1,1),r)}function s2(n,t="jump-end"){let r=1/n,l=t=="jump-start"||t=="jump-both",u=t=="jump-end"||t=="jump-both",c=1/(n+(u?1:0)),h=l?c:0;return g=>{let p=Math.floor(g/r);return h+p*c}}function u2(n,t){let r=Number.MAX_VALUE,l={normal:V(0),distance:0};for(let u of[n,t])for(let c=0;c<u.pts.length;c++){let h=u.pts[c],g=u.pts[(c+1)%u.pts.length].sub(h).normal().unit(),p=Number.MAX_VALUE,d=-Number.MAX_VALUE;for(let S=0;S<n.pts.length;S++){let b=n.pts[S].dot(g);p=Math.min(p,b),d=Math.max(d,b)}let v=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let S=0;S<t.pts.length;S++){let b=t.pts[S].dot(g);v=Math.min(v,b),E=Math.max(E,b)}let m=Math.min(d,E)-Math.max(p,v);if(m<0)return null;if(m<Math.abs(r)){let S=E-p,b=v-d;r=Math.abs(S)<Math.abs(b)?S:b,l.normal=g,l.distance=r}}return l}function Ny(n,t,r){return(t.x-n.x)*(r.y-n.y)-(t.y-n.y)*(r.x-n.x)>=0}function o2(n){let t=0,r=n[n.length-1];for(let l=0;l<n.length;l++)t+=(n[l].x-r.x)*(n[l].y+r.y),r=n[l];return t<0}function gf(n,t,r,l){let u=l.x-r.x,c=l.y-r.y,h=u*(n.y-r.y)-c*(n.x-r.x),g=u*(t.y-r.y)-c*(t.x-r.x);return h*g>=0}function c2(n,t,r,l){return gf(n,t,r,l)&&gf(n,r,t,l)&&gf(n,l,t,r)}function f2(n,t,r,l){for(let u of n)if(u!==t&&u!==r&&u!==l&&c2(u,t,r,l))return!0;return!1}function h2(n,t,r,l){return Ny(n,t,r)&&!f2(l,n,t,r)}function zy(n){if(n.length<3)return[];if(n.length==3)return[n];let t=[],r=[],l=0;for(let E=0;E<n.length;E++){let m=n[l],S=n[E];(S.x<m.x||S.x==m.x&&S.y<m.y)&&(l=l),t[E]=E+1,r[E]=E-1}t[t.length-1]=0,r[0]=r.length-1,o2(n)||([t,r]=[r,t]);let u=[];for(let E=0;E<n.length;++E)Ny(n[r[E]],n[E],n[t[E]])||u.push(n[E]);let c=[],h=n.length,g=1,p=0,d,v;for(;h>3;){d=t[g],v=r[g];let E=n[v],m=n[g],S=n[d];if(h2(E,m,S,u))c.push([E,m,S]),t[v]=d,r[d]=v,u.splice(u.indexOf(m),1),--h,p=0;else if(++p>h)return[];g=d}return d=t[g],v=r[g],c.push([n[v],n[g],n[d]]),c}function d2(n){if(n.length<3)return!1;let t=n.length-2,r=n.length-1,l=0,u=n[r].sub(n[t]),c=n[l].sub(n[r]),h=u.cross(c);for(;l+1<n.length;)if(t=r,r=l,l++,u=n[r].sub(n[t]),c=n[l].sub(n[r]),u.cross(c)*h<0)return!1;return!0}var Ly=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Qu="topleft",p2="monospace",Du="monospace",Bf="linear",hh=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],m2=hh.reduce((n,t)=>n+t.size,0),Hy=2048,g2=Hy*4*m2,y2=Hy*6,v2=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,b2=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,_f=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Uf=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,A2=new Set(["id","require"]),w2=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Og=200,x2=640,E2=65536,Gy=Symbol.for("kaplay.cancel"),Yy=class extends Map{constructor(){super(...arguments);L(this,"lastID",0)}push(t){let r=this.lastID;return this.set(r,t),this.lastID++,r}pushd(t){let r=this.push(t);return()=>this.delete(r)}},Ma=class jy{constructor(t){L(this,"paused",!1);L(this,"cancel");this.cancel=t}static join(t){let r=new jy(()=>t.forEach(l=>l.cancel()));return Object.defineProperty(r,"paused",{get:()=>t[0].paused,set:l=>t.forEach(u=>u.paused=l)}),r.paused=!1,r}static replace(t,r){return t.cancel=()=>r.cancel(),r.paused=t.paused,Object.defineProperty(t,"paused",{get:()=>r.paused,set:l=>r.paused=l}),t}},Kt=class{constructor(){L(this,"cancellers",new WeakMap);L(this,"handlers",new Yy)}add(n){function t(...u){if(!l.paused)return n(...u)}let r=this.handlers.pushd(t),l=new Ma(r);return this.cancellers.set(t,r),l}addOnce(n){let t=this.add((...r)=>{t.cancel(),n(...r)});return t}next(){return new Promise(n=>this.addOnce(n))}trigger(...n){this.handlers.forEach(t=>{let r=t(...n),l;r===Gy&&(l=this.cancellers.get(t))&&l()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},Kl=class{constructor(){L(this,"handlers",{});L(this,"registers",{})}on(n,t){return this.handlers[n]||(this.handlers[n]=new Kt),this.handlers[n].add(t)}onOnce(n,t){let r=this.on(n,(...l)=>{r.cancel(),t(...l)});return r}next(n){return new Promise(t=>{this.onOnce(n,(...r)=>t(r[0]))})}trigger(n,...t){this.handlers[n]&&this.handlers[n].trigger(...t)}remove(n){delete this.handlers[n]}clear(){this.handlers={}}numListeners(n){var t;return((t=this.handlers[n])==null?void 0:t.numListeners())??0}},S2=n=>n[0]instanceof _e,M2=n=>n[0]instanceof Z,T2=n=>typeof n[0]=="number",Vy=class{constructor(n=(t,r)=>t<r){L(this,"_items");L(this,"_compareFn");this._compareFn=n,this._items=[]}insert(n){this._items.push(n),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let n=this._items[0],t=this._items.pop();return this._items.length!==0&&(this._items[0]=t,this.moveDown(0)),n}clear(){this._items.splice(0,this._items.length)}moveUp(n){for(;n>0;){let t=Math.floor((n-1)/2);if(!this._compareFn(this._items[n],this._items[t])&&this._items[n]>=this._items[t])break;this.swap(n,t),n=t}}moveDown(n){for(;n<Math.floor(this._items.length/2);){let t=2*n+1;if(t<this._items.length-1&&!this._compareFn(this._items[t],this._items[t+1])&&++t,this._compareFn(this._items[n],this._items[t]))break;this.swap(n,t),n=t}}swap(n,t){[this._items[n],this._items[t]]=[this._items[t],this._items[n]]}get length(){return this._items.length}};function R2(n){let t=window.atob(n),r=t.length,l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=t.charCodeAt(u);return l.buffer}function O2(n){return R2(n.split(",")[1])}function dh(n,t){let r=document.createElement("a");r.href=t,r.download=n,r.click()}function Xy(n,t){dh(n,"data:text/plain;charset=utf-8,"+t)}function C2(n,t){Xy(n,JSON.stringify(t))}function Cg(n,t){let r=URL.createObjectURL(t);dh(n,r),URL.revokeObjectURL(r)}var Qy=n=>n.match(/^data:\w+\/\w+;base64,.+/),q2=n=>n.split(".").slice(0,-1).join(".");function ph(n,t){if(n===t)return!0;let r=typeof n,l=typeof t;if(r!==l)return!1;if(r==="object"&&l==="object"&&n!==null&&t!==null){if(Array.isArray(n)!==Array.isArray(t))return!1;let u=Object.keys(n),c=Object.keys(t);if(u.length!==c.length)return!1;for(let h of u){let g=n[h],p=t[h];if(!ph(g,p))return!1}return!0}return!1}var qg=new Set,D2=n=>n instanceof Error?n.message:String(n);function B2(n){qg.has(n)||(qg.add(n),console.warn(n))}function Mr(n,t){B2(`${n} is deprecated. Use ${t} instead.`)}function Nf(n,t){return Number(n.toFixed(t))}function at(n,t){return(...r)=>{let l=r.length;if(l===n.length)return n(...r);if(l===t.length)return t(...r)}}var _2=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function U2(n){if(typeof n!="string")throw new TypeError("string cannot be undefined or null");let t=[],r=0,l=0;for(;r<n.length;){if(l+=N2(r+l,n),V2(n[r+l])&&l++,G2(n[r+l])&&l++,Y2(n[r+l])&&l++,X2(n[r+l])){l++;continue}t.push(n.substring(r,r+l)),r+=l,l=0}return t}function N2(n,t){let r=t[n];if(!z2(r)||n===t.length-1)return 1;let l=r+t[n+1],u=t.substring(n+2,n+5);return Dg(l)&&Dg(u)?4:L2(l)&&j2(u)?t.slice(n).indexOf(String.fromCodePoint(917631))+2:H2(u)?4:2}function z2(n){return n&&Ta(n[0].charCodeAt(0),55296,56319)}function Dg(n){return Ta(mh(n),127462,127487)}function L2(n){return Ta(mh(n),127988,127988)}function H2(n){return Ta(mh(n),127995,127999)}function G2(n){return typeof n=="string"&&Ta(n.charCodeAt(0),65024,65039)}function Y2(n){return typeof n=="string"&&Ta(n.charCodeAt(0),8400,8447)}function j2(n){let t=n.codePointAt(0);return typeof n=="string"&&typeof t=="number"&&Ta(t,917504,917631)}function V2(n){return typeof n=="string"&&_2.includes(n.charCodeAt(0))}function X2(n){return typeof n=="string"&&n.charCodeAt(0)===8205}function mh(n){let t=n.charCodeAt(0)-55296,r=n.charCodeAt(1)-56320;return(t<<10)+r+65536}function Ta(n,t,r){return n>=t&&n<=r}var An=(n,t)=>Array.isArray(n)?n==null?void 0:n.includes(t):n===t,Vn=(n,t)=>Array.isArray(t)?t.some(r=>n.has(r)):n.has(t),pu=(n,t,r)=>{var l;n.has(t)?(l=n.get(t))==null||l.push(r):n.set(t,[r])},Q2=(()=>{let n=0;return()=>n++})(),K2={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}};function Ky(){let n=A.globalOpt.pixelDensity??1,t=A.globalOpt.width,r=A.globalOpt.height,l=A.gfx.ggl.gl.drawingBufferWidth,u=A.gfx.ggl.gl.drawingBufferHeight,c=l/n,h=u/n,g=0,p=0,d=c,v=h;if(A.globalOpt.letterbox){if(!t||!r)throw new Error("Letterboxing requires width and height defined.");let E=c/h,m=t/r;if(E>m){let S=h*m;g=(c-S)/2,d=S}else{let S=c/m;v=S,p=(h-S)/2}}if(A.globalOpt.stretch&&(!A.globalOpt.width||!A.globalOpt.height))throw new Error("Stretching requires width and height defined.");A.gfx.viewport={x:g,y:p,width:d,height:v,scale:(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}}function Z2(n){return new Z(n.x*A.gfx.viewport.width/A.gfx.width,n.y*A.gfx.viewport.height/A.gfx.height)}function F2(n){return new Z((n.x-A.gfx.viewport.x)*A.gfx.width/A.gfx.viewport.width,(n.y-A.gfx.viewport.y)*A.gfx.height/A.gfx.viewport.height)}var k2=()=>ga.lastInputDevice,J2=()=>{let n=ga.buttons;for(let t in n){let r=n[t].keyboard&&[n[t].keyboard].flat(),l=n[t].keyboardCode&&[n[t].keyboardCode].flat(),u=n[t].gamepad&&[n[t].gamepad].flat(),c=n[t].mouse&&[n[t].mouse].flat();r&&r.forEach(h=>{pu(ga.buttonsByKey,h,t)}),l&&l.forEach(h=>{pu(ga.buttonsByKeyCode,h,t)}),u&&u.forEach(h=>{pu(ga.buttonsByGamepad,h,t)}),c&&c.forEach(h=>{pu(ga.buttonsByMouse,h,t)})}},Yl=class{constructor(){L(this,"pressed",new Set([]));L(this,"pressedRepeat",new Set([]));L(this,"released",new Set([]));L(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(n){this.pressed.add(n),this.pressedRepeat.add(n),this.down.add(n)}pressRepeat(n){this.pressedRepeat.add(n)}release(n){this.down.delete(n),this.pressed.delete(n),this.released.add(n)}},P2=class{constructor(){L(this,"buttonState",new Yl);L(this,"stickState",new Map)}},I2=class{constructor(){L(this,"dts",[]);L(this,"timer",0);L(this,"fps",0)}tick(n){this.dts.push(n),this.timer+=n,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((t,r)=>t+r)/this.dts.length)),this.dts=[])}},ga,Bg=K2,W2=n=>{let t=n.buttons??{};return{canvas:n.canvas,buttons:t,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new I2,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new Z(0),mouseDeltaPos:new Z(0),keyState:new Yl,mouseState:new Yl,mergedGamepadState:new P2,gamepadStates:new Map,lastInputDevice:null,buttonState:new Yl,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:n.canvas.offsetWidth,lastHeight:n.canvas.offsetHeight,events:new Kl}},$2=n=>{if(!n.canvas)throw new Error("Please provide a canvas");let t=W2(n);ga=t,J2();function r(){return t.dt*t.timeScale}function l(){return t.fixedDt*t.timeScale}function u(){return t.restDt*t.timeScale}function c(){return t.isHidden}function h(){return t.time}function g(){return t.fpsCounter.fps}function p(){return t.numFrames}function d(){return t.canvas.toDataURL()}function v(C){t.canvas.style.cursor=C}function E(){return t.canvas.style.cursor}function m(C){if(C)try{let Q=t.canvas.requestPointerLock();Q!=null&&Q.catch&&Q.catch(J=>console.error(J))}catch(Q){console.error(Q)}else document.exitPointerLock()}function S(){return!!document.pointerLockElement}function b(C){C.requestFullscreen?C.requestFullscreen():C.webkitRequestFullscreen&&C.webkitRequestFullscreen()}function O(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}function x(C=!0){C?b(t.canvas):O()}function M(){return document.fullscreenElement===t.canvas||document.webkitFullscreenElement===t.canvas}function _(){t.stopped=!0;let C=Object.entries(zt),Q=Object.entries(_a),J=Object.entries(Ii);for(let[se,ge]of C)t.canvas.removeEventListener(se,ge);for(let[se,ge]of Q)document.removeEventListener(se,ge);for(let[se,ge]of J)window.removeEventListener(se,ge);Dr.disconnect()}function X(C,Q){t.loopID!==null&&cancelAnimationFrame(t.loopID);let J=0,se=0,ge=Me=>{if(t.stopped)return;if(document.visibilityState!=="visible"){t.loopID=requestAnimationFrame(ge);return}let He=Me/1e3,Pe=Math.min(He-t.realTime,.25),kt=n.maxFPS?1/n.maxFPS:0;if(t.realTime=He,se+=Pe,se>kt){if(!t.skipTime){for(J+=se,t.dt=t.fixedDt,t.restDt=0;J>t.fixedDt;)J-=t.fixedDt,J<t.fixedDt&&(t.restDt=J),C();t.restDt=J,t.dt=se,t.time+=r(),t.fpsCounter.tick(t.dt)}se=0,t.skipTime=!1,t.numFrames++,Q(qa,Da)}t.loopID=requestAnimationFrame(ge)};ge(0)}function ie(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function k(){return t.mousePos.clone()}function q(){return t.mouseDeltaPos.clone()}function B(C="left"){return t.mouseState.pressed.has(C)}function H(C="left"){return t.mouseState.down.has(C)}function W(C="left"){return t.mouseState.released.has(C)}function ne(){return t.isMouseMoved}function ae(C){return C===void 0?t.keyState.pressed.size>0:Vn(t.keyState.pressed,C)}function ue(C){return C===void 0?t.keyState.pressedRepeat.size>0:Vn(t.keyState.pressedRepeat,C)}function pe(C){return C===void 0?t.keyState.down.size>0:Vn(t.keyState.down,C)}function we(C){return C===void 0?t.keyState.released.size>0:Vn(t.keyState.released,C)}function ve(C){return C===void 0?t.mergedGamepadState.buttonState.pressed.size>0:Vn(t.mergedGamepadState.buttonState.pressed,C)}function z(C){return C===void 0?t.mergedGamepadState.buttonState.down.size>0:Vn(t.mergedGamepadState.buttonState.down,C)}function ee(C){return C===void 0?t.mergedGamepadState.buttonState.released.size>0:Vn(t.mergedGamepadState.buttonState.released,C)}function le(C){return C===void 0?t.buttonState.pressed.size>0:Vn(t.buttonState.pressed,C)}function ce(C){return C===void 0?t.buttonState.down.size>0:Vn(t.buttonState.down,C)}function T(C){return C===void 0?t.buttonState.released.size>0:Vn(t.buttonState.released,C)}function K(C){var Q;return(Q=t.buttons)==null?void 0:Q[C]}function te(C,Q){t.buttons[C]={...t.buttons[C],...Q}}function re(C){t.buttonState.press(C),t.events.trigger("buttonPress",C)}function fe(C){t.buttonState.release(C),t.events.trigger("buttonRelease",C)}function Ce(C){return t.events.on("resize",C)}let xe=at(C=>t.events.on("keyDown",C),(C,Q)=>t.events.on("keyDown",J=>An(C,J)&&Q(J))),At=at(C=>t.events.on("keyPress",Q=>C(Q)),(C,Q)=>t.events.on("keyPress",J=>An(C,J)&&Q(J))),Qe=at(C=>t.events.on("keyPressRepeat",C),(C,Q)=>t.events.on("keyPressRepeat",J=>An(C,J)&&Q(J))),on=at(C=>t.events.on("keyRelease",C),(C,Q)=>t.events.on("keyRelease",J=>An(C,J)&&Q(J))),Nn=at(C=>t.events.on("mouseDown",Q=>C(Q)),(C,Q)=>t.events.on("mouseDown",J=>An(C,J)&&Q(J))),Nt=at(C=>t.events.on("mousePress",Q=>C(Q)),(C,Q)=>t.events.on("mousePress",J=>An(C,J)&&Q(J))),mi=at(C=>t.events.on("mouseRelease",Q=>C(Q)),(C,Q)=>t.events.on("mouseRelease",J=>J===C&&Q(J)));function he(C){return t.events.on("mouseMove",()=>C(k(),q()))}function Se(C){return t.events.on("charInput",C)}function Re(C){return t.events.on("touchStart",C)}function $e(C){return t.events.on("touchMove",C)}function Ke(C){return t.events.on("touchEnd",C)}function Le(C){return t.events.on("scroll",C)}function Mt(C){return t.events.on("hide",C)}function Rn(C){return t.events.on("show",C)}let gi=at(C=>t.events.on("gamepadButtonPress",(Q,J)=>C(Q,J)),(C,Q)=>t.events.on("gamepadButtonPress",(J,se)=>An(C,J)&&Q(J,se))),Or=at(C=>t.events.on("gamepadButtonDown",(Q,J)=>C(Q,J)),(C,Q)=>t.events.on("gamepadButtonDown",(J,se)=>An(C,J)&&Q(J,se))),Ra=at(C=>t.events.on("gamepadButtonRelease",(Q,J)=>C(Q,J)),(C,Q)=>t.events.on("gamepadButtonRelease",(J,se)=>An(C,J)&&Q(J,se)));function Cr(C,Q){return t.events.on("gamepadStick",(J,se,ge)=>J===C&&Q(se,ge))}function Oa(C){t.events.on("gamepadConnect",C)}function Dt(C){t.events.on("gamepadDisconnect",C)}function lt(C){return t.mergedGamepadState.stickState.get(C)||new Z(0)}function Ft(){return[...t.charInputted]}function Je(){return[...t.gamepads]}let Ji=at(C=>t.events.on("buttonPress",Q=>C(Q)),(C,Q)=>t.events.on("buttonPress",J=>An(C,J)&&Q(J))),On=at(C=>t.events.on("buttonDown",Q=>C(Q)),(C,Q)=>t.events.on("buttonDown",J=>An(C,J)&&Q(J))),Ca=at(C=>t.events.on("buttonRelease",Q=>C(Q)),(C,Q)=>t.events.on("buttonRelease",J=>An(C,J)&&Q(J)));function qa(){t.events.trigger("input"),t.keyState.down.forEach(C=>t.events.trigger("keyDown",C)),t.mouseState.down.forEach(C=>t.events.trigger("mouseDown",C)),t.buttonState.down.forEach(C=>{t.events.trigger("buttonDown",C)}),Pi()}function Da(){t.keyState.update(),t.mouseState.update(),t.buttonState.update(),t.mergedGamepadState.buttonState.update(),t.mergedGamepadState.stickState.forEach((C,Q)=>{t.mergedGamepadState.stickState.set(Q,new Z(0))}),t.charInputted=[],t.isMouseMoved=!1,t.mouseDeltaPos=new Z(0),t.gamepadStates.forEach(C=>{C.buttonState.update(),C.stickState.forEach((Q,J)=>{C.stickState.set(J,new Z(0))})})}function zn(C){let Q={index:C.index,isPressed:J=>{var se;return((se=t.gamepadStates.get(C.index))==null?void 0:se.buttonState.pressed.has(J))||!1},isDown:J=>{var se;return((se=t.gamepadStates.get(C.index))==null?void 0:se.buttonState.down.has(J))||!1},isReleased:J=>{var se;return((se=t.gamepadStates.get(C.index))==null?void 0:se.buttonState.released.has(J))||!1},getStick:J=>{var se;return((se=t.gamepadStates.get(C.index))==null?void 0:se.stickState.get(J))||V()}};return t.gamepads.push(Q),t.gamepadStates.set(C.index,{buttonState:new Yl,stickState:new Map([["left",new Z(0)],["right",new Z(0)]])}),Q}function Ba(C){t.gamepads=t.gamepads.filter(Q=>Q.index!==C.index),t.gamepadStates.delete(C.index)}function Pi(){var C,Q;for(let J of navigator.getGamepads())J&&!t.gamepadStates.has(J.index)&&zn(J);for(let J of t.gamepads){let se=navigator.getGamepads()[J.index];if(!se)continue;let ge=(n.gamepads??{})[se.id]||Bg[se.id]||Bg.default,Me=t.gamepadStates.get(J.index);if(Me){for(let He=0;He<se.buttons.length;He++){let Pe=ge.buttons[He],kt=se.buttons[He],cn=t.buttonsByGamepad.has(Pe);if(kt.pressed){if(Me.buttonState.down.has(Pe)){t.events.trigger("gamepadButtonDown",Pe,J);continue}t.lastInputDevice="gamepad",cn&&((C=t.buttonsByGamepad.get(Pe))==null||C.forEach(Cn=>{t.buttonState.press(Cn),t.events.trigger("buttonPress",Cn)})),t.mergedGamepadState.buttonState.press(Pe),Me.buttonState.press(Pe),t.events.trigger("gamepadButtonPress",Pe,J)}else Me.buttonState.down.has(Pe)&&(cn&&((Q=t.buttonsByGamepad.get(Pe))==null||Q.forEach(Cn=>{t.buttonState.release(Cn),t.events.trigger("buttonRelease",Cn)})),t.mergedGamepadState.buttonState.release(Pe),Me.buttonState.release(Pe),t.events.trigger("gamepadButtonRelease",Pe,J))}for(let He in ge.sticks){let Pe=ge.sticks[He];if(!Pe)continue;let kt=new Z(se.axes[Pe.x],se.axes[Pe.y]);Me.stickState.set(He,kt),t.mergedGamepadState.stickState.set(He,kt),t.events.trigger("gamepadStick",He,kt,J)}}}}let zt={},_a={},Ii={},Ua=n.pixelDensity||1;zt.mousemove=C=>{let Q=F2(new Z(C.offsetX,C.offsetY)),J=new Z(C.movementX,C.movementY);if(M()){let se=t.canvas.width/Ua,ge=t.canvas.height/Ua,Me=window.innerWidth,He=window.innerHeight,Pe=Me/He,kt=se/ge;if(Pe>kt){let cn=He/ge,Cn=(Me-se*cn)/2;Q.x=Xn(C.offsetX-Cn,0,se*cn,0,se),Q.y=Xn(C.offsetY,0,ge*cn,0,ge)}else{let cn=Me/se,Cn=(He-ge*cn)/2;Q.x=Xn(C.offsetX,0,se*cn,0,se),Q.y=Xn(C.offsetY-Cn,0,ge*cn,0,ge)}}t.events.onOnce("input",()=>{t.isMouseMoved=!0,t.mousePos=Q,t.mouseDeltaPos=J,t.events.trigger("mouseMove")})};let yi=["left","middle","right","back","forward"];zt.mousedown=C=>{t.events.onOnce("input",()=>{var J;let Q=yi[C.button];Q&&(t.lastInputDevice="mouse",t.buttonsByMouse.has(Q)&&((J=t.buttonsByMouse.get(Q))==null||J.forEach(se=>{t.buttonState.press(se),t.events.trigger("buttonPress",se)})),t.mouseState.press(Q),t.events.trigger("mousePress",Q))})},zt.mouseup=C=>{t.events.onOnce("input",()=>{var J;let Q=yi[C.button];Q&&(t.buttonsByMouse.has(Q)&&((J=t.buttonsByMouse.get(Q))==null||J.forEach(se=>{t.buttonState.release(se),t.events.trigger("buttonRelease",se)})),t.mouseState.release(Q),t.events.trigger("mouseRelease",Q))})};let ku=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),qr={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};zt.keydown=C=>{ku.has(C.key)&&C.preventDefault(),t.events.onOnce("input",()=>{var se,ge;let Q=qr[C.key]||C.key.toLowerCase(),J=C.code;if(Q===void 0)throw new Error(`Unknown key: ${C.key}`);Q.length===1?(t.events.trigger("charInput",Q),t.charInputted.push(Q)):Q==="space"&&(t.events.trigger("charInput"," "),t.charInputted.push(" ")),C.repeat?(t.keyState.pressRepeat(Q),t.events.trigger("keyPressRepeat",Q)):(t.lastInputDevice="keyboard",t.buttonsByKey.has(Q)&&((se=t.buttonsByKey.get(Q))==null||se.forEach(Me=>{t.buttonState.press(Me),t.events.trigger("buttonPress",Me)})),t.buttonsByKeyCode.has(J)&&((ge=t.buttonsByKeyCode.get(J))==null||ge.forEach(Me=>{t.buttonState.press(Me),t.events.trigger("buttonPress",Me)})),t.keyState.press(Q),t.events.trigger("keyPressRepeat",Q),t.events.trigger("keyPress",Q))})},zt.keyup=C=>{t.events.onOnce("input",()=>{var se,ge;let Q=qr[C.key]||C.key.toLowerCase(),J=C.code;t.buttonsByKey.has(Q)&&((se=t.buttonsByKey.get(Q))==null||se.forEach(Me=>{t.buttonState.release(Me),t.events.trigger("buttonRelease",Me)})),t.buttonsByKeyCode.has(J)&&((ge=t.buttonsByKeyCode.get(J))==null||ge.forEach(Me=>{t.buttonState.release(Me),t.events.trigger("buttonRelease",Me)})),t.keyState.release(Q),t.events.trigger("keyRelease",Q)})},zt.touchstart=C=>{C.preventDefault(),t.events.onOnce("input",()=>{var se;let Q=[...C.changedTouches],J=t.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(t.mousePos=new Z(Q[0].clientX-J.x,Q[0].clientY-J.y),t.lastInputDevice="mouse",t.buttonsByMouse.has("left")&&((se=t.buttonsByMouse.get("left"))==null||se.forEach(ge=>{t.buttonState.press(ge),t.events.trigger("buttonPress",ge)})),t.mouseState.press("left"),t.events.trigger("mousePress","left")),Q.forEach(ge=>{t.events.trigger("touchStart",new Z(ge.clientX-J.x,ge.clientY-J.y),ge)})})},zt.touchmove=C=>{C.preventDefault(),t.events.onOnce("input",()=>{let Q=[...C.changedTouches],J=t.canvas.getBoundingClientRect();if(n.touchToMouse!==!1){let se=t.mousePos;t.mousePos=new Z(Q[0].clientX-J.x,Q[0].clientY-J.y),t.mouseDeltaPos=t.mousePos.sub(se),t.events.trigger("mouseMove")}Q.forEach(se=>{t.events.trigger("touchMove",new Z(se.clientX-J.x,se.clientY-J.y),se)})})},zt.touchend=C=>{t.events.onOnce("input",()=>{var se;let Q=[...C.changedTouches],J=t.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(t.mousePos=new Z(Q[0].clientX-J.x,Q[0].clientY-J.y),t.mouseDeltaPos=new Z(0,0),t.buttonsByMouse.has("left")&&((se=t.buttonsByMouse.get("left"))==null||se.forEach(ge=>{t.buttonState.release(ge),t.events.trigger("buttonRelease",ge)})),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),Q.forEach(ge=>{t.events.trigger("touchEnd",new Z(ge.clientX-J.x,ge.clientY-J.y),ge)})})},zt.touchcancel=C=>{t.events.onOnce("input",()=>{let Q=[...C.changedTouches],J=t.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(t.mousePos=new Z(Q[0].clientX-J.x,Q[0].clientY-J.y),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),Q.forEach(se=>{t.events.trigger("touchEnd",new Z(se.clientX-J.x,se.clientY-J.y),se)})})},zt.wheel=C=>{C.preventDefault(),t.events.onOnce("input",()=>{t.events.trigger("scroll",new Z(C.deltaX,C.deltaY))})},zt.contextmenu=C=>C.preventDefault(),_a.visibilitychange=()=>{document.visibilityState==="visible"?(t.skipTime=!0,t.isHidden=!1,t.events.trigger("show")):(t.isHidden=!0,t.events.trigger("hide"))},Ii.gamepadconnected=C=>{let Q=zn(C.gamepad);t.events.onOnce("input",()=>{t.events.trigger("gamepadConnect",Q)})},Ii.gamepaddisconnected=C=>{let Q=Je().filter(J=>J.index===C.gamepad.index)[0];Ba(C.gamepad),t.events.onOnce("input",()=>{t.events.trigger("gamepadDisconnect",Q)})};for(let[C,Q]of Object.entries(zt))t.canvas.addEventListener(C,Q);for(let[C,Q]of Object.entries(_a))document.addEventListener(C,Q);for(let[C,Q]of Object.entries(Ii))window.addEventListener(C,Q);let Dr=new ResizeObserver(C=>{for(let Q of C)if(Q.target===t.canvas){if(t.lastWidth===t.canvas.offsetWidth&&t.lastHeight===t.canvas.offsetHeight)return;t.lastWidth=t.canvas.offsetWidth,t.lastHeight=t.canvas.offsetHeight,t.events.onOnce("input",()=>{t.events.trigger("resize")})}});return Dr.observe(t.canvas),{state:t,dt:r,fixedDt:l,restDt:u,time:h,run:X,canvas:t.canvas,fps:g,numFrames:p,quit:_,isHidden:c,setFullscreen:x,isFullscreen:M,setCursor:v,screenshot:d,getGamepads:Je,getCursor:E,setCursorLocked:m,isCursorLocked:S,isTouchscreen:ie,mousePos:k,mouseDeltaPos:q,isKeyDown:pe,isKeyPressed:ae,isKeyPressedRepeat:ue,isKeyReleased:we,isMouseDown:H,isMousePressed:B,isMouseReleased:W,isMouseMoved:ne,isGamepadButtonPressed:ve,isGamepadButtonDown:z,isGamepadButtonReleased:ee,getGamepadStick:lt,isButtonPressed:le,isButtonDown:ce,isButtonReleased:T,setButton:te,getButton:K,pressButton:re,releaseButton:fe,charInputted:Ft,onResize:Ce,onKeyDown:xe,onKeyPress:At,onKeyPressRepeat:Qe,onKeyRelease:on,onMouseDown:Nn,onMousePress:Nt,onMouseRelease:mi,onMouseMove:he,onCharInput:Se,onTouchStart:Re,onTouchMove:$e,onTouchEnd:Ke,onScroll:Le,onHide:Mt,onShow:Rn,onGamepadButtonDown:Or,onGamepadButtonPress:gi,onGamepadButtonRelease:Ra,onGamepadStick:Cr,onGamepadConnect:Oa,onGamepadDisconnect:Dt,onButtonPress:Ji,onButtonDown:On,onButtonRelease:Ca,getLastInputDeviceType:k2,events:t.events}};function qt(){return A.app.dt()}function zf(){return A.app.fixedDt()}function Lf(){return A.app.restDt()}var ex=new Z(-1,-1),tx=new Z(0,-1),nx=new Z(1,-1),ix=new Z(-1,0),ax=new Z(0,0),rx=new Z(1,0),lx=new Z(-1,1),sx=new Z(0,1),ux=new Z(1,1);function Tr(n){switch(n){case"topleft":return ex;case"top":return tx;case"topright":return nx;case"left":return ix;case"center":return ax;case"right":return rx;case"botleft":return lx;case"bot":return sx;case"botright":return ux;default:return n}}function ox(n){switch(n){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}function cx(n){return n.createBuffer(1,1,44100)}var mu=2.5949095,_g=1.70158+1,Ug=2*Math.PI/3,Ng=2*Math.PI/4.5,Eu={linear:n=>n,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>_g*n*n*n-1.70158*n*n,easeOutBack:n=>1+_g*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((mu+1)*2*n-mu)/2:(Math.pow(2*n-2,2)*((mu+1)*(n*2-2)+mu)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*Ug),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*Ug)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*Ng))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*Ng)/2+1,easeInBounce:n=>1-Eu.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?(1-Eu.easeOutBounce(1-2*n))/2:(1+Eu.easeOutBounce(2*n-1))/2},Zl=Eu;function fx(n,t,r){let l=[],u=t;for(l.push(u);u!==n;){if(u=r.get(u),u==null)return null;l.push(u)}return l.reverse()}function hx(n,t,r){var h;let l=new Vy((g,p)=>g.cost<p.cost);l.insert({cost:0,node:t});let u=new Map;u.set(t,t);let c=new Map;for(c.set(t,0);l.length!==0;){let g=(h=l.remove())==null?void 0:h.node;if(g===r)break;let p=n.getNeighbours(g);for(let d of p){let v=(c.get(g)||0)+n.getCost(g,d)+n.getHeuristic(d,r);(!c.has(d)||v<c.get(d))&&(c.set(d,v),l.insert({cost:v,node:d}),u.set(d,g))}}return fx(t,r,u)}var dx=class{constructor(n,t,r){L(this,"a");L(this,"b");L(this,"polygon");this.a=n,this.b=t,this.polygon=new WeakRef(r)}isLeft(n,t){return(this.b.x-this.a.x)*(t-this.a.y)-(n-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},px=class{constructor(n){L(this,"_edges");L(this,"_centroid");L(this,"_id");this._id=n}get id(){return this._id}set edges(n){this._edges=n;let t=0,r=0,l=0;for(let u of this._edges){u.polygon=new WeakRef(this);let c=u.a.x*u.b.y-u.a.y*u.b.x;t+=(u.a.x+u.b.x)*c,r+=(u.a.y+u.b.y)*c,l+=c}l/=2,this._centroid=V(t/(6*l),r/(6*l))}get edges(){return this._edges}get centroid(){return this._centroid}contains(n){let t=!1;for(let r of this.edges)r.b.y>n.y!=r.a.y>n.y&&n.x<(r.a.x-r.b.x)*(n.y-r.b.y)/(r.a.y-r.b.y)+r.b.x&&(t=!t);return t}},mx=class{constructor(){L(this,"_polygons");L(this,"_pointCache");L(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(n){let t=this._pointCache[`${n.x}_${n.y}`];return t||(t=n.clone(),this._pointCache[`${n.x}_${n.y}`]=t,t)}_addEdge(n){let t=`${n.a.x}_${n.a.y}-${n.b.x}_${n.b.y}`;return this._edgeCache[t]=n,n}_findEdge(n,t){let r=`${n.x}_${n.y}-${t.x}_${t.y}`;return this._edgeCache[r]}_findCommonEdge(n,t){for(let r of n.edges){let l=this._findEdge(r.b,r.a);if(l&&l.polygon.deref().id===t.id)return l}return null}addPolygon(n){let t=new px(this._polygons.length),r=n.map((l,u)=>new dx(l,n[(u+1)%n.length],t));t.edges=r,this._polygons.push(t);for(let l of t.edges)this._addEdge(l);return t}addRect(n,t){let r=this._addPoint(n),l=this._addPoint(n.add(t.x,0)),u=this._addPoint(n.add(t)),c=this._addPoint(n.add(0,t.y));return this.addPolygon([r,l,u,c])}_getLocation(n){for(let t of this._polygons)if(t.contains(n))return t;return null}getNeighbours(n){let t=[];for(let r of this._polygons[n].edges){let l=this._findEdge(r.b,r.a);if(l){let u=l.polygon.deref();u&&t.push(u.id)}}return t}getCost(n,t){return 1}getHeuristic(n,t){let r=this._polygons[n],l=this._polygons[t],u=r.centroid.x-l.centroid.x,c=r.centroid.y-l.centroid.y;return Math.sqrt(u*u+c*c)}getPath(n,t){return n===void 0||t===void 0?[]:n===t?[n,t]:hx(this,n,t)}getWaypointPath(n,t,r){let l=(r==null?void 0:r.type)||"centroids",u=this._getLocation(n),c=this._getLocation(t);if(u===void 0||c===void 0)return[];let h=this.getPath(u.id,c.id);if(!h)return[];if(l==="edges"){let g=[];for(let p=1;p<h.length;p++){let d=this._polygons[h[p-1]],v=this._polygons[h[p]],E=this._findCommonEdge(d,v);g.push(E.middle.add(v.centroid.sub(E.middle).unit().scale(4)))}return[n,...g,t]}else return[n,...h.slice(1,-1).map(g=>this._polygons[g].centroid),t]}};function jl(n){let t=new Zn;return n.pos&&t.translate(n.pos),n.scale&&t.scale(n.scale),n.angle&&t.rotate(n.angle),n.parent?t.mult(n.parent.transform):t}function gx(n){return new Z(n.x/Ut()*2-1,-n.y/Ht()*2+1)}function Ll(n,t,r,l,u,c=1){l=bt(l%360),u=bt(u%360),u<=l&&(u+=Math.PI*2);let h=[],g=Math.ceil((u-l)/bt(8)*c),p=(u-l)/g,d=V(Math.cos(l),Math.sin(l)),v=V(Math.cos(p),Math.sin(p));for(let E=0;E<=g;E++)h.push(n.add(t*d.x,r*d.y)),d=V(d.x*v.x-d.y*v.y,d.x*v.y+d.y*v.x);return h}function yx(...n){let t=Xe(...n),r=n[3]??1;A.gfx.bgColor=t,A.gfx.bgAlpha=r,A.gfx.ggl.gl.clearColor(t.r/255,t.g/255,t.b/255,r)}function vx(){var n,t;return((t=(n=A.gfx.bgColor)==null?void 0:n.clone)==null?void 0:t.call(n))??null}function ht(...n){if(n[0]===void 0)return;let t=V(...n);t.x===0&&t.y===0||A.gfx.transform.translate(t)}function xn(){A.gfx.transformStack.push(A.gfx.transform.clone())}function bx(n){A.gfx.transform=n.clone()}function Fl(...n){if(n[0]===void 0)return;let t=V(...n);t.x===1&&t.y===1||A.gfx.transform.scale(t)}function xr(n){n&&A.gfx.transform.rotate(n)}function an(){A.gfx.transformStack.length>0&&(A.gfx.transform=A.gfx.transformStack.pop())}function En(){A.gfx.renderer.flush()}function Ut(){return A.gfx.width}function Ht(){return A.gfx.height}function Zy(){return(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}function Bu(){return V(Ut()/2,Ht()/2)}var Ax=class{constructor(n,t,r,l){L(this,"lastTextureId",0);L(this,"textures",[]);L(this,"bigTextures",[]);L(this,"texturesPosition",new Map);L(this,"canvas");L(this,"c2d");L(this,"x",0);L(this,"y",0);L(this,"curHeight",0);L(this,"gfx");L(this,"padding");this.gfx=n,this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=r,this.textures=[Ki.fromImage(n,this.canvas)],this.bigTextures=[],this.padding=l;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}addSingle(n){let t=Ki.fromImage(this.gfx,n);return this.bigTextures.push(t),[t,new ot(0,0,1,1),0]}add(n){let t=n.width+this.padding*2,r=n.height+this.padding*2;if(t>this.canvas.width||r>this.canvas.height)return this.addSingle(n);this.x+t>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+r>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Ki.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let l=this.textures[this.textures.length-1],u=new Z(this.x+this.padding,this.y+this.padding);return this.x+=t,r>this.curHeight&&(this.curHeight=r),n instanceof ImageData?this.c2d.putImageData(n,u.x,u.y):this.c2d.drawImage(n,u.x,u.y),l.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new Z(n.width,n.height),texture:l}),this.lastTextureId++,[l,new ot(u.x/this.canvas.width,u.y/this.canvas.height,n.width/this.canvas.width,n.height/this.canvas.height),this.lastTextureId-1]}free(){for(let n of this.textures)n.free();for(let n of this.bigTextures)n.free()}};function Mn(n){return typeof n!="string"||Qy(n)?n:A.assets.urlPrefix+n}var Tn=class Fy{constructor(t){L(this,"loaded",!1);L(this,"data",null);L(this,"error",null);L(this,"onLoadEvents",new Kt);L(this,"onErrorEvents",new Kt);L(this,"onFinishEvents",new Kt);t.then(r=>{this.loaded=!0,this.data=r,this.onLoadEvents.trigger(r)}).catch(r=>{if(this.error=r,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(r);else throw r}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(t){let r=new Fy(Promise.resolve(t));return r.data=t,r.loaded=!0,r}onLoad(t){return this.loaded&&this.data?t(this.data):this.onLoadEvents.add(t),this}onError(t){return this.loaded&&this.error?t(this.error):this.onErrorEvents.add(t),this}onFinish(t){return this.loaded?t():this.onFinishEvents.add(t),this}then(t){return this.onLoad(t)}catch(t){return this.onError(t)}finally(t){return this.onFinish(t)}},br=class{constructor(){L(this,"assets",new Map);L(this,"lastUID",0)}add(n,t){let r=n??this.lastUID+++"",l=new Tn(t);return this.assets.set(r,l),l}addLoaded(n,t){let r=n??this.lastUID+++"",l=Tn.loaded(t);return this.assets.set(r,l),l}get(n){return this.assets.get(n)}progress(){if(this.assets.size===0)return 1;let n=0;return this.assets.forEach(t=>{t.loaded&&n++}),n/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(n=>this.assets.get(n).error!==null).map(n=>[n,this.assets.get(n)])}};function gh(n){return fetch(n).then(t=>{if(!t.ok)throw new Error(`Failed to fetch "${n}"`);return t})}function Ku(n){return gh(n).then(t=>t.json())}function wx(n){return gh(n).then(t=>t.text())}function xx(n){return gh(n).then(t=>t.arrayBuffer())}function Ex(n){return n!==void 0&&(A.assets.urlPrefix=n),A.assets.urlPrefix}function Sx(n,t){return A.assets.custom.add(n,Ku(Mn(t)))}function Zu(n){let t=new Image;return t.crossOrigin="anonymous",t.src=n,new Promise((r,l)=>{t.onload=()=>r(t),t.onerror=()=>l(new Error(`Failed to load image from "${n}"`))})}function ba(){let n=[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom];return n.reduce((t,r)=>t+r.progress(),0)/n.length}function ky(){return[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom].reduce((n,t)=>n.concat(t.getFailedAssets()),[])}function Mx(n){return A.assets.custom.get(n)??null}function Hf(n){return A.assets.custom.add(null,n)}var Tx=(n,t)=>({urlPrefix:"",sprites:new br,fonts:new br,bitmapFonts:new br,sounds:new br,shaders:new br,custom:new br,music:{},packer:new Ax(n,2048,2048,t),loaded:!1}),Rx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Fi=class Hl{constructor(t,r,l={},u=null){L(this,"tex");L(this,"frames",[new ot(0,0,1,1)]);L(this,"anims",{});L(this,"slice9",null);this.tex=t,r&&(this.frames=r),this.anims=l,this.slice9=u}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(t,r={}){return typeof t=="string"?Hl.fromURL(t,r):Promise.resolve(Hl.fromImage(t,r))}static fromImage(t,r={}){let[l,u]=r.singular?A.assets.packer.addSingle(t):A.assets.packer.add(t),c=r.frames?r.frames.map(h=>new ot(u.x+h.x*u.w,u.y+h.y*u.h,h.w*u.w,h.h*u.h)):Py(r.sliceX||1,r.sliceY||1,u.x,u.y,u.w,u.h);return new Hl(l,c,r.anims,r.slice9)}static fromURL(t,r={}){return Zu(t).then(l=>Hl.fromImage(l,r))}};function Su(n){if(typeof n=="string"){let t=Jy(n);if(t)return t;if(ba()<1)return null;throw new Error(`Sprite not found: ${n}`)}else{if(n instanceof Fi)return Tn.loaded(n);if(n instanceof Tn)return n;throw new Error(`Invalid sprite: ${n}`)}}function Jy(n){return A.assets.sprites.get(n)??null}function Vl(n,t,r={sliceX:1,sliceY:1,anims:{}}){return t=Mn(t),Array.isArray(t)?t.some(l=>typeof l=="string")?A.assets.sprites.add(n,Promise.all(t.map(l=>typeof l=="string"?Zu(l):Promise.resolve(l))).then(l=>zg(l,r))):A.assets.sprites.addLoaded(n,zg(t,r)):typeof t=="string"?A.assets.sprites.add(n,Fi.from(t,r)):A.assets.sprites.addLoaded(n,Fi.fromImage(t,r))}function Py(n=1,t=1,r=0,l=0,u=1,c=1){let h=[],g=u/n,p=c/t;for(let d=0;d<t;d++)for(let v=0;v<n;v++)h.push(new ot(r+v*g,l+d*p,g,p));return h}function zg(n,t={}){let r=document.createElement("canvas"),l=n[0].width,u=n[0].height;r.width=l*n.length,r.height=u;let c=r.getContext("2d");if(!c)throw new Error("Failed to create canvas context");n.forEach((g,p)=>{g instanceof ImageData?c.putImageData(g,p*l,0):c.drawImage(g,p*l,0)});let h=c.getImageData(0,0,n.length*l,u);return Fi.fromImage(h,{...t,sliceX:n.length,sliceY:1})}function Ox(n="bean"){return Vl(n,Rx)}function Cx(n,t,r){t=Mn(t),r=Mn(r),typeof t=="string"&&!r&&(r=q2(t)+".json");let l=typeof r=="string"?Ku(r):Promise.resolve(r);return A.assets.sprites.add(n,l.then(u=>{let c=u.meta.size,h=u.frames.map(p=>new ot(p.frame.x/c.w,p.frame.y/c.h,p.frame.w/c.w,p.frame.h/c.h)),g={};for(let p of u.meta.frameTags)p.from===p.to?g[p.name]=p.from:g[p.name]={from:p.from,to:p.to,speed:10,loop:!0,pingpong:p.direction==="pingpong"};return Fi.from(t,{frames:h,anims:g})}))}var Mu=class{constructor(n,t={}){L(this,"fontface");L(this,"filter",Bf);L(this,"outline",null);L(this,"size",64);if(this.fontface=n,this.filter=t.filter??Bf,this.size=t.size??64,this.size>256)throw new Error("Max font size: 256");t.outline&&(this.outline={width:1,color:Xe(0,0,0)},typeof t.outline=="number"?this.outline.width=t.outline:typeof t.outline=="object"&&(t.outline.width&&(this.outline.width=t.outline.width),t.outline.color&&(this.outline.color=t.outline.color)))}};function Iy(n){if(!n)return Iy(A.globalOpt.font??p2);if(typeof n=="string"){let t=$y(n),r=Wy(n);if(t)return t.data??t;if(r)return r.data??r;if(document.fonts.check(`64px ${n}`))return n;if(ba()<1)return null;throw new Error(`Font not found: ${n}`)}else if(n instanceof Tn)return n.data?n.data:n;return n}function Wy(n){return A.assets.fonts.get(n)??null}function qx(n,t,r={}){let l=Mn(t),u=new FontFace(n,typeof t=="string"?`url(${l})`:l);return document.fonts.add(u),A.assets.fonts.add(n,u.load().catch(c=>{throw new Error(`Failed to load font from "${l}": ${c}`)}).then(c=>new Mu(c,r)))}function Dx(n,t,r,l){let u=n.width/t,c={},h=l.split("").entries();for(let[g,p]of h)c[p]=new ot(g%u*t,Math.floor(g/u)*r,t,r);return{tex:n,map:c,size:r}}function $y(n){return A.assets.bitmapFonts.get(n)??null}function Bx(n,t,r,l,u={}){let c=Mn(t);return A.assets.bitmapFonts.add(n,Zu(c).then(h=>Dx(Ki.fromImage(A.gfx.ggl,h,u),r,l,u.chars??Ly)))}function _x(n,t){return t=Mn(t),A.assets.sprites.add(n,new Promise(async r=>{let l=typeof t=="string"?await Ku(t):t,u=await Promise.all(l.frames.map(Zu)),c=document.createElement("canvas");c.width=l.width,c.height=l.height*l.frames.length;let h=c.getContext("2d");if(!h)throw new Error("Failed to create canvas context");u.forEach((p,d)=>{h.drawImage(p,0,d*l.height)});let g=await Vl(null,c,{sliceY:l.frames.length,anims:l.anims});r(g)}))}var Ux=class{constructor(n,t,r,l){L(this,"ctx");L(this,"glProgram");this.ctx=n,n.onDestroy(()=>this.free());let u=n.gl,c=u.createShader(u.VERTEX_SHADER),h=u.createShader(u.FRAGMENT_SHADER);if(!c||!h)throw new Error("Failed to create shader");u.shaderSource(c,t),u.shaderSource(h,r),u.compileShader(c),u.compileShader(h);let g=u.createProgram();if(this.glProgram=g,u.attachShader(g,c),u.attachShader(g,h),l.forEach((p,d)=>u.bindAttribLocation(g,d,p)),u.linkProgram(g),!u.getProgramParameter(g,u.LINK_STATUS)){let p=u.getShaderInfoLog(c);if(p)throw new Error("VERTEX SHADER "+p);let d=u.getShaderInfoLog(h);if(d)throw new Error("FRAGMENT SHADER "+d)}u.deleteShader(c),u.deleteShader(h)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(n){let t=this.ctx.gl;for(let r in n){let l=n[r],u=t.getUniformLocation(this.glProgram,r);if(typeof l=="number")t.uniform1f(u,l);else if(l instanceof Zn)t.uniformMatrix4fv(u,!1,new Float32Array(l.m));else if(l instanceof _e)t.uniform3f(u,l.r,l.g,l.b);else if(l instanceof Z)t.uniform2f(u,l.x,l.y);else if(Array.isArray(l))l[0],T2(l)?t.uniform1fv(u,l):M2(l)?t.uniform2fv(u,l.map(c=>[c.x,c.y]).flat()):S2(l)&&t.uniform3fv(u,l.map(c=>[c.r,c.g,c.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}};function yh(n,t=_f,r=Uf){let l=v2.replace("{{user}}",t??_f),u=b2.replace("{{user}}",r??Uf);try{return new Ux(n,l,u,hh.map(c=>c.name))}catch(c){let h=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,g=D2(c).match(h);if(!(g!=null&&g.groups))throw c;let p=Number(g.groups.line)-14,d=g.groups.msg.trim(),v=g.groups.type.toLowerCase();throw new Error(`${v} shader line ${p}: ${d}`)}}function Nx(n){if(!n)return A.gfx.defShader;if(typeof n=="string"){let t=e0(n);if(t)return t.data??t;if(ba()<1)return null;throw new Error(`Shader not found: ${n}`)}else if(n instanceof Tn)return n.data?n.data:n;return n}function e0(n){return A.assets.shaders.get(n)??null}function zx(n,t,r){return A.assets.shaders.addLoaded(n,yh(A.gfx.ggl,t,r))}function Lx(n,t,r){t=Mn(t),r=Mn(r);let l=c=>c?wx(c):Promise.resolve(null),u=Promise.all([l(t),l(r)]).then(([c,h])=>yh(A.gfx.ggl,c,h));return A.assets.shaders.add(n,u)}var kl=class Tu{constructor(t){L(this,"buf");this.buf=t}static fromArrayBuffer(t){return new Promise((r,l)=>A.audio.ctx.decodeAudioData(t,r,l)).then(r=>new Tu(r))}static fromURL(t){return Qy(t)?Tu.fromArrayBuffer(O2(t)):xx(t).then(r=>Tu.fromArrayBuffer(r))}};function Hx(n){if(typeof n=="string"){let t=t0(n);if(t)return t;if(ba()<1)return null;throw new Error(`Sound not found: ${n}`)}else{if(n instanceof kl)return Tn.loaded(n);if(n instanceof Tn)return n;throw new Error(`Invalid sound: ${n}`)}}function t0(n){return A.assets.sounds.get(n)??null}function Gx(n,t){return t=Mn(t),A.assets.sounds.add(n,typeof t=="string"?kl.fromURL(t):kl.fromArrayBuffer(t))}function Yx(n,t){let r=Mn(t),l=new Audio(r);return l.preload="auto",A.assets.music[n]=r}function n0(n,t){return n=Mn(n),Hf(typeof t=="string"?new Promise((r,l)=>{Ku(t).then(u=>{n0(n,u).then(r).catch(l)})}):Fi.from(n).then(r=>{let l={};for(let u in t){let c=t[u],h=r.frames[0],g=2048*h.w,p=2048*h.h,d=c.frames?c.frames.map(E=>new ot(h.x+(c.x+E.x)/g*h.w,h.y+(c.y+E.y)/p*h.h,E.w/g*h.w,E.h/p*h.h)):Py(c.sliceX||1,c.sliceY||1,h.x+c.x/g*h.w,h.y+c.y/p*h.h,c.width/g*h.w,c.height/p*h.h),v=new Fi(r.tex,d,c.anims);A.assets.sprites.addLoaded(u,v),l[u]=v}return l}))}function ki(n,t,r=!1,l,u,c={}){let h=l??A.gfx.defTex,g=u??A.gfx.defShader,p=Nx(g);if(!p||p instanceof Tn)return;let d=A.gfx.fixed||r?A.gfx.transform:A.game.cam.transform.mult(A.gfx.transform),v=[];for(let E of n){let m=gx(d.multVec2(E.pos));v.push(m.x,m.y,E.uv.x,E.uv.y,E.color.r/255,E.color.g/255,E.color.b/255,E.opacity)}A.gfx.renderer.push(A.gfx.ggl.gl.TRIANGLES,v,t,p,h,c)}function Qi(n){if(!n.pts)throw new Error('drawPolygon() requires property "pts".');let t=n.pts.length;if(!(t<3)){if(xn(),ht(n.pos),Fl(n.scale),xr(n.angle),ht(n.offset),n.fill!==!1){let r=n.color??_e.WHITE,l=n.pts.map((c,h)=>({pos:new Z(c.x,c.y),uv:n.uv?n.uv[h]:new Z(0,0),color:n.colors&&n.colors[h]?n.colors[h].mult(r):r,opacity:n.opacity??1})),u;n.triangulate?u=zy(n.pts).map(c=>c.map(h=>n.pts.indexOf(h))).flat():u=[...Array(t-2).keys()].map(c=>[0,c+1,c+2]).flat(),ki(l,n.indices??u,n.fixed,n.uv?n.tex:A.gfx.defTex,n.shader,n.uniform??void 0)}n.outline&&vh({pts:[...n.pts,n.pts[0]],radius:n.radius,width:n.outline.width,color:n.outline.color,join:n.outline.join,uniform:n.uniform,fixed:n.fixed,opacity:n.opacity??n.outline.opacity}),an()}}function i0(n){if(n.radiusX===void 0||n.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(n.radiusX===0||n.radiusY===0)return;let t=n.start??0,r=n.end??360,l=Tr(n.anchor??"center").scale(new Z(-n.radiusX,-n.radiusY)),u=Ll(l,n.radiusX,n.radiusY,t,r,n.resolution);u.unshift(l);let c=Object.assign({},n,{pts:u,radius:0,...n.gradient?{colors:[n.gradient[0],...Array(u.length-1).fill(n.gradient[1])]}:{}});if(r-t>=360&&n.outline){n.fill!==!1&&Qi(Object.assign({},c,{outline:null})),Qi(Object.assign({},c,{pts:u.slice(1),fill:!1}));return}Qi(c)}function Rr(n){if(typeof n.radius!="number")throw new Error('drawCircle() requires property "radius".');n.radius!==0&&i0(Object.assign({},n,{radiusX:n.radius,radiusY:n.radius,angle:0}))}function Gl(n){let{p1:t,p2:r}=n;if(!t||!r)throw new Error('drawLine() requires properties "p1" and "p2".');let l=n.width||1,u=r.sub(t).unit().normal().scale(l*.5),c=[t.sub(u),t.add(u),r.add(u),r.sub(u)].map(h=>({pos:new Z(h.x,h.y),uv:new Z(0),color:n.color??_e.WHITE,opacity:n.opacity??1}));ki(c,[0,1,3,1,2,3],n.fixed,A.gfx.defTex,n.shader,n.uniform??void 0)}function jx(n){let t=n.pts,r=[],l=(n.width||1)*.5,u=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),c=n.pos||V(0,0),h;u?h=t[0].sub(t[t.length-2]):h=t[1].sub(t[0]);let g=h.len(),p=h.normal().scale(-l/g),d,v=t[0];if(!u)switch(n.cap){case"square":{let b=h.scale(-l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(-1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)r.push(v),r.push(v.sub(x)),x=V(x.x*M-x.y*_,x.x*_+x.y*M)}}for(let b=1;b<t.length;b++){if(v===t[b]||v.eq(t[b]))continue;d=v,v=t[b];let O=v.sub(d),x=O.len(),M=O.normal().scale(-l/x),_=h.cross(O);if(Math.abs(_)/(g*x)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(O)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=O,g=x,p=M;continue}let X=M.sub(p).cross(O)/_,ie=p.add(h.scale(X));_>0?(r.push(d.add(ie)),r.push(d.sub(p)),r.push(d.add(ie)),r.push(d.sub(M))):(r.push(d.add(p)),r.push(d.sub(ie)),r.push(d.add(M)),r.push(d.sub(ie))),h=O,g=x,p=M}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),n.cap){case"square":{let b=h.scale(l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)x=V(x.x*M-x.y*_,x.x*_+x.y*M),r.push(v),r.push(v.sub(x))}}if(r.length<4)return;let E=r.map(b=>({pos:c.add(b),uv:V(),color:n.color||_e.WHITE,opacity:n.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),ki(E,m,n.fixed,A.gfx.defTex,n.shader,n.uniform??void 0)}function Vx(n){let t=n.pts,r=[],l=(n.width||1)*.5,u=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),c=n.pos||V(0,0),h;u?h=t[0].sub(t[t.length-2]):h=t[1].sub(t[0]);let g=h.len(),p=h.normal().scale(-l/g),d,v=t[0];if(!u)switch(n.cap){case"square":{let b=h.scale(-l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(-1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)r.push(v),r.push(v.sub(x)),x=V(x.x*M-x.y*_,x.x*_+x.y*M)}}for(let b=1;b<t.length;b++){if(v===t[b]||v.eq(t[b]))continue;d=v,v=t[b];let O=v.sub(d),x=O.len(),M=O.normal().scale(-l/x),_=h.cross(O);if(Math.abs(_)/(g*x)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(O)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=O,g=x,p=M;continue}let X=M.sub(p).cross(O)/_,ie=p.add(h.scale(X));if(_>0){let k=d.add(ie),q=Math.max(l,10),B=bt(p.angleBetween(M)/q),H=p,W=Math.cos(B),ne=Math.sin(B);for(let ae=0;ae<q;ae++)r.push(k),r.push(d.sub(H)),H=V(H.x*W-H.y*ne,H.x*ne+H.y*W)}else{let k=d.sub(ie),q=Math.max(l,10),B=bt(p.angleBetween(M)/q),H=p,W=Math.cos(B),ne=Math.sin(B);for(let ae=0;ae<q;ae++)r.push(d.add(H)),r.push(k),H=V(H.x*W-H.y*ne,H.x*ne+H.y*W)}h=O,g=x,p=M}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),n.cap){case"square":{let b=h.scale(l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)x=V(x.x*M-x.y*_,x.x*_+x.y*M),r.push(v),r.push(v.sub(x))}}if(r.length<4)return;let E=r.map(b=>({pos:c.add(b),uv:V(),color:n.color||_e.WHITE,opacity:n.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),ki(E,m,n.fixed,A.gfx.defTex,n.shader,n.uniform??void 0)}function Xx(n){let t=n.pts,r=[],l=(n.width||1)*.5,u=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),c=n.pos||V(0,0),h;u?h=t[0].sub(t[t.length-2]):h=t[1].sub(t[0]);let g=h.len(),p=h.normal().scale(-l/g),d,v=t[0];if(!u)switch(n.cap){case"square":{let b=h.scale(-l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(-1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)r.push(v),r.push(v.sub(x)),x=V(x.x*M-x.y*_,x.x*_+x.y*M)}}for(let b=1;b<t.length;b++){if(v===t[b]||v.eq(t[b]))continue;d=v,v=t[b];let O=v.sub(d),x=O.len(),M=O.normal().scale(-l/x),_=h.cross(O);if(Math.abs(_)/(g*x)<.05){r.push(d.add(p)),r.push(d.sub(p)),h.dot(O)<0&&(r.push(d.sub(p)),r.push(d.add(p))),h=O,g=x,p=M;continue}let X=M.sub(p).cross(O)/_,ie=p.add(h.scale(X));r.push(d.add(ie)),r.push(d.sub(ie)),h=O,g=x,p=M}if(!u)switch(r.push(v.add(p)),r.push(v.sub(p)),n.cap){case"square":{let b=h.scale(l/g);r.push(v.add(b).add(p)),r.push(v.add(b).sub(p));break}case"round":{let b=Math.max(l,10),O=Math.PI/b,x=p.scale(1),M=Math.cos(O),_=Math.sin(O);for(let X=0;X<b;X++)x=V(x.x*M-x.y*_,x.x*_+x.y*M),r.push(v),r.push(v.sub(x))}}if(r.length<4)return;let E=r.map(b=>({pos:c.add(b),uv:V(),color:n.color||_e.WHITE,opacity:n.opacity??1})),m=[],S=0;for(let b=0;b<r.length-2;b+=2)m[S++]=b+1,m[S++]=b,m[S++]=b+2,m[S++]=b+2,m[S++]=b+3,m[S++]=b+1;u&&(m[S++]=r.length-1,m[S++]=r.length-2,m[S++]=0,m[S++]=0,m[S++]=1,m[S++]=r.length-1),ki(E,m,n.fixed,A.gfx.defTex,n.shader,n.uniform??void 0)}function vh(n){let t=n.pts,r=n.width??1;if(!t)throw new Error('drawLines() requires property "pts".');if(!(t.length<2)){if(t.length>2)switch(n.join){case"bevel":return jx(n);case"round":return Vx(n);case"miter":return Xx(n)}if(n.radius&&t.length>=3){Gl(Object.assign({},n,{p1:t[0],p2:t[1]}));for(let l=1;l<t.length-2;l++){let u=t[l],c=t[l+1];Gl(Object.assign({},n,{p1:u,p2:c}))}Gl(Object.assign({},n,{p1:t[t.length-2],p2:t[t.length-1]}))}else for(let l=0;l<t.length-1;l++)Gl(Object.assign({},n,{p1:t[l],p2:t[l+1]})),n.join!=="none"&&Rr(Object.assign({},n,{pos:t[l],radius:r/2}))}}function a0(n,t){let r=t.segments??16,l=[];for(let u=0;u<=r;u++)l.push(n(u/r));vh({pts:l,width:t.width||1,pos:t.pos,color:t.color,opacity:t.opacity})}function Qx(n){a0(t=>fh(n.pt1,n.pt2,n.pt3,n.pt4,t),n)}var Ki=class r0{constructor(t,r,l,u={}){L(this,"ctx");L(this,"src",null);L(this,"glTex");L(this,"width");L(this,"height");this.ctx=t;let c=t.gl,h=t.gl.createTexture();if(!h)throw new Error("Failed to create texture");this.glTex=h,t.onDestroy(()=>this.free()),this.width=r,this.height=l;let g={linear:c.LINEAR,nearest:c.NEAREST}[u.filter??t.opts.texFilter??"nearest"],p={repeat:c.REPEAT,clampToEdge:c.CLAMP_TO_EDGE}[u.wrap??"clampToEdge"];this.bind(),r&&l&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,r,l,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,p),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,p),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(t,r,l={}){let u=new r0(t,r.width,r.height,l);return u.update(r),u.src=r,u}update(t,r=0,l=0){let u=this.ctx.gl;this.bind(),u.texSubImage2D(u.TEXTURE_2D,0,r,l,u.RGBA,u.UNSIGNED_BYTE,t),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},_u=class{constructor(n,t,r,l={}){L(this,"ctx");L(this,"tex");L(this,"glFramebuffer");L(this,"glRenderbuffer");this.ctx=n;let u=n.gl;n.onDestroy(()=>this.free()),this.tex=new Ki(n,t,r,l);let c=u.createFramebuffer(),h=u.createRenderbuffer();if(!c||!h)throw new Error("Failed to create framebuffer");this.glFramebuffer=c,this.glRenderbuffer=h,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,t,r),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let n=this.ctx.gl,t=new Uint8ClampedArray(this.width*this.height*4);this.bind(),n.readPixels(0,0,this.width,this.height,n.RGBA,n.UNSIGNED_BYTE,t),this.unbind();let r=this.width*4,l=new Uint8Array(r);for(let u=0;u<(this.height/2|0);u++){let c=u*r,h=(this.height-u-1)*r;l.set(t.subarray(c,c+r)),t.copyWithin(c,h,h+r),t.set(l,h)}return new ImageData(t,this.width,this.height)}toDataURL(){let n=document.createElement("canvas"),t=n.getContext("2d");if(n.width=this.width,n.height=this.height,!t)throw new Error("Failed to get 2d context");return t.putImageData(this.toImageData(),0,0),n.toDataURL()}clear(){let n=this.ctx.gl;n.clear(n.COLOR_BUFFER_BIT)}draw(n){this.bind(),n(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let n=this.ctx.gl;n.deleteFramebuffer(this.glFramebuffer),n.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},Kx=class{constructor(n,t,r,l){L(this,"ctx");L(this,"glVBuf");L(this,"glIBuf");L(this,"vqueue",[]);L(this,"iqueue",[]);L(this,"stride");L(this,"maxVertices");L(this,"maxIndices");L(this,"vertexFormat");L(this,"numDraws",0);L(this,"curPrimitive",null);L(this,"curTex",null);L(this,"curShader",null);L(this,"curUniform",{});let u=n.gl;this.vertexFormat=t,this.ctx=n,this.stride=t.reduce((h,g)=>h+g.size,0),this.maxVertices=r,this.maxIndices=l;let c=u.createBuffer();if(!c)throw new Error("Failed to create vertex buffer");this.glVBuf=c,n.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,r*4,u.DYNAMIC_DRAW),n.popArrayBuffer(),this.glIBuf=u.createBuffer(),n.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,l*4,u.DYNAMIC_DRAW),n.popElementArrayBuffer()}push(n,t,r,l,u=null,c={}){(n!==this.curPrimitive||u!==this.curTex||l!==this.curShader||!ph(this.curUniform,c)||this.vqueue.length+t.length*this.stride>this.maxVertices||this.iqueue.length+r.length>this.maxIndices)&&this.flush();let h=this.vqueue.length/this.stride;for(let g of t)this.vqueue.push(g);for(let g of r)this.iqueue.push(g+h);this.curPrimitive=n,this.curShader=l,this.curTex=u,this.curUniform=c}flush(){var t,r;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let n=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),n.bufferSubData(n.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(t=this.curTex)==null||t.bind(),n.drawElements(this.curPrimitive,this.iqueue.length,n.UNSIGNED_SHORT,0),(r=this.curTex)==null||r.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let n=this.ctx.gl;n.deleteBuffer(this.glVBuf),n.deleteBuffer(this.glIBuf)}};function ma(n){let t=[],r=c=>{t.push(c),n(c)},l=()=>{t.pop(),n(u()??null)},u=()=>t[t.length-1];return[r,l,u]}function Zx(n,t={}){let r=[];function l(k){r.push(k)}function u(){r.forEach(q=>q());let k=n.getExtension("WEBGL_lose_context");k&&k.loseContext()}let c=null;function h(k){if(ph(k,c))return;c=k;let q=k.reduce((B,H)=>B+H.size,0);k.reduce((B,H,W)=>(n.vertexAttribPointer(W,H.size,n.FLOAT,!1,q*4,B),n.enableVertexAttribArray(W),B+H.size*4),0)}let[g,p]=ma(k=>n.bindTexture(n.TEXTURE_2D,k)),[d,v]=ma(k=>n.bindBuffer(n.ARRAY_BUFFER,k)),[E,m]=ma(k=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,k)),[S,b]=ma(k=>n.bindFramebuffer(n.FRAMEBUFFER,k)),[O,x]=ma(k=>n.bindRenderbuffer(n.RENDERBUFFER,k)),[M,_]=ma(k=>{if(!k)return;let{x:q,y:B,w:H,h:W}=k;n.viewport(q,B,H,W)}),[X,ie]=ma(k=>n.useProgram(k));return M({x:0,y:0,w:n.drawingBufferWidth,h:n.drawingBufferHeight}),{gl:n,opts:t,onDestroy:l,destroy:u,pushTexture2D:g,popTexture2D:p,pushArrayBuffer:d,popArrayBuffer:v,pushElementArrayBuffer:E,popElementArrayBuffer:m,pushFramebuffer:S,popFramebuffer:b,pushRenderbuffer:O,popRenderbuffer:x,pushViewport:M,popViewport:_,pushProgram:X,popProgram:ie,setVertexFormat:h}}var yf={};function Lg(n,t){if(t.override){Object.assign(n,t);return}t.pos&&(n.pos=n.pos.add(t.pos)),t.scale&&(n.scale=n.scale.scale(V(t.scale))),t.angle&&(n.angle+=t.angle),t.color&&n.ch.length===1&&(n.color=n.color.mult(t.color)),t.opacity!=null&&(n.opacity*=t.opacity)}function Gf(n){let t={},r="",l=[],u=String(n),c=h=>{l.length>0&&(t[r.length]=l.slice()),r+=h};for(;u!=="";){if(u[0]==="\\"){if(u.length===1)throw new Error("Styled text error: \\ at end of string");c(u[1]),u=u.slice(2);continue}if(u[0]==="["){let h=/^\[(\/)?(\w+?)\]/.exec(u);if(!h){c(u[0]),u=u.slice(1);continue}let[g,p,d]=h;if(p!==void 0){let v=l.pop();if(v!==d)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${d}]`):new Error(`Styled text error: stray end tag [/${d}]`)}else l.push(d);u=u.slice(g.length);continue}c(u[0]),u=u.slice(1)}if(l.length>0)throw new Error(`Styled text error: unclosed tags ${l}`);return{charStyleMap:t,text:r}}function Aa(n){var X,ie,k;if(n.text===void 0)throw new Error('formatText() requires property "text".');let t=Iy(n.font);if(!n.text||n.text===""||t instanceof Tn||!t)return{width:0,height:0,chars:[],opt:n,renderedText:""};let{charStyleMap:r,text:l}=Gf(n.text+""),u=U2(l);if(t instanceof Mu||typeof t=="string"){let q=t instanceof Mu?t.fontface.family:t,B=t instanceof Mu?{outline:t.outline,filter:t.filter}:{outline:null,filter:Bf},H=yf[q]??{font:{tex:new Ki(A.gfx.ggl,2048,2048,{filter:B.filter}),map:{},size:64},cursor:new Z(0),maxHeight:0,outline:B.outline};yf[q]||(yf[q]=H),t=H.font;for(let W of u)if(!H.font.map[W]){let ne=A.fontCacheC2d;if(!ne)throw new Error("fontCacheC2d is not defined.");if(!A.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");ne.clearRect(0,0,A.fontCacheCanvas.width,A.fontCacheCanvas.height),ne.font=`${t.size}px ${q}`,ne.textBaseline="top",ne.textAlign="left",ne.fillStyle="#ffffff";let ae=ne.measureText(W),ue=Math.ceil(ae.width);if(!ue)continue;let pe=Math.ceil(Math.abs(ae.actualBoundingBoxAscent))+Math.ceil(Math.abs(ae.actualBoundingBoxDescent));H.outline&&H.outline.width&&H.outline.color&&(ne.lineJoin="round",ne.lineWidth=H.outline.width*2,ne.strokeStyle=H.outline.color.toHex(),ne.strokeText(W,H.outline.width,H.outline.width),ue+=H.outline.width*2,pe+=H.outline.width*3),ne.fillText(W,((X=H.outline)==null?void 0:X.width)??0,((ie=H.outline)==null?void 0:ie.width)??0);let we=ne.getImageData(0,0,ue,pe);if(H.cursor.x+ue>2048&&(H.cursor.x=0,H.cursor.y+=H.maxHeight,H.maxHeight=0,H.cursor.y>2048))throw new Error("Font atlas exceeds character limit");t.tex.update(we,H.cursor.x,H.cursor.y),t.map[W]=new ot(H.cursor.x,H.cursor.y,ue,pe),H.cursor.x+=ue+1,H.maxHeight=Math.max(H.maxHeight,pe)}}let c=n.size||t.size,h=V(n.scale??1).scale(c/t.size),g=n.lineSpacing??0,p=n.letterSpacing??0,d=0,v=0,E=0,m=[],S=[],b=0,O=null,x=0,M;for(;b<u.length;){let q=u[b];if(q===`
`)E+=c+g,m.push({width:d-p,chars:S}),O=null,x=0,d=0,S=[],M=void 0;else{let B=t.map[q];if(B){let H=B.w*h.x;n.width&&d+H>n.width&&(E+=c+g,O!=null&&(b-=S.length-O,q=u[b],B=t.map[q],H=B.w*h.x,S=S.slice(0,O-1),d=x),O=null,x=0,m.push({width:d-p,chars:S}),d=M??0,S=[]),S.push({tex:t.tex,width:B.w,height:B.h,quad:new ot(B.x/t.tex.width,B.y/t.tex.height,B.w/t.tex.width,B.h/t.tex.height),ch:q,pos:new Z(d,E),opacity:n.opacity??1,color:n.color??_e.WHITE,scale:V(h),angle:0}),q===" "&&(O=S.length,x=d),n.indentAll&&M===void 0&&/\S/.test(q)&&(M=d),d+=H,v=Math.max(v,d),d+=p}}b++}m.push({width:d-p,chars:S}),E+=c,n.width&&(v=n.width);let _=[];for(let q=0;q<m.length;q++){let B=(v-m[q].width)*ox(n.align??"left");for(let H of m[q].chars){let W=t.map[H.ch],ne=_.length+q;if(H.pos=H.pos.add(B,0).add(W.w*h.x*.5,W.h*h.y*.5),n.transform){let ae=typeof n.transform=="function"?n.transform(ne,H.ch):n.transform;ae&&Lg(H,ae)}if(r[ne]){let ae=r[ne];for(let ue of ae){let pe=(k=n.styles)==null?void 0:k[ue],we=typeof pe=="function"?pe(ne,H.ch):pe;we&&Lg(H,we)}}_.push(H)}}return{width:v,height:E,chars:_,opt:n,renderedText:l}}function Jl(n){if(n.width===void 0||n.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let t=n.width,r=n.height,l=Tr(n.anchor||Qu).scale(new Z(t,r).scale(-.5)),u=n.quad||new ot(0,0,1,1),c=n.color||Xe(255,255,255),h=n.opacity??1,g=n.tex?.1/n.tex.width:0,p=n.tex?.1/n.tex.height:0,d=u.x+g,v=u.y+p,E=u.w-g*2,m=u.h-p*2;xn(),ht(n.pos),xr(n.angle),Fl(n.scale),ht(l),ki([{pos:new Z(-t/2,r/2),uv:new Z(n.flipX?d+E:d,n.flipY?v:v+m),color:c,opacity:h},{pos:new Z(-t/2,-r/2),uv:new Z(n.flipX?d+E:d,n.flipY?v+m:v),color:c,opacity:h},{pos:new Z(t/2,-r/2),uv:new Z(n.flipX?d:d+E,n.flipY?v+m:v),color:c,opacity:h},{pos:new Z(t/2,r/2),uv:new Z(n.flipX?d:d+E,n.flipY?v:v+m),color:c,opacity:h}],[0,1,3,1,2,3],n.fixed,n.tex,n.shader,n.uniform??void 0),an()}function wa(n){xn(),ht(n.opt.pos),xr(n.opt.angle),ht(Tr(n.opt.anchor??"topleft").add(1,1).scale(n.width,n.height).scale(-.5)),n.chars.forEach(t=>{Jl({tex:t.tex,width:t.width,height:t.height,pos:t.pos,scale:t.scale,angle:t.angle,color:t.color,opacity:t.opacity,quad:t.quad,anchor:"center",uniform:n.opt.uniform,shader:n.opt.shader,fixed:n.opt.fixed})}),an()}function Sn(n){if(n.width===void 0||n.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let t=n.width,r=n.height,l=Tr(n.anchor||Qu).add(1,1).scale(new Z(t,r).scale(-.5)),u=[new Z(0,0),new Z(t,0),new Z(t,r),new Z(0,r)];if(n.radius){let c=Math.min(t,r)/2,h=Array.isArray(n.radius)?n.radius.map(g=>Math.min(c,g)):new Array(4).fill(Math.min(c,n.radius));u=[new Z(h[0],0),...h[1]?Ll(new Z(t-h[1],h[1]),h[1],h[1],270,360):[V(t,0)],...h[2]?Ll(new Z(t-h[2],r-h[2]),h[2],h[2],0,90):[V(t,r)],...h[3]?Ll(new Z(h[3],r-h[3]),h[3],h[3],90,180):[V(0,r)],...h[0]?Ll(new Z(h[0],h[0]),h[0],h[0],180,270):[]]}Qi(Object.assign({},n,{offset:l,pts:u,...n.gradient?{colors:n.horizontal?[n.gradient[0],n.gradient[1],n.gradient[1],n.gradient[0]]:[n.gradient[0],n.gradient[0],n.gradient[1],n.gradient[1]]}:{}}))}function Vi(n){En();let t=A.gfx.width,r=A.gfx.height;A.gfx.width=A.gfx.viewport.width,A.gfx.height=A.gfx.viewport.height,n(),En(),A.gfx.width=t,A.gfx.height=r}function Hg(n,t){Vi(()=>{let r=V(8);xn(),ht(n);let l=Aa({text:t,font:Du,size:16,pos:r,color:Xe(255,255,255),fixed:!0}),u=l.width+r.x*2,c=l.height+r.x*2;n.x+u>=Ut()&&ht(V(-u,0)),n.y+c>=Ht()&&ht(V(0,-c)),Sn({width:u,height:c,color:Xe(0,0,0),radius:4,opacity:.8,fixed:!0}),wa(l),an()})}function l0(n){if(!n.p1||!n.p2||!n.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return Qi(Object.assign({},n,{pts:[n.p1,n.p2,n.p3]}))}function Fx(){if(A.debug.inspect){let n=null;for(let t of A.game.root.get("*",{recursive:!0}))if(t.has("area")&&t.isHovering()){n=t;break}if(A.game.root.drawInspect(),n){let t=[],r=n.inspect();for(let l in r)r[l]?t.push(`${r[l]}`):t.push(`${l}`);Hg(Z2(A.k.mousePos()),t.join(`
`))}Hg(V(8),`FPS: ${A.debug.fps()}`)}A.debug.paused&&Vi(()=>{xn(),ht(Ut(),0),ht(-8,8);let n=32;Sn({width:n,height:n,anchor:"topright",color:Xe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let t=1;t<=2;t++)Sn({width:4,height:n*.6,anchor:"center",pos:V(-n/3*t,n*.5),color:Xe(255,255,255),radius:2,fixed:!0});an()}),A.debug.timeScale!==1&&Vi(()=>{xn(),ht(Ut(),Ht()),ht(-8,-8);let n=8,t=Aa({text:A.debug.timeScale.toFixed(1),font:Du,size:16,color:Xe(255,255,255),pos:V(-n),anchor:"botright",fixed:!0});Sn({width:t.width+n*2+n*4,height:t.height+n*2,anchor:"botright",color:Xe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let r=0;r<2;r++){let l=A.debug.timeScale<1;l0({p1:V(-t.width-n*(l?2:3.5),-n),p2:V(-t.width-n*(l?2:3.5),-n-t.height),p3:V(-t.width-n*(l?3.5:2),-n-t.height/2),pos:V(-r*n*1+(l?-n*.5:0),0),color:Xe(255,255,255),fixed:!0})}wa(t),an()}),A.debug.curRecording&&Vi(()=>{xn(),ht(0,Ht()),ht(24,-24),Rr({radius:12,color:Xe(255,0,0),opacity:Ay(0,1,A.app.time()*4),fixed:!0}),an()}),A.debug.showLog&&A.game.logs.length>0&&Vi(()=>{xn(),ht(0,Ht()),ht(8,-8);let n=8,t=[];for(let l of A.game.logs){let u="",c=l.msg instanceof Error?"error":"info";u+=`[time]${l.time.toFixed(2)}[/time]`,u+=" ",u+=`[${c}]${Yf(l.msg)}[/${c}]`,t.push(u)}A.game.logs=A.game.logs.filter(l=>A.app.time()-l.time<(A.globalOpt.logTime||4));let r=Aa({text:t.join(`
`),font:Du,pos:V(n,-n),anchor:"botleft",size:16,width:Ut()*.6,lineSpacing:n/2,fixed:!0,styles:{time:{color:Xe(127,127,127)},info:{color:Xe(255,255,255)},error:{color:Xe(255,0,127)}}});Sn({width:r.width+n*2,height:r.height+n*2,anchor:"botleft",color:Xe(0,0,0),radius:4,opacity:.8,fixed:!0}),wa(r),an()})}function Yf(n,t=!1,r=new Set){if(r.has(n))return"<recursive>";var l="",u;return t&&typeof n=="string"&&(n=JSON.stringify(n)),Array.isArray(n)&&(l=["[",n.map(c=>Yf(c,!0,r.union(new Set([n])))).join(", "),"]"].join(""),n=l),n===null?"null":(typeof n=="object"&&n.toString===Object.prototype.toString&&(n.constructor!==Object&&(l+=n.constructor.name+" "),l+=["{",(u=Object.getOwnPropertyNames(n).map(c=>`${/^\w+$/.test(c)?c:JSON.stringify(c)}: ${Yf(n[c],!0,r.union(new Set([n])))}`).join(", "))?` ${u} `:"","}"].join(""),n=l),String(n).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}function kx(){let n=A.game.cam,t=Z.fromAngle(Ct(0,360)).scale(n.shake);n.shake=rn(n.shake,0,5*qt()),n.transform=new Zn().translate(Bu()).scale(n.scale).rotate(n.angle).translate((n.pos??Bu()).scale(-1).add(t)),A.game.root.draw(),En()}function Jx(){let n=ba();A.game.events.numListeners("loading")>0?A.game.events.trigger("loading",n):Vi(()=>{let t=Ut()/2,r=24,l=V(Ut()/2,Ht()/2).sub(V(t/2,r/2));Sn({pos:V(0),width:Ut(),height:Ht(),color:Xe(0,0,0)}),Sn({pos:l,width:t,height:r,fill:!1,outline:{width:4}}),Sn({pos:l,width:t*n,height:r})})}function s0(n,t,r){let l=A.gfx.ggl.gl;En(),l.clear(l.STENCIL_BUFFER_BIT),l.enable(l.STENCIL_TEST),l.stencilFunc(l.NEVER,1,255),l.stencilOp(l.REPLACE,l.REPLACE,l.REPLACE),t(),En(),l.stencilFunc(r,1,255),l.stencilOp(l.KEEP,l.KEEP,l.KEEP),n(),En(),l.disable(l.STENCIL_TEST)}function Px(n,t){let r=A.gfx.ggl.gl;s0(n,t,r.EQUAL)}function Uu(n){var c,h;if(!n.tex)throw new Error('drawTexture() requires property "tex".');let t=n.quad??new ot(0,0,1,1),r=n.tex.width*t.w,l=n.tex.height*t.h,u=new Z(1);if(n.tiled){let g=Tr(n.anchor||Qu);(((c=n.pos)==null?void 0:c.x)||0)-(g.x+1)*.5*(n.width||r),(((h=n.pos)==null?void 0:h.y)||0)-(g.y+1)*.5*(n.height||l);let p=(n.width||r)/r,d=(n.height||l)/l,v=Math.floor(p),E=Math.floor(d),m=p-v,S=d-E,b=(v+m?1:0)*(E+S?1:0),O=new Array(b*6),x=new Array(b*4),M=0,_=(X,ie,k,q,B)=>{O[M*6+0]=M*4+0,O[M*6+1]=M*4+1,O[M*6+2]=M*4+3,O[M*6+3]=M*4+1,O[M*6+4]=M*4+2,O[M*6+5]=M*4+3,x[M*4+0]={pos:new Z(X-g.x,ie-g.y),uv:new Z(B.x,B.y),color:n.color||_e.WHITE,opacity:n.opacity||1},x[M*4+1]={pos:new Z(X+k-g.x,ie-g.y),uv:new Z(B.x+B.w,B.y),color:n.color||_e.WHITE,opacity:n.opacity||1},x[M*4+2]={pos:new Z(X+k-g.x,ie+q-g.y),uv:new Z(B.x+B.w,B.y+B.h),color:n.color||_e.WHITE,opacity:n.opacity||1},x[M*4+3]={pos:new Z(X-g.x,ie+q-g.y),uv:new Z(B.x,B.y+B.h),color:n.color||_e.WHITE,opacity:n.opacity||1},M++};for(let X=0;X<E;X++){for(let ie=0;ie<v;ie++)_(ie*r,X*l,r,l,t);m&&_(v*r,X*l,r*m,l,new ot(t.x,t.y,t.w*m,t.h))}if(S){for(let X=0;X<v;X++)_(X*r,E*l,r,l*S,new ot(t.x,t.y,t.w,t.h*S));m&&_(v*r,E*l,r*m,l*S,new ot(t.x,t.y,t.w*m,t.h*S))}ki(x,O,n.fixed,n.tex,n.shader,n.uniform??void 0)}else n.width&&n.height?(u.x=n.width/r,u.y=n.height/l):n.width?(u.x=n.width/r,u.y=u.x):n.height&&(u.y=n.height/l,u.x=u.y),Jl(Object.assign({},n,{scale:u.scale(n.scale||new Z(1)),tex:n.tex,quad:t,width:r,height:l}))}function Ix(n){if(!n.sprite)throw new Error('drawSprite() requires property "sprite"');let t=Su(n.sprite);if(!t||!t.data)return;let r=t.data.frames[n.frame??0];if(!r)throw new Error(`Frame not found: ${n.frame??0}`);Uu(Object.assign({},n,{tex:t.data.tex,quad:r.scale(n.quad??new ot(0,0,1,1))}))}function Wx(n,t){let r=A.gfx.ggl.gl;s0(n,t,r.NOTEQUAL)}function Gg(n){wa(Aa(n))}var $x=(n,t)=>{let r=yh(t,_f,Uf),l=n.pixelDensity??1,u=n.scale??1,{gl:c}=t,h=Ki.fromImage(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),g=n.width&&n.height?new _u(t,n.width*l*u,n.height*l*u):new _u(t,c.drawingBufferWidth,c.drawingBufferHeight),p=null,d=1;n.background&&(typeof n.background=="string"?p=Xe(n.background):(p=Xe(...n.background),d=n.background[3]??1),c.clearColor(p.r/255,p.g/255,p.b/255,d??1)),c.enable(c.BLEND),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);let v=new Kx(t,hh,g2,y2),E=Ki.fromImage(t,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:t,defShader:r,defTex:h,frameBuffer:g,postShader:null,postShaderUniform:null,renderer:v,transform:new Zn,transformStack:[],bgTex:E,bgColor:p,bgAlpha:d,width:n.width??c.drawingBufferWidth/l/u,height:n.height??c.drawingBufferHeight/l/u,viewport:{x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight,scale:1},fixed:!1}};function ya(n){return n.fixed?!0:n.parent?ya(n.parent):!1}function xa(n){return{color:n.color,opacity:n.opacity,anchor:n.anchor,outline:n.outline,shader:n.shader,uniform:n.uniform}}function eE(n,t={}){return{id:"circle",radius:n,draw(){Rr(Object.assign(xa(this),{radius:this.radius,fill:t.fill}))},renderArea(){return new nt(new Z(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}function u0(...n){return{id:"color",color:Xe(...n),inspect(){return`color: ${this.color.toString()}`}}}function tE(n){return{add(){this.canvas=n}}}function nE(n=1){let t,r=0,l=!1;return{require:["opacity"],add(){t=this.opacity,this.opacity=0},update(){l||(r+=qt(),this.opacity=Xn(r,0,n,0,t),r>=n&&(this.opacity=t,l=!0))}}}function iE(n="intersect"){return{id:"mask",mask:n}}function o0(n){return{id:"opacity",opacity:n??1,fadeIn(t=1,r=A.k.easings.linear){return A.game.root.tween(0,this.opacity,t,l=>this.opacity=l,r)},fadeOut(t=1,r=A.k.easings.linear){return A.game.root.tween(this.opacity,0,t,l=>this.opacity=l,r)},inspect(){return`opacity: ${Nf(this.opacity,1)}`}}}function aE(n=1,t=Xe(0,0,0),r=1,l="miter",u=10,c="butt"){return{id:"outline",outline:{width:n,color:t,opacity:r,join:l,miterLimit:u,cap:c},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}var rE=class{constructor(){L(this,"pos",V(0));L(this,"vel",V(0));L(this,"acc",V(0));L(this,"angle",0);L(this,"angularVelocity",0);L(this,"damping",0);L(this,"t");L(this,"lt",null);L(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}};function lE(n,t){let r=t.lifetime,l=[],u=n.colors||[_e.WHITE],c=n.opacities||[1],h=n.quads||[new ot(0,0,1,1)],g=n.scales||[1],p=n.lifeTime,d=t.direction,v=t.spread,E=n.speed||[0,0],m=n.angle||[0,0],S=n.angularVelocity||[0,0],b=n.acceleration||[V(0),V(0)],O=n.damping||[0,0],x=[],M=new Array(n.max),_=0,X=0;for(let q=0;q<n.max;q++){x[q*6+0]=q*4+0,x[q*6+1]=q*4+1,x[q*6+2]=q*4+3,x[q*6+3]=q*4+1,x[q*6+4]=q*4+2,x[q*6+5]=q*4+3;for(let B=0;B<4;B++)M[q*4+B]={pos:new Z(0,0),uv:new Z(0,0),color:Xe(255,255,255),opacity:1};l[q]=new rE}let ie=new Kt;function k(q=0){for(;q<n.max;){if(l[q].gc)return q;q++}return null}return{id:"particles",emit(q){let B=0;for(let H=0;H<q;H++){if(B=k(B),B==null)return;let W=Ct(d-v,d+v),ne=Z.fromAngle(W).scale(Ct(E[0],E[1])),ae=Ct(m[0],m[1]),ue=Ct(S[0],S[1]),pe=V(Ct(b[0].x,b[1].x),Ct(b[0].y,b[1].y)),we=Ct(O[0],O[1]),ve=p?Ct(p[0],p[1]):null,z=t.shape?t.shape.random():V(),ee=l[B];ee.lt=ve,ee.pos=z,ee.vel=ne,ee.acc=pe,ee.angle=ae,ee.angularVelocity=ue,ee.damping=we,ee.angularVelocity=ue,ee.gc=!1}_+=q},update(){if(r!==void 0&&r<=0)return;let q=qt();for(let B of l)if(!B.gc){if(B.t+=q,B.lt&&B.t>=B.lt){B.gc=!0,_--;continue}B.vel=B.vel.add(B.acc.scale(q)).scale(1-B.damping*q),B.pos=B.pos.add(B.vel.scale(q)),B.angle+=B.angularVelocity*q}for(r!==void 0&&(r-=q,r<=0&&ie.trigger()),X+=q;_<n.max&&t.rate&&X>t.rate;)this.emit(1),_++,X-=t.rate},draw(){if(!(r!==void 0&&r<=0)){for(let q=0;q<l.length;q++){let B=l[q];if(B.gc)continue;let H=B.progress,W=Math.floor(B.progress*u.length),ne=W<u.length-1?rn(u[W],u[W+1],Xn(H,W/u.length,(W+1)/u.length,0,1)):u[W],ae=Math.floor(B.progress*c.length),ue=ae<c.length-1?rn(c[ae],c[ae+1],Xn(H,ae/c.length,(ae+1)/c.length,0,1)):c[ae],pe=Math.floor(B.progress*h.length),we=h[pe],ve=Math.floor(B.progress*g.length),z=g[ve],ee=Math.cos(B.angle*Math.PI/180),le=Math.sin(B.angle*Math.PI/180),ce=(n.texture?n.texture.width:10)*we.w/2,T=(n.texture?n.texture.height:10)*we.h/2,K=q*4,te=M[K];te.pos.x=B.pos.x+-ce*z*ee- -T*z*le,te.pos.y=B.pos.y+-ce*z*le+-T*z*ee,te.uv.x=we.x,te.uv.y=we.y,te.color.r=ne.r,te.color.g=ne.g,te.color.b=ne.b,te.opacity=ue,te=M[K+1],te.pos.x=B.pos.x+ce*z*ee- -T*z*le,te.pos.y=B.pos.y+ce*z*le+-T*z*ee,te.uv.x=we.x+we.w,te.uv.y=we.y,te.color.r=ne.r,te.color.g=ne.g,te.color.b=ne.b,te.opacity=ue,te=M[K+2],te.pos.x=B.pos.x+ce*z*ee-T*z*le,te.pos.y=B.pos.y+ce*z*le+T*z*ee,te.uv.x=we.x+we.w,te.uv.y=we.y+we.h,te.color.r=ne.r,te.color.g=ne.g,te.color.b=ne.b,te.opacity=ue,te=M[K+3],te.pos.x=B.pos.x+-ce*z*ee-T*z*le,te.pos.y=B.pos.y+-ce*z*le+T*z*ee,te.uv.x=we.x,te.uv.y=we.y+we.h,te.color.r=ne.r,te.color.g=ne.g,te.color.b=ne.b,te.opacity=ue}ki(M,x,this.fixed,n.texture,this.shader,this.uniform)}},onEnd(q){return ie.add(q)},inspect(){return`count: ${_}/${n.max}`}}}function sE(n,t={}){if(n.length<3)throw new Error(`Polygon's need more than two points, ${n.length} points provided`);return{id:"polygon",pts:n,colors:t.colors,uv:t.uv,tex:t.tex,radius:t.radius,draw(){Qi(Object.assign(xa(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:t.fill,triangulate:t.triangulate}))},renderArea(){return new Zt(this.pts)},inspect(){return`polygon: ${this.pts.map(r=>`[${r.x},${r.y}]`).join(",")}`}}}function c0(n,t,r){let l;return A.game.root.get("area").forEach(u=>{if(r&&r.some(h=>u.is(h)))return;let c=u.worldArea().raycast(n,t);c&&(l?c.fraction<l.fraction&&(l=c,l.object=u):(l=c,l.object=u))}),l}function f0(n,t,r={}){return{id:"rect",width:n,height:t,radius:r.radius||0,draw(){Sn(Object.assign(xa(this),{width:this.width,height:this.height,radius:this.radius,fill:r.fill}))},renderArea(){return new nt(V(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}function uE(n,t){return{id:"shader",shader:n,...typeof t=="function"?{uniform:t(),update(){this.uniform=t()}}:{uniform:t},inspect(){return`shader: ${n}`}}}function oE(n,t){if(!t.tileWidth||!t.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let r=A.game.root.add([Nu(t.pos??V(0))]),l=n.length,u=0,c=null,h=null,g=null,p=null,d=q=>q.x+q.y*u,v=q=>V(Math.floor(q%u),Math.floor(q/u)),E=()=>{c=[];for(let q of r.children)m(q)},m=q=>{let B=d(q.tilePos);c[B]?c[B].push(q):c[B]=[q]},S=q=>{let B=d(q.tilePos);if(c[B]){let H=c[B].indexOf(q);H>=0&&c[B].splice(H,1)}},b=()=>{let q=!1;for(let B of r.children){let H=r.pos2Tile(B.pos);(B.tilePos.x!=H.x||B.tilePos.y!=H.y)&&(q=!0,S(B),B.tilePos.x=H.x,B.tilePos.y=H.y,m(B))}q&&r.trigger("spatialMapChanged")},O=()=>{let q=r.getSpatialMap(),B=r.numRows()*r.numColumns();h?h.length=B:h=new Array(B),h.fill(1,0,B);for(let H=0;H<q.length;H++){let W=q[H];if(W){let ne=0;for(let ae of W)if(ae.isObstacle){ne=1/0;break}else ne+=ae.cost;h[H]=ne||1}}},x=()=>{let q=r.getSpatialMap(),B=r.numRows()*r.numColumns();g?g.length=B:g=new Array(B),g.fill(15,0,B);for(let H=0;H<q.length;H++){let W=q[H];if(W){let ne=W.length,ae=15;for(let ue=0;ue<ne;ue++)ae|=W[ue].edgeMask;g[H]=ae}}},M=()=>{let q=r.numRows()*r.numColumns(),B=(W,ne)=>{let ae=[];for(ae.push(W);ae.length>0;){let ue=ae.pop();ie(ue).forEach(pe=>{p[pe]<0&&(p[pe]=ne,ae.push(pe))})}};p?p.length=q:p=new Array(q),p.fill(-1,0,q);let H=0;for(let W=0;W<h.length;W++){if(p[W]>=0){H++;continue}B(W,H),H++}},_=(q,B)=>h[B],X=(q,B)=>{let H=v(q),W=v(B);return H.dist(W)},ie=(q,B)=>{let H=[],W=Math.floor(q%u),ne=W>0&&g[q]&1&&h[q-1]!==1/0,ae=q>=u&&g[q]&2&&h[q-u]!==1/0,ue=W<u-1&&g[q]&4&&h[q+1]!==1/0,pe=q<u*l-u-1&&g[q]&8&&h[q+u]!==1/0;return B?(ne&&(ae&&H.push(q-u-1),H.push(q-1),pe&&H.push(q+u-1)),ae&&H.push(q-u),ue&&(ae&&H.push(q-u+1),H.push(q+1),pe&&H.push(q+u+1)),pe&&H.push(q+u)):(ne&&H.push(q-1),ae&&H.push(q-u),ue&&H.push(q+1),pe&&H.push(q+u)),H},k={id:"level",tileWidth(){return t.tileWidth},tileHeight(){return t.tileHeight},spawn(q,...B){let H=V(...B),W=(()=>{if(typeof q=="string"){if(t.tiles[q]){if(typeof t.tiles[q]!="function")throw new Error("Level symbol def must be a function returning a component list");return t.tiles[q](H)}else if(t.wildcardTile)return t.wildcardTile(q,H)}else{if(Array.isArray(q))return q;throw new Error("Expected a symbol or a component list")}})();if(!W)return null;let ne=!1,ae=!1;for(let pe of W)pe.id==="tile"&&(ae=!0),pe.id==="pos"&&(ne=!0);ne||W.push(Nu(this.tile2Pos(H))),ae||W.push(C0());let ue=r.add(W);return ne&&(ue.tilePosOffset=ue.pos.clone()),ue.tilePos=H,ue.transform=jl(ue),c&&(m(ue),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ue},numColumns(){return u},numRows(){return l},levelWidth(){return u*this.tileWidth()},levelHeight(){return l*this.tileHeight()},tile2Pos(...q){return V(...q).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...q){let B=V(...q);return V(Math.floor(B.x/this.tileWidth()),Math.floor(B.y/this.tileHeight()))},getSpatialMap(){return c||E(),c},removeFromSpatialMap:S,insertIntoSpatialMap:m,onSpatialMapChanged(q){return this.on("spatialMapChanged",q)},onNavigationMapInvalid(q){return this.on("navigationMapInvalid",q)},getAt(q){c||E();let B=d(q);return c[B]||[]},raycast(q,B){let H=this.toWorld(q),W=this.toWorld(q.add(B)).sub(H),ne=1/this.tileWidth(),ae=q.scale(ne),ue=Xw(ae,B,pe=>{let we=this.getAt(pe);if(we.some(z=>z.isObstacle))return!0;let ve=null;for(let z of we)if(z.has("area")){let ee=z.worldArea().raycast(H,W);ee&&(ve?ee.fraction<ve.fraction&&(ve=ee,ve.object=z):(ve=ee,ve.object=z))}return ve&&(ve.point=this.fromWorld(ve.point).scale(ne)),ve||!1},64);return ue&&(ue.point=ue.point.scale(this.tileWidth())),ue},update(){c&&b()},invalidateNavigationMap(){h=null,g=null,p=null},onNavigationMapChanged(q){return this.on("navigationMapChanged",q)},getTilePath(q,B,H={}){var ee;if(h||O(),g||x(),p||M(),q.x<0||q.x>=u||q.y<0||q.y>=l||B.x<0||B.x>=u||B.y<0||B.y>=l)return null;let W=d(q),ne=d(B);if(h[ne]===1/0)return null;if(W===ne)return[];if(p[W]!=-1&&p[W]!==p[ne])return null;let ae=new Vy((le,ce)=>le.cost<ce.cost);ae.insert({cost:0,node:W});let ue=new Map;ue.set(W,W);let pe=new Map;for(pe.set(W,0);ae.length!==0;){let le=(ee=ae.remove())==null?void 0:ee.node;if(le===ne)break;let ce=ie(le,H.allowDiagonals);for(let T of ce){let K=(pe.get(le)||0)+_(le,T)+X(T,ne);(!pe.has(T)||K<pe.get(T))&&(pe.set(T,K),ae.insert({cost:K,node:T}),ue.set(T,le))}}let we=[],ve=ne,z=v(ve);for(we.push(z);ve!==W;){let le=ue.get(ve);if(le===void 0)throw new Error("Bug in pathfinding algorithm");ve=le;let ce=v(ve);we.push(ce)}return we.reverse()},getPath(q,B,H={}){let W=this.tileWidth(),ne=this.tileHeight(),ae=this.getTilePath(this.pos2Tile(q),this.pos2Tile(B),H);return ae?[q,...ae.slice(1,-1).map(ue=>ue.scale(W,ne).add(W/2,ne/2)),B]:null}};return r.use(k),r.onNavigationMapInvalid(()=>{r.invalidateNavigationMap(),r.trigger("navigationMapChanged")}),n.forEach((q,B)=>{let H=q.split("");u=Math.max(H.length,u),H.forEach((W,ne)=>{r.spawn(W,V(ne,B))})}),r}function un(n,t,r){return A.game.objEvents.registers[n]||(A.game.objEvents.registers[n]=new Yy),A.game.objEvents.on(n,(l,...u)=>{l.is(t)&&r(l,...u)})}var cE=(n,t,...r)=>{for(let l of A.game.root.children)l.is(t)&&l.trigger(n,r)},fE=at(n=>{let t=A.game.root.add([{fixedUpdate:n}]);return{get paused(){return t.paused},set paused(r){t.paused=r},cancel:()=>t.destroy()}},(n,t)=>un("fixedUpdate",n,t)),h0=at(n=>{let t=A.game.root.add([{update:n}]);return{get paused(){return t.paused},set paused(r){t.paused=r},cancel:()=>t.destroy()}},(n,t)=>un("update",n,t)),hE=at(n=>{let t=A.game.root.add([{draw:n}]);return{get paused(){return t.hidden},set paused(r){t.hidden=r},cancel:()=>t.destroy()}},(n,t)=>un("draw",n,t)),d0=at(n=>A.game.events.on("add",n),(n,t)=>un("add",n,t)),dE=at(n=>A.game.events.on("destroy",n),(n,t)=>un("destroy",n,t)),pE=at(n=>A.game.events.on("use",n),(n,t)=>un("use",n,t)),mE=at(n=>A.game.events.on("unuse",n),(n,t)=>un("unuse",n,t)),p0=at(n=>A.game.events.on("tag",n),(n,t)=>un("tag",n,t)),gE=at(n=>A.game.events.on("untag",n),(n,t)=>un("untag",n,t));function yE(n,t,r){return un("collide",n,(l,u,c)=>u.is(t)&&r(l,u,c))}function vE(n,t,r){return un("collideUpdate",n,(l,u,c)=>u.is(t)&&r(l,u,c))}function bE(n,t,r){return un("collideEnd",n,(l,u,c)=>u.is(t)&&r(l,u,c))}function Fu(n,t){A.game.root.get(n,{recursive:!0}).forEach(t),d0(n,t),p0((r,l)=>{l===n&&t(r)})}var AE=at(n=>A.app.onMousePress(n),(n,t)=>{let r=[];return Fu(n,l=>{if(!l.area)throw new Error("onClick() requires the object to have area() component");r.push(l.onClick(()=>t(l)))}),Ma.join(r)});function wE(n,t){let r=[];return Fu(n,l=>{if(!l.area)throw new Error("onHover() requires the object to have area() component");r.push(l.onHover(()=>t(l)))}),Ma.join(r)}function xE(n,t){let r=[];return Fu(n,l=>{if(!l.area)throw new Error("onHoverUpdate() requires the object to have area() component");r.push(l.onHoverUpdate(()=>t(l)))}),Ma.join(r)}function EE(n,t){let r=[];return Fu(n,l=>{if(!l.area)throw new Error("onHoverEnd() requires the object to have area() component");r.push(l.onHoverEnd(()=>t(l)))}),Ma.join(r)}function SE(n){A.game.events.on("loading",n)}function ME(n){A.app.onResize(n)}function TE(n){A.game.events.on("error",n)}function bh(n){A.assets.loaded?n():A.game.events.on("load",n)}function RE(n){if(A.assets.loaded)ky().forEach(t=>n(...t));else return A.game.events.on("loadError",n)}function m0(...n){A.game.cam.pos=V(...n)}function g0(){return A.game.cam.pos?A.game.cam.pos.clone():Bu()}function y0(...n){A.game.cam.scale=V(...n)}function v0(){return A.game.cam.scale.clone()}function b0(n){A.game.cam.angle=n}function A0(){return A.game.cam.angle}function OE(){return A.game.cam.transform.clone()}function w0(n=Xe(255,255,255),t=1){let r=A.game.root.add([f0(Ut(),Ht()),u0(n),o0(1),B0()]),l=r.fadeOut(t);return l.onEnd(()=>O0(r)),l}function CE(){return A.game.cam.transform.clone()}function qE(n=12){A.game.cam.shake+=n}function jf(n){return A.game.cam.transform.multVec2(n)}function x0(n){return A.game.cam.transform.invert().multVec2(n)}function DE(...n){return Mr("camPos","setCamPos / getCamPos"),n.length>0&&m0(...n),g0()}function BE(...n){return Mr("camScale","setCamScale / getCamScale"),n.length>0&&y0(...n),v0()}function _E(n){return Mr("camRot","setCamRot / getCamRot"),n!==void 0&&b0(n),A0()}function UE(n=Xe(255,255,255),t=1){return Mr("camFlash","flash"),w0(n,t)}function Ah(n=[]){let t=new Map,r=[],l={},u=new Kl,c=[],h=new Set("*"),g=A.globalOpt.tagsAsComponents,p=null,d=!1,v={id:Q2(),hidden:!1,transform:new Zn,children:[],parent:null,set paused(m){if(m!==d){d=m;for(let S of c)S.paused=m}},get paused(){return d},get tags(){return Array.from(h)},add(m){let S=Array.isArray(m)?Ah(m):m;if(S.parent)throw new Error("Cannot add a game obj that already has a parent.");return S.parent=this,S.transform=jl(S),this.children.push(S),S.trigger("add",S),A.game.events.trigger("add",S),S},readd(m){let S=this.children.indexOf(m);return S!==-1&&(this.children.splice(S,1),this.children.push(m)),m},remove(m){let S=this.children.indexOf(m);if(S!==-1){m.parent=null,this.children.splice(S,1);let b=O=>{O.trigger("destroy"),A.game.events.trigger("destroy",O),O.children.forEach(x=>b(x))};b(m)}},removeAll(m){if(m)this.get(m).forEach(S=>this.remove(S));else for(let S of[...this.children])this.remove(S)},fixedUpdate(){this.paused||(this.children.forEach(m=>m.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(m=>m.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(En(),this.canvas.bind());let m=A.gfx.fixed;this.fixed&&(A.gfx.fixed=!0),xn(),ht(this.pos),Fl(this.scale),xr(this.angle);let S=this.children.sort((b,O)=>{let x=b.layerIndex??A.game.defaultLayerIndex,M=O.layerIndex??A.game.defaultLayerIndex;return x-M||(b.z??0)-(O.z??0)});if(this.mask){let b={intersect:A.k.drawMasked,subtract:A.k.drawSubtracted}[this.mask];if(!b)throw new Error(`Invalid mask func: "${this.mask}"`);b(()=>{S.forEach(O=>O.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),S.forEach(b=>b.draw());an(),A.gfx.fixed=m,this.canvas&&(En(),this.canvas.unbind())},drawInspect(){this.hidden||(xn(),ht(this.pos),Fl(this.scale),xr(this.angle),this.children.forEach(m=>m.drawInspect()),this.trigger("drawInspect"),an())},use(m){var O;if(typeof m=="string")return h.add(m);if(!m||typeof m!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof m}"`);let S=[];m.id?(this.unuse(m.id),l[m.id]=[],S=l[m.id],t.set(m.id,m),g&&h.add(m.id)):r.push(m);for(let x in m){if(A2.has(x))continue;let M=Object.getOwnPropertyDescriptor(m,x);if(M)if(typeof M.value=="function"&&(m[x]=m[x].bind(this)),M.set&&Object.defineProperty(m,x,{set:M.set.bind(this)}),M.get&&Object.defineProperty(m,x,{get:M.get.bind(this)}),w2.has(x)){let _=x==="add"?()=>{var X;p=ie=>S.push(ie),(X=m[x])==null||X.call(m),p=null}:m[x];S.push(this.on(x,_).cancel)}else if(this[x]===void 0)Object.defineProperty(this,x,{get:()=>m[x],set:_=>m[x]=_,configurable:!0,enumerable:!0}),S.push(()=>delete this[x]);else{let _=(O=t.values().find(X=>X[x]!==void 0))==null?void 0:O.id;throw new Error(`Duplicate component property: "${x}" while adding component "${m.id}"`+(_?` (originally added by "${_}")`:""))}}let b=()=>{if(m.require){for(let x of m.require)if(!this.c(x))throw new Error(`Component "${m.id}" requires component "${x}"`)}};m.destroy&&S.push(m.destroy.bind(this)),this.exists()?(b(),m.add&&(p=x=>S.push(x),m.add.call(this),p=null),m.id&&(this.trigger("use",m.id),A.game.events.trigger("use",this,m.id))):m.require&&S.push(this.on("add",b).cancel)},unuse(m){if(t.has(m)){for(let S of t.values())if(S.require&&S.require.includes(m))throw new Error(`Can't unuse. Component "${S.id}" requires component "${m}"`);t.delete(m),this.trigger("unuse",m),A.game.events.trigger("unuse",this,m)}else g&&h.has(m)&&h.delete(m);l[m]&&(l[m].forEach(S=>S()),delete l[m])},c(m){return t.get(m)??null},get(m,S={}){let b=(x,M)=>S.only==="comps"?x.has(M):S.only==="tags"?x.is(M):x.is(M)||x.has(M),O=S.recursive?this.children.flatMap(function x(M){return[M,...M.children.flatMap(x)]}):this.children;if(O=O.filter(x=>m?b(x,m):!0),S.liveUpdate){let x=_=>S.recursive?this.isAncestorOf(_):_.parent===this,M=[];M.push(A.k.onAdd(_=>{x(_)&&b(_,m)&&O.push(_)})),M.push(A.k.onDestroy(_=>{if(x(_)&&b(_,m)){let X=O.findIndex(ie=>ie.id===_.id);X!==-1&&O.splice(X,1)}})),this.onDestroy(()=>{for(let _ of M)_.cancel()})}return O},query(m){let S=m.hierarchy||"children",b=m.include,O=m.exclude,x=[];switch(S){case"children":x=this.children;break;case"siblings":x=this.parent?this.parent.children.filter(_=>_!==this):[];break;case"ancestors":let M=this.parent;for(;M;)x.push(M),M=M.parent;break;case"descendants":x=this.children.flatMap(function _(X){return[X,...X.children.flatMap(_)]});break}if(b&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?x=x.filter(M=>M.is(b)):x=x.filter(M=>m.include.some(_=>M.is(_)))),O&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?x=x.filter(M=>!M.is(O)):x=x.filter(M=>!m.exclude.some(_=>M.is(_)))),m.visible===!0&&(x=x.filter(M=>M.visible)),m.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let M=m.distanceOp||"near",_=m.distance*m.distance;M==="near"?x=x.filter(X=>X.pos&&this.pos.sdist(X.pos)<=_):x=x.filter(X=>X.pos&&this.pos.sdist(X.pos)>_)}return m.name&&(x=x.filter(M=>M.name===m.name)),x},isAncestorOf(m){return m.parent?m.parent===this||this.isAncestorOf(m.parent):!1},exists(){return A.game.root.isAncestorOf(this)},is(m,S="and"){return Array.isArray(m)?S==="and"?m.every(b=>h.has(b)):m.some(b=>h.has(b)):h.has(m)},tag(m){if(Array.isArray(m))for(let S of m)h.add(S),this.trigger("tag",S),A.game.events.trigger("tag",this,S);else h.add(m),this.trigger("tag",m),A.game.events.trigger("tag",this,m)},untag(m){if(Array.isArray(m))for(let S of m)h.delete(S),this.trigger("untag",S),A.game.events.trigger("untag",this,S);else h.delete(m),this.trigger("untag",m),A.game.events.trigger("untag",this,m)},has(m,S="and"){return Array.isArray(m)?S==="and"?m.every(b=>t.has(b)):m.some(b=>t.has(b)):t.has(m)},on(m,S){let b=u.on(m,S.bind(this));return p&&p(()=>b.cancel()),b},trigger(m,...S){u.trigger(m,...S),A.game.objEvents.trigger(m,this,...S)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var S;let m={};for(let[b,O]of t)m[b]=((S=O.inspect)==null?void 0:S.call(O))??null;for(let[b,O]of r.entries()){if(O.inspect){m[b]=O.inspect();continue}for(let[x,M]of Object.entries(O))typeof M!="function"&&(m[x]=`${x}: ${M}`)}return m},onAdd(m){return this.on("add",m)},onFixedUpdate(m){return this.on("fixedUpdate",m)},onUpdate(m){return this.on("update",m)},onDraw(m){return this.on("draw",m)},onDestroy(m){return this.on("destroy",m)},onUse(m){return this.on("use",m)},onUnuse(m){return this.on("unuse",m)},clearEvents(){u.clear()}},E=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let m of E)v[m]=(...S)=>{var O,x;let b=(x=(O=A.app)[m])==null?void 0:x.call(O,...S);return c.push(b),v.onDestroy(()=>b.cancel()),v.on("sceneEnter",()=>{var _,X;c.splice(c.indexOf(b),1);let M=(X=(_=A.app)[m])==null?void 0:X.call(_,...S);Ma.replace(b,M),c.push(b)}),b};for(let m of n)v.use(m);return v}var NE=()=>({events:new Kl,objEvents:new Kl,root:Ah([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new Z(1),angle:0,shake:0,transform:new Zn}});function zE(n){A.game.gravity=n?(A.game.gravity||V(0,1)).unit().scale(n):null}function LE(){return A.game.gravity?A.game.gravity.len():0}function HE(n){A.game.gravity=n.unit().scale(A.game.gravity?A.game.gravity.len():1)}function Xl(){return A.game.gravity?A.game.gravity.unit():V(0,1)}var GE=Aw("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),YE=()=>(()=>{let n=new(window.AudioContext||window.webkitAudioContext),t=n.createGain();t.connect(n.destination);let r=new kl(cx(n));return n.decodeAudioData(GE.buffer.slice(0)).then(l=>{r.buf=l}).catch(l=>{console.error("Failed to load burp: ",l)}),{ctx:n,masterNode:t,burpSnd:r}})();function jE(n,t={}){let r=new Kt,l=new Audio(n);l.crossOrigin="anonymous",l.loop=!!t.loop,A.audio.ctx.createMediaElementSource(l).connect(A.audio.masterNode);function u(){A.debug.paused||A.app.isHidden()&&!A.globalOpt.backgroundAudio||A.audio.ctx.resume()}function c(){u(),l.play()}return t.paused||c(),l.onended=()=>r.trigger(),{play(){c()},seek(h){l.currentTime=h},stop(){l.pause(),this.seek(0)},set loop(h){l.loop=h},get loop(){return l.loop},set paused(h){h?l.pause():c()},get paused(){return l.paused},time(){return l.currentTime},duration(){return l.duration},set volume(h){l.volume=Kn(h,0,1)},get volume(){return l.volume},set speed(h){l.playbackRate=Math.max(h,0)},get speed(){return l.playbackRate},set detune(h){},get detune(){return 0},onEnd(h){return r.add(h)},then(h){return this.onEnd(h)}}}function VE(n,t={}){if(typeof n=="string"&&A.assets.music[n])return jE(A.assets.music[n],t);let r=A.audio.ctx,l=t.paused??!1,u=r.createBufferSource(),c=new Kt,h=r.createGain(),g=r.createStereoPanner(),p=t.seek??0,d=0,v=0,E=!1;u.loop=!!t.loop,u.detune.value=t.detune??0,u.playbackRate.value=t.speed??1,u.connect(g),u.onended=()=>{var x;b()>=(((x=u.buffer)==null?void 0:x.duration)??Number.POSITIVE_INFINITY)&&c.trigger()},g.pan.value=t.pan??0,g.connect(h),h.connect(A.audio.masterNode),h.gain.value=t.volume??1;let m=x=>{u.buffer=x.buf,l||(d=r.currentTime,u.start(0,p),E=!0)},S=Hx(n);S instanceof Tn&&S.onLoad(m);let b=()=>{if(!u.buffer)return 0;let x=l?v-d:r.currentTime-d,M=u.buffer.duration;return u.loop?x%M:Math.min(x,M)},O=x=>{let M=r.createBufferSource();return M.buffer=x.buffer,M.loop=x.loop,M.playbackRate.value=x.playbackRate.value,M.detune.value=x.detune.value,M.onended=x.onended,M.connect(g),M};return{stop(){this.paused=!0,this.seek(0)},set paused(x){if(l!==x)if(l=x,x)E&&(u.stop(),E=!1),v=r.currentTime;else{u=O(u);let M=v-d;u.start(0,M),E=!0,d=r.currentTime-M,v=0}},get paused(){return l},play(x=0){this.seek(x),this.paused=!1},seek(x){var M;(M=u.buffer)!=null&&M.duration&&(x>u.buffer.duration||(l?(u=O(u),d=v-x):(u.stop(),u=O(u),d=r.currentTime-x,u.start(0,x),E=!0,v=0)))},set speed(x){u.playbackRate.value=x},get speed(){return u.playbackRate.value},set detune(x){u.detune.value=x},get detune(){return u.detune.value},set volume(x){h.gain.value=Math.max(x,0)},get volume(){return h.gain.value},set pan(x){g.pan.value=x},get pan(){return g.pan.value},set loop(x){u.loop=x},get loop(){return u.loop},duration(){var x;return((x=u.buffer)==null?void 0:x.duration)??0},time(){return b()%this.duration()},onEnd(x){return c.add(x)},then(x){return this.onEnd(x)}}}function E0(n){return A.k.play(A.audio.burpSnd,n)}function S0(n){A.audio.masterNode.gain.value=n}function M0(){return A.audio.masterNode.gain.value}function XE(n){return Mr("volume","setVolume / getVolume"),n!==void 0&&S0(n),M0()}function T0(){A.app.onHide(()=>{A.globalOpt.backgroundAudio||A.audio.ctx.suspend()}),A.app.onShow(()=>{!A.globalOpt.backgroundAudio&&!A.debug.paused&&A.audio.ctx.resume()}),A.app.onResize(()=>{if(A.app.isFullscreen())return;let n=A.globalOpt.width&&A.globalOpt.height;n&&!A.globalOpt.stretch&&!A.globalOpt.letterbox||(A.canvas.width=A.canvas.offsetWidth*A.pixelDensity,A.canvas.height=A.canvas.offsetHeight*A.pixelDensity,Ky(),n||(A.gfx.frameBuffer.free(),A.gfx.frameBuffer=new _u(A.gfx.ggl,A.gfx.ggl.gl.drawingBufferWidth,A.gfx.ggl.gl.drawingBufferHeight),A.gfx.width=A.gfx.ggl.gl.drawingBufferWidth/A.pixelDensity/A.gscale,A.gfx.height=A.gfx.ggl.gl.drawingBufferHeight/A.pixelDensity/A.gscale))}),A.globalOpt.debug!==!1&&(A.app.onKeyPress(A.globalOpt.debugKey??"f1",()=>A.debug.inspect=!A.debug.inspect),A.app.onKeyPress("f2",()=>A.debug.clearLog()),A.app.onKeyPress("f8",()=>A.debug.paused=!A.debug.paused),A.app.onKeyPress("f7",()=>{A.debug.timeScale=Nf(Kn(A.debug.timeScale-.2,0,2),1)}),A.app.onKeyPress("f9",()=>{A.debug.timeScale=Nf(Kn(A.debug.timeScale+.2,0,2),1)}),A.app.onKeyPress("f10",()=>A.debug.stepFrame())),A.globalOpt.burp&&A.app.onKeyPress("b",()=>E0())}function QE(n,t={}){let r=A.game.root.add([Nu(n),D0()]),l=(t.speed||1)*5,u=t.scale||1;r.add([Vf(A.boomSprite),zu(0),Kf("center"),jg(l,u),...t.comps??[]]);let c=r.add([Vf(A.kaSprite),zu(0),Kf("center"),Xf(),...t.comps??[]]);return c.wait(.4/l,()=>c.use(jg(l,u))),c.onDestroy(()=>r.destroy()),r}function R0(n,t){if(A.game.layers)throw Error("Layers can only be assigned once.");let r=n.indexOf(t);if(r==-1)throw Error("The default layer name should be present in the layers list.");A.game.layers=n,A.game.defaultLayerIndex=r}function KE(){return A.game.layers}function ZE(){var n;return((n=A.game.layers)==null?void 0:n[A.game.defaultLayerIndex])??null}function FE(n,t){Mr("layers","setLayers"),R0(n,t)}function O0(n){n.destroy()}function kE(){return A.game.root}function JE(n,t){A.game.scenes[n]=t}function PE(n,...t){if(!A.game.scenes[n])throw new Error(`Scene not found: ${n}`);A.game.events.onOnce("frameEnd",()=>{A.game.events.trigger("sceneLeave",n),A.app.events.clear(),A.game.events.clear(),A.game.objEvents.clear(),[...A.game.root.children].forEach(r=>{!r.stay||r.scenesToStay&&!r.scenesToStay.includes(n)?A.game.root.remove(r):r.trigger("sceneEnter",n)}),A.game.root.clearEvents(),T0(),A.game.cam={pos:null,scale:V(1),angle:0,shake:0,transform:new Zn},A.game.scenes[n](...t)}),A.game.currentScene=n}function IE(n){return A.game.events.on("sceneLeave",n)}function WE(){return A.game.currentScene}function Vf(n,t={}){let r=null,l=null,u=null,c=new Kt;if(!n)throw new Error("Please pass the resource name or data to sprite()");let h=(d,v,E,m)=>{let S=V(1,1);return E&&m?(S.x=E/(d.width*v.w),S.y=m/(d.height*v.h)):E?(S.x=E/(d.width*v.w),S.y=S.x):m&&(S.y=m/(d.height*v.h),S.x=S.y),S},g=(d,v)=>{if(!v)return;let E=v.frames[0].clone();t.quad&&(E=E.scale(t.quad));let m=h(v.tex,E,t.width,t.height);if(d.width=v.tex.width*E.w*m.x,d.height=v.tex.height*E.h*m.y,v.anims)for(let S in v.anims){let b=v.anims[S];typeof b!="number"&&(b.frames=p(b))}r=v,c.trigger(r),t.anim&&d.play(t.anim)},p=d=>{if(d.frames)return d.frames;let v=[];if(d.from===void 0||d.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let E=Math.abs(d.to-d.from)+1;for(let m=0;m<E;m++)v.push(d.from+m*Math.sign(d.to-d.from));if(d.pingpong)for(let m=E-2;m>0;m--)v.push(v[m]);return v};return{id:"sprite",width:0,height:0,frame:t.frame||0,quad:t.quad||new ot(0,0,1,1),animSpeed:t.animSpeed??1,flipX:t.flipX??!1,flipY:t.flipY??!1,get sprite(){return n.toString()},set sprite(d){let v=Su(d);v&&v.onLoad(E=>g(this,E))},get animFrame(){if(!r||!l||u===null)return this.frame;let d=r.anims[l.name];return typeof d=="number"?d:d.from===void 0||d.to===void 0?l.frameIndex:this.frame-Math.min(d.from,d.to)},draw(){if(!r)return;let d=r.frames[this.frame??0];if(!d)throw new Error(`Frame not found: ${this.frame??0}`);if(r.slice9){let{left:v,right:E,top:m,bottom:S}=r.slice9,b=r.tex.width*d.w,O=r.tex.height*d.h,x=this.width-v-E,M=this.height-m-S,_=v/b,X=E/b,ie=1-_-X,k=m/O,q=S/O,B=1-k-q,H=[vt(0,0,_,k),vt(_,0,ie,k),vt(_+ie,0,X,k),vt(0,k,_,B),vt(_,k,ie,B),vt(_+ie,k,X,B),vt(0,k+B,_,q),vt(_,k+B,ie,q),vt(_+ie,k+B,X,q),vt(0,0,v,m),vt(v,0,x,m),vt(v+x,0,E,m),vt(0,m,v,M),vt(v,m,x,M),vt(v+x,m,E,M),vt(0,m+M,v,S),vt(v,m+M,x,S),vt(v+x,m+M,E,S)];for(let W=0;W<9;W++){let ne=H[W],ae=H[W+9];Uu(Object.assign(xa(this),{pos:ae.pos(),tex:r.tex,quad:d.scale(ne),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:ae.w,height:ae.h}))}}else Uu(Object.assign(xa(this),{tex:r.tex,quad:d.scale(this.quad??new ot(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:this.width,height:this.height}))},add(){let d=Su(n);d?d.onLoad(v=>g(this,v)):bh(()=>g(this,Su(n).data))},update(){if(!r||!l||u===null)return;let d=r.anims[l.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");if(l.timer+=qt()*this.animSpeed,l.timer>=1/l.speed){l.timer=0,l.frameIndex+=u;let v=d.frames;if(l.frameIndex>=v.length)if(l.pingpong&&!d.pingpong)u=-1,l.frameIndex=v.length-2;else if(l.loop)l.frameIndex=0;else{this.frame=v.at(-1),l.onEnd(),this.stop();return}else if(l.frameIndex<0)if(l.pingpong&&l.loop)u=1,l.frameIndex=1;else if(l.loop)l.frameIndex=v.length-1;else{this.frame=v[0],l.onEnd(),this.stop();return}this.frame=v[l.frameIndex]}},play(d,v={}){if(!r){c.add(()=>this.play(d,v));return}let E=r.anims[d];if(E===void 0)throw new Error(`Anim not found: ${d}`);l&&this.stop(),l=typeof E=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:()=>{}}:{name:d,timer:0,loop:v.loop??E.loop??!1,pingpong:v.pingpong??E.pingpong??!1,speed:v.speed??E.speed??10,frameIndex:0,onEnd:v.onEnd??(()=>{})},u=typeof E=="number"?null:1,this.frame=typeof E=="number"?E:E.frames[0],this.trigger("animStart",d)},stop(){if(!l)return;let d=l.name;l=null,this.trigger("animEnd",d)},numFrames(){return(r==null?void 0:r.frames.length)??0},getCurAnim(){return l},curAnim(){return l==null?void 0:l.name},getAnim(d){return(r==null?void 0:r.anims[d])??null},hasAnim(d){return!!this.getAnim(d)},onAnimEnd(d){return this.on("animEnd",d)},onAnimStart(d){return this.on("animStart",d)},renderArea(){return new nt(V(0),this.width,this.height)},inspect(){return typeof n=="string"?`sprite: "${n}"`:null}}}function $E(n,t={}){function r(u){var h,g;let c=Aa(Object.assign(xa(u),{text:u.text+"",size:u.textSize,font:u.font,width:t.width&&u.width,align:u.align,letterSpacing:u.letterSpacing,lineSpacing:u.lineSpacing,transform:u.textTransform,styles:u.textStyles,indentAll:t.indentAll}));return t.width||(u.width=c.width/(((h=u.scale)==null?void 0:h.x)||1)),u.height=c.height/(((g=u.scale)==null?void 0:g.y)||1),c}let l={id:"text",set text(u){n=u,r(this),this.renderedText=Gf(n).text},get text(){return n},textSize:t.size??36,font:t.font,width:t.width??0,height:0,align:t.align,lineSpacing:t.lineSpacing,letterSpacing:t.letterSpacing,textTransform:t.transform,textStyles:t.styles,renderedText:n?Gf(n).text:"",add(){bh(()=>r(this))},draw(){wa(r(this))},renderArea(){return new nt(V(0),this.width,this.height)}};return r(l),l}function eS(n,t){return{id:"rect",width:n,height:t,draw(){Jl(Object.assign(xa(this),{width:this.width,height:this.height}))},renderArea(){return new nt(V(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}function tS(n={}){let t=null,r=null,l=null,u=null;return{id:"agent",require:["pos","tile"],agentSpeed:n.speed??100,allowDiagonals:n.allowDiagonals??!0,getDistanceToTarget(){return t?this.pos.dist(t):0},getNextLocation(){return r&&l?r[l]:null},getPath(){return r?r.slice():null},getTarget(){return t},isNavigationFinished(){return r?l===null:!0},isTargetReachable(){return r!==null},isTargetReached(){return t?this.pos.eq(t):!0},setTarget(c){t=c,r=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),l=r?0:null,r&&l!==null?(u||(u=this.getLevel().onNavigationMapChanged(()=>{t&&r&&l!==null&&(r=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),r?(l=0,this.trigger("navigationNext",this,r[l])):(l=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>u==null?void 0:u.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,r[l])):this.trigger("navigationEnded",this)},update(){if(t&&r&&l!==null){if(this.pos.sdist(r[l])<2)if(l===r.length-1){this.pos=t.clone(),l=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else l++,this.trigger("navigationNext",this,r[l]);this.moveTo(r[l],this.agentSpeed)}},onNavigationStarted(c){return this.on("navigationStarted",c)},onNavigationNext(c){return this.on("navigationNext",c)},onNavigationEnded(c){return this.on("navigationEnded",c)},onTargetReached(c){return this.on("targetReached",c)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(t),path:JSON.stringify(r)})}}}function nS(n){let t=n.graph;return{id:"pathfinder",require:["pos"],navigateTo(r){var l;return(l=this.graph)==null?void 0:l.getWaypointPath(this.pos,r,n.navigationOpt)},get graph(){if(t)return t;let r=this.parent;for(;r;){if(r.has("pathfinderMap"))return r.graph;r=r.parent}},set graph(r){t=r}}}function iS(n={}){let t=n.waypoints,r=n.speed||100,l=n.endBehavior||"stop",u=0,c=t!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return r},set patrolSpeed(h){r=h},get waypoints(){return t},set waypoints(h){t=h,u=0,c=!1},get nextLocation(){return t?t[u]:void 0},update(){let h=this.nextLocation;if(!(!t||!h||c)&&(this.moveTo(h,r),this.pos.sdist(h)<9))switch(l){case"loop":u=(u+1)%t.length;break;case"ping-pong":u=u+1,u==t.length&&(t.reverse(),u=0);break;case"stop":u<t.length-1?u+=1:c||(c=!0,this.trigger("patrolFinished",this));break}},onPatrolFinished(h){return this.on("patrolFinished",h)}}}function aS(n,t={}){let r=typeof n=="function"?n:()=>A.game.root.query(n),l=t.checkFrequency||1,u=typeof t.direction=="number"?Z.fromAngle(t.direction):t.direction,c=0;return{id:"sentry",require:["pos"],direction:typeof t.direction=="number"?Z.fromAngle(t.direction):t.direction,spotted:[],set directionAngle(h){this.direction=h!==void 0?Z.fromAngle(h):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:t.fieldOfView||200,isWithinFieldOfView(h,g,p){let d=(typeof g=="number"?Z.fromAngle(g):g)||u,v=p||t.fieldOfView;if(!d||!v||v>=360)return!0;let E=v/2;return h.pos&&d.angleBetween(h.pos.sub(this.pos))<=E},hasLineOfSight(h){let g=c0(this.pos,h.pos.sub(this.pos),t.raycastExclude);return g!=null&&g.object===h},update(){if(c+=qt(),c>l){c-=l;let h=r();if(h.length&&u&&this.fieldOfView&&this.fieldOfView<360){let g=this.fieldOfView/2;h=h.filter(p=>p.pos&&u.angleBetween(p.pos.sub(this.pos))<=g)}h.length&&t.lineOfSight&&(h=h.filter(g=>g.pos&&this.hasLineOfSight(g))),h.length>0&&(this.spotted=h,this.trigger("objectSpotted",h))}},onObjectsSpotted(h){return this.on("objectSpotted",h)}}}function C0(n={}){let t=V(0),r=n.isObstacle??!1,l=n.cost??0,u=n.edges??[],c=()=>{let g={left:1,top:2,right:4,bottom:8};return u.map(p=>g[p]||0).reduce((p,d)=>p|d,0)},h=c();return{id:"tile",tilePosOffset:n.offset??V(0),set tilePos(g){let p=this.getLevel();t=g.clone(),this.pos=V(this.tilePos.x*p.tileWidth(),this.tilePos.y*p.tileHeight()).add(this.tilePosOffset)},get tilePos(){return t},set isObstacle(g){r!==g&&(r=g,this.getLevel().invalidateNavigationMap())},get isObstacle(){return r},set cost(g){l!==g&&(l=g,this.getLevel().invalidateNavigationMap())},get cost(){return l},set edges(g){u=g,h=c(),this.getLevel().invalidateNavigationMap()},get edges(){return u},get edgeMask(){return h},getLevel(){return this.parent},tileMove(g){let p=this.getLevel();p.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(g),p.insertIntoSpatialMap(this),p.trigger("spatialMapChanged")},moveLeft(){this.tileMove(V(-1,0))},moveRight(){this.tileMove(V(1,0))},moveUp(){this.tileMove(V(0,-1))},moveDown(){this.tileMove(V(0,1))}}}var wh=class{constructor(n,t,r){L(this,"name");L(this,"duration");L(this,"loops");L(this,"direction");L(this,"easing");L(this,"interpolation");L(this,"isFinished");L(this,"timing");L(this,"easings");L(this,"relative");this.name=n,this.duration=t.duration,this.loops=t.loops||0,this.direction=t.direction||"forward",this.easing=t.easing||Zl.linear,this.interpolation=t.interpolation||"linear",this.isFinished=!1,this.timing=t.timing,this.easings=t.easings,this.relative=r}update(n,t){return!0}getLowerKeyIndexAndRelativeTime(n,t,r){let l=t-1,u=n/this.duration;if(this.loops!==0&&u>=this.loops)return[l,0,!0];let c=Math.trunc(u);if(u-=c,(this.direction=="reverse"||this.direction=="ping-pong"&&c&1)&&(u=1-u),r){let h=0;for(;r[h+1]!==void 0&&r[h+1]<u;)h++;return h>=l?[l,0,!0]:[h,(u-r[h])/(r[h+1]-r[h]),!1]}else{let h=Math.floor((t-1)*u);return[h,(u-h/l)*l,!1]}}setValue(n,t,r){if(this.relative)switch(t){case"pos":n.pos=n.base.pos.add(r);break;case"angle":n.angle=n.base.angle+r;break;case"scale":n.scale=n.base.scale.scale(r);break;case"opacity":n.opacity=n.base.opacity*r;break;default:n[t]=r}else n[t]=r}serialize(){let n={duration:this.duration,keys:[]};return this.loops&&(n.loops=this.loops),this.direction!=="forward"&&(n.direction=this.direction),this.easing!=Zl.linear&&(n.easing=this.easing.name),this.interpolation!=="linear"&&(n.interpolation=this.interpolation),this.timing&&(n.timing=this.timing),this.easings&&(n.easings=this.easings.map(t=>this.easing.name)),n}};function Yg(n,t){return t.add(t.sub(n))}var rS=class extends wh{constructor(t,r,l,u){super(t,l,u);L(this,"keys");this.keys=r}update(t,r){let[l,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(t,this.name,this.keys[l]);else{let h=this.easings?this.easings[l]:this.easing;this.setValue(t,this.name,rn(this.keys[l],this.keys[l+1],h(u)))}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},lS=class extends wh{constructor(t,r,l,u,c){var h;super(t,l,u);L(this,"keys");L(this,"curves");L(this,"dcurves");if(this.keys=r,this.interpolation==="spline"){this.curves=[],c&&(this.dcurves=[]);for(let g=0;g<this.keys.length-1;g++){let p=this.keys[g],d=g+1,v=this.keys[d],E=g>0?this.keys[g-1]:Yg(v,p),m=d<this.keys.length-1?this.keys[d+1]:Yg(p,v);this.curves.push(qu(E,p,v,m)),c&&((h=this.dcurves)==null||h.push(qu(E,p,v,m,n2)))}}}update(t,r){let[l,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(t,this.name,this.keys[l]);else{let h=this.easings?this.easings[l]:this.easing;switch(this.interpolation){case"linear":this.setValue(t,this.name,this.keys[l].lerp(this.keys[l+1],h(u)));break;case"slerp":this.setValue(t,this.name,this.keys[l].slerp(this.keys[l+1],h(u)));break;case"spline":if(this.curves){this.setValue(t,this.name,this.curves[l](h(u))),this.dcurves&&this.setValue(t,"angle",this.dcurves[l](h(u)).angle());break}}}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(t=>[t.x,t.y])})}},sS=class extends wh{constructor(t,r,l,u){super(t,l,u);L(this,"keys");this.keys=r}update(t,r){let[l,u,c]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(t,this.name,this.keys[l]);else{let h=this.easings?this.easings[l]:this.easing;this.setValue(t,this.name,this.keys[l].lerp(this.keys[l+1],h(u)))}return c}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}};function uS(n={}){let t=[],r=0,l=!1;return{id:"animate",require:n.followMotion?["rotate"]:void 0,base:{pos:V(0,0),angle:0,scale:V(1,1),opacity:1},animation:{paused:!1,seek(u){r=Kn(u,0,this.duration),t.forEach(c=>{c.isFinished=!1}),l=!1},get duration(){return t.reduce((u,c)=>Math.max(c.duration,u),0)}},add(){n.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let u=!0,c;r+=qt();for(let h of t)c=h.update(this,r),c&&!h.isFinished&&(h.isFinished=!0,this.trigger("animateChannelFinished",h.name)),u&&(u=c);u&&!l&&(l=!0,this.trigger("animateFinished"))},animate(u,c,h){l=!1,this.unanimate(u),typeof c[0]=="number"?t.push(new rS(u,c,h,n.relative||!1)):c[0]instanceof Z?t.push(new lS(u,c,h,n.relative||!1,u==="pos"&&(n.followMotion||!1))):c[0]instanceof _e&&t.push(new sS(u,c,h,n.relative||!1))},unanimate(u){let c=t.findIndex(h=>h.name===u);c>=0&&t.splice(c,1)},unanimateAll(){t.splice(0,t.length)},onAnimateFinished(u){return this.on("animateFinished",u)},onAnimateChannelFinished(u){return this.on("animateChannelFinished",u)},serializeAnimationChannels(){return t.reduce((u,c)=>(u[c.name]=c.serialize(),u),{})},serializeAnimationOptions(){let u={};return n.followMotion&&(u.followMotion=!0),n.relative&&(u.relative=!0),u}}}function q0(n,t){let r={name:n.name};return n.has("animate")&&(r.channels=n.serializeAnimationChannels(),Object.assign(r,n.serializeAnimationOptions())),n.children.length>0&&(r.children=n.children.filter(l=>l.has("named")).map(l=>q0(l,l.name))),r}function jg(n=2,t=1){let r=0;return{require:["scale"],update(){let l=Math.sin(r*n)*t;l<0&&this.destroy(),this.scale=V(l),r+=qt()}}}function oS(n,t){if(n==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(r=1){this.setHP(n-r),this.trigger("hurt",r)},heal(r=1){let l=n;this.setHP(n+r),this.trigger("heal",n-l)},hp(){return n},maxHP(){return t??null},setMaxHP(r){t=r},setHP(r){n=t?Math.min(t,r):r,n<=0&&this.trigger("death")},onHurt(r){return this.on("hurt",r)},onHeal(r){return this.on("heal",r)},onDeath(r){return this.on("death",r)},inspect(){return`health: ${n}`}}}function cS(n,t={}){if(n==null)throw new Error("lifespan() requires time");let r=t.fade??0;return{id:"lifespan",require:["opacity"],add(){A.game.root.wait(n,()=>{this.opacity=this.opacity??1,r>0?A.game.root.tween(this.opacity,0,r,l=>this.opacity=l,Zl.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}function fS(n){return{id:"named",name:n}}function hS(n,t,r){if(!n)throw new Error("state() requires an initial state");let l={};function u(p){l[p]||(l[p]={enter:new Kt,end:new Kt,update:new Kt,draw:new Kt})}function c(p,d,v){return u(d),l[d][p].add(v)}function h(p,d,...v){u(d),l[d][p].trigger(...v)}let g=!1;return{id:"state",state:n,enterState(p,...d){if(g=!0,t&&!t.includes(p))throw new Error(`State not found: ${p}`);let v=this.state;if(r){if(!(r!=null&&r[v]))return;let E=typeof r[v]=="string"?[r[v]]:r[v];if(!E.includes(p))throw new Error(`Cannot transition state from "${v}" to "${p}". Available transitions: ${E.map(m=>`"${m}"`).join(", ")}`)}h("end",v,...d),this.state=p,h("enter",p,...d),h("enter",`${v} -> ${p}`,...d)},onStateTransition(p,d,v){return c("enter",`${p} -> ${d}`,v)},onStateEnter(p,d){return c("enter",p,d)},onStateUpdate(p,d){return c("update",p,d)},onStateDraw(p,d){return c("draw",p,d)},onStateEnd(p,d){return c("end",p,d)},update(){g||(h("enter",n),g=!0),h("update",this.state)},draw(){h("draw",this.state)},inspect(){return`state: ${this.state}`}}}function D0(n){return{id:"stay",stay:!0,scenesToStay:n}}function dS(n=!0,t){let r,l;return{id:"textInput",hasFocus:n,require:["text"],typedText:"",add(){let u=()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")};r=A.k.onCharInput(c=>{this.hasFocus&&(!t||this.typedText.length<t)&&(A.k.isKeyDown("shift")?this.typedText+=c.toUpperCase():this.typedText+=c,u())}),l=A.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),u()})},destroy(){r.cancel(),l.cancel()}}}function Xf(n=1e3){return{id:"timer",maxLoopsPerFrame:n,loop(t,r,l=1/0,u=!1){let c=u?0:t,h=new Kt,g=this.onUpdate(()=>{c+=A.app.state.dt;for(let p=0;c>=t&&p<this.maxLoopsPerFrame;p++)if(l--,r(),c-=t,l<=0){g.cancel(),h.trigger();return}});return{get paused(){return g.paused},set paused(p){g.paused=p},cancel:g.cancel,onEnd(p){h.add(p)},then(p){return h.add(p),this}}},wait(t,r){return this.loop(t,r??(()=>{}),1,!0)},tween(t,r,l,u,c=Zl.linear){let h=0,g=[],p=this.onUpdate(()=>{h+=A.app.state.dt;let d=Math.min(h/l,1);u(rn(t,r,c(d))),d===1&&(p.cancel(),u(r),g.forEach(v=>v()))});return{get paused(){return p.paused},set paused(d){p.paused=d},onEnd(d){g.push(d)},then(d){return this.onEnd(d),this},cancel(){p.cancel()},finish(){p.cancel(),u(r),g.forEach(d=>d())}}}}}var Qf=0;function pS(){return Qf>0}function mS(n={}){let t={},r=new Set,l=[];return{id:"area",collisionIgnore:n.collisionIgnore??[],add(){Qf++,this.area.cursor&&l.push(this.onHover(()=>A.app.setCursor(this.area.cursor))),l.push(this.onCollideUpdate((u,c)=>{if(!u.id)throw new Error("area() requires the object to have an id");t[u.id]||this.trigger("collide",u,c),c&&(t[u.id]=c,r.add(u.id))}))},destroy(){Qf--;for(let u of l)u.cancel()},fixedUpdate(){for(let u in t)r.has(Number(u))||(this.trigger("collideEnd",t[u].target),delete t[u]);r.clear()},drawInspect(){let u=this.localArea();xn(),ht(this.area.offset);let c={outline:{width:4/Zy(),color:Xe(0,0,255)},anchor:this.anchor,fill:!1,fixed:ya(this)};u instanceof nt?Sn({...c,pos:u.pos,width:u.width*this.area.scale.x,height:u.height*this.area.scale.y}):u instanceof Zt?Qi({...c,pts:u.pts,scale:this.area.scale}):u instanceof ln&&Rr({...c,pos:u.center,radius:u.radius}),an()},area:{shape:n.shape??null,scale:n.scale?V(n.scale):V(1),offset:n.offset??V(0),cursor:n.cursor??null},isClicked(){return A.app.isMousePressed()&&this.isHovering()},isHovering(){let u=ya(this)?A.k.mousePos():A.k.toWorld(A.k.mousePos());return this.hasPoint(u)},checkCollision(u){if(!u.id)throw new Error("checkCollision() requires the object to have an id");return t[u.id]??null},getCollisions(){return Object.values(t)},isColliding(u){if(!u.id)throw new Error("isColliding() requires the object to have an id");return!!t[u.id]},isOverlapping(u){if(!u.id)throw new Error("isOverlapping() requires the object to have an id");let c=t[u.id];return c&&c.hasOverlap()},onClick(u,c="left"){let h=A.app.onMousePress(c,()=>{this.isHovering()&&u()});return l.push(h),h},onHover(u){let c=!1;return this.onUpdate(()=>{c?c=this.isHovering():this.isHovering()&&(c=!0,u())})},onHoverUpdate(u){return this.onUpdate(()=>{this.isHovering()&&u()})},onHoverEnd(u){let c=!1;return this.onUpdate(()=>{c?this.isHovering()||(c=!1,u()):c=this.isHovering()})},onCollide(u,c){if(typeof u=="function"&&c===void 0)return this.on("collide",u);if(typeof u=="string")return this.onCollide((h,g)=>{h.is(u)&&(c==null||c(h,g))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(u,c){if(typeof u=="function"&&c===void 0)return this.on("collideUpdate",u);if(typeof u=="string")return this.on("collideUpdate",(h,g)=>h.is(u)&&(c==null?void 0:c(h,g)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(u,c){if(typeof u=="function"&&c===void 0)return this.on("collideEnd",u);if(typeof u=="string")return this.on("collideEnd",h=>h.is(u)&&(c==null?void 0:c(h)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(u){return Zi(this.worldArea(),u)},resolveCollision(u){let c=this.checkCollision(u);c&&!c.resolved&&(this.pos=this.pos.add(c.displacement),c.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let u=this.localArea();if(!(u instanceof Zt||u instanceof nt))throw new Error("Only support polygon and rect shapes for now");let c=this.transform.clone().translate(this.area.offset).scale(V(this.area.scale??1));if(u instanceof nt){let h=Tr(this.anchor||Qu).add(1,1).scale(-.5).scale(u.width,u.height);c.translate(h)}return u.transform(c)},screenArea(){let u=this.worldArea();return ya(this)?u:u.transform(A.game.cam.transform)},inspect(){var u,c,h,g,p,d,v;return((u=this.area.scale)==null?void 0:u.x)==((c=this.area.scale)==null?void 0:c.y)?`area: ${(g=(h=this.area.scale)==null?void 0:h.x)==null?void 0:g.toFixed(1)}x`:`area: (${(d=(p=this.area.scale)==null?void 0:p.x)==null?void 0:d.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}function gS(n={}){let t=null,r=null,l=!1,u=V(0),c=null,h=null,g;return{id:"body",require:["pos"],vel:V(0),drag:n.drag??0,jumpForce:n.jumpForce??x2,gravityScale:n.gravityScale??1,isStatic:n.isStatic??!1,mass:n.mass??1,add(){if(c=this.pos.clone(),h=this.pos.clone(),g=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((p,d)=>{if(!d||!p.has("body")||d.resolved)return;this.trigger("beforePhysicsResolve",d);let v=d.reverse();if(p.trigger("beforePhysicsResolve",v),!(d.resolved||v.resolved)&&!(this.isStatic&&p.isStatic)){if(!this.isStatic&&!p.isStatic){let E=this.mass+p.mass;this.pos=this.pos.add(d.displacement.scale(p.mass/E)),p.pos=p.pos.add(d.displacement.scale(-this.mass/E)),this.transform=jl(this),p.transform=jl(p)}else{let E=!this.isStatic&&p.isStatic?d:d.reverse();E.source.pos=E.source.pos.add(E.displacement),E.source.transform=jl(E.source)}d.resolved=!0,this.trigger("physicsResolve",d),p.trigger("physicsResolve",d.reverse())}}),this.onPhysicsResolve(p=>{if(A.game.gravity)if(p.isBottom()&&this.isFalling()){this.vel=this.vel.reject(A.game.gravity.unit());let d=t;t=p.target,d!=t&&(r=p.target.pos),l?l=!1:d||(this.trigger("ground",t),p.target.trigger("land",this))}else p.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(A.game.gravity.unit()),this.trigger("headbutt",p.target),p.target.trigger("headbutted",this))}))},update(){t&&this.isColliding(t)&&t.exists()&&t.has("body")&&(r&&!t.pos.eq(r)&&n.stickToPlatform!==!1&&this.moveBy(t.pos.sub(r)),r=t.pos);let p=Lf();p&&(this.pos.x==g.x&&(this.pos.x=rn(c.x,h.x,p/zf()),g.x=this.pos.x),this.pos.y==g.y&&(this.pos.y=rn(c.y,h.y,p/zf()),g.y=this.pos.y))},fixedUpdate(){if(c&&(this.pos.x==g.x&&(this.pos.x=c.x),this.pos.y==g.y&&(this.pos.y=c.y),c=null),A.game.gravity&&!this.isStatic){l&&(t=null,r=null,this.trigger("fallOff"),l=!1),t&&(!this.isColliding(t)||!t.exists()||!t.has("body"))&&(l=!0);let p=this.vel.clone();this.vel=this.vel.add(A.game.gravity.scale(this.gravityScale*qt()));let d=n.maxVelocity??E2;this.vel.slen()>d*d&&(this.vel=this.vel.unit().scale(d)),p.dot(A.game.gravity)<0&&this.vel.dot(A.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=u.x*qt(),this.vel.y+=u.y*qt(),this.vel.x*=1-this.drag*qt(),this.vel.y*=1-this.drag*qt(),this.move(this.vel),Lf()){c=this.pos.clone();let p=this.vel.add(u.scale(qt()));h=this.pos.add(p.scale(qt())),g=this.pos.clone()}u.x=0,u.y=0},onPhysicsResolve(p){return this.on("physicsResolve",p)},onBeforePhysicsResolve(p){return this.on("beforePhysicsResolve",p)},curPlatform(){return t},isGrounded(){return t!==null},isFalling(){return this.vel.dot(Xl())>0},isJumping(){return this.vel.dot(Xl())<0},applyImpulse(p){this.isStatic||(this.vel=this.vel.add(p))},addForce(p){this.isStatic||(u.x+=p.x/this.mass,u.y+=p.y/this.mass)},jump(p){this.isStatic||(t=null,r=null,this.vel=Xl().scale(-p||-this.jumpForce))},onGround(p){return this.on("ground",p)},onFall(p){return this.on("fall",p)},onFallOff(p){return this.on("fallOff",p)},onHeadbutt(p){return this.on("headbutt",p)},onLand(p){return this.on("land",p)},onHeadbutted(p){return this.on("headbutted",p)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}function yS(n=2){let t=n;return{id:"doubleJump",require:["body"],numJumps:n,add(){this.onGround(()=>{t=this.numJumps})},doubleJump(r){t<=0||(t<this.numJumps&&this.trigger("doubleJump"),t--,this.jump(r))},onDoubleJump(r){return this.on("doubleJump",r)},inspect(){return`jumpsLeft: ${t}`}}}function vS(n){return{id:"surfaceEffector",require:["area"],speed:n.speed,speedVariation:n.speedVariation??0,forceScale:n.speedVariation??.9,add(){this.onCollideUpdate("body",(t,r)=>{var h;let l=r==null?void 0:r.normal.normal(),u=t.vel.project(l),c=(h=l==null?void 0:l.scale(this.speed))==null?void 0:h.sub(u);t.addForce(c==null?void 0:c.scale(t.mass*this.forceScale))})}}}function bS(n){return{id:"areaEffector",require:["area"],useGlobalAngle:n.useGlobalAngle||!1,forceAngle:n.forceAngle,forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(t,r)=>{if(!t.has("body"))return;let l=Z.fromAngle(this.forceAngle).scale(this.forceMagnitude);t.addForce(l),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}function AS(n){return{id:"pointEffector",require:["area","pos"],forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,distanceScale:n.distanceScale??1,forceMode:n.forceMode||"inverseLinear",linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(t,r)=>{let l=this.pos.sub(t.pos),u=l.len(),c=u*this.distanceScale/10,h=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/c:1/c**2,g=l.scale(this.forceMagnitude*h/u);t.addForce(g),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}function wS(n){return{id:"constantForce",require:["body"],force:n.force,update(){this.force&&this.addForce(this.force)}}}function xS(n){return{id:"platformEffector",require:["area","body"],surfaceArc:n.surfaceArc??180,useOneWay:n.useOneWay??!1,add(){this.onBeforePhysicsResolve(t=>{let r=t.target.vel,l=Xl().scale(-1).angleBetween(r);Math.abs(l)>this.surfaceArc/2&&t.preventResolution()})}}}function ES(n){return{id:"buoyancyEffector",require:["area"],surfaceLevel:n.surfaceLevel,density:n.density??1,linearDrag:n.linearDrag??1,angularDrag:n.angularDrag??.2,flowAngle:n.flowAngle??0,flowMagnitude:n.flowMagnitude??0,flowVariation:n.flowVariation??0,add(){this.onCollideUpdate("body",(t,r)=>{let l=t,u=l.worldArea(),[c,h]=u.cut(V(-100,this.surfaceLevel),V(100,this.surfaceLevel));c&&(this.applyBuoyancy(l,c),this.applyDrag(l,c)),this.flowMagnitude&&l.addForce(Z.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(t,r){let l=this.density*r.area(),u=V(0,1).scale(-l);t.addForce(u)},applyDrag(t,r){let l=t.vel,u=this.density*this.linearDrag,c=l.scale(-u);t.addForce(c)}}}function Kf(n){if(!n)throw new Error("Please define an anchor");return{id:"anchor",anchor:n,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}function B0(){return{id:"fixed",fixed:!0}}function SS(n,t){return{id:"follow",require:["pos"],follow:{obj:n,offset:t??V(0)},add(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}function MS(n){var r;let t=(r=A.game.layers)==null?void 0:r.indexOf(n);return{id:"layer",get layerIndex(){return t??null},get layer(){var l;return t?((l=A.game.layers)==null?void 0:l[t])??null:null},set layer(l){var u;if(t=(u=A.game.layers)==null?void 0:u.indexOf(l),t==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}function TS(n,t){let r=typeof n=="number"?Z.fromAngle(n):n.unit();return{id:"move",require:["pos"],update(){this.move(r.scale(t))}}}function RS(n={}){let t=!1,r=new nt(V(0),Ut(),Ht()),l=new nt(V(0),0,0),u=c=>{c.isOffScreen()?(t||(c.trigger("exitView"),t=!0),n.hide&&(c.hidden=!0),n.pause&&(c.paused=!0),n.destroy&&c.destroy()):(t&&(c.trigger("enterView"),t=!1),n.hide&&(c.hidden=!1),n.pause&&(c.paused=!1))};return{id:"offscreen",require:["pos"],offscreenDistance:n.distance??Og,isOffScreen(){let c=this.screenPos();if(!c)return!1;if(r.width=Ut(),r.height=Ht(),!this.offscreenDistance&&this.width&&this.height)return l.width=this.width,l.height=this.height,l.pos=this.pos,l.collides(r);let h=this.offscreenDistance?this.offscreenDistance:Og;return!ju(r,c)&&r.sdistToPoint(c)>h*h},onExitScreen(c){return this.on("exitView",c)},onEnterScreen(c){return this.on("enterView",c)},add(){n.pause&&n.unpause?h0(()=>u(this)):this.onUpdate(()=>u(this))}}}function Nu(...n){return{id:"pos",pos:V(...n),moveBy(...t){this.pos=this.pos.add(V(...t))},move(...t){this.moveBy(V(...t).scale(qt()))},moveTo(...t){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.moveTo(V(t[0],t[1]),t[2]);let r=t[0],l=t[1];if(l===void 0){this.pos=V(r);return}let u=r.sub(this.pos);if(u.len()<=l*qt()){this.pos=V(r);return}this.move(u.unit().scale(l))},worldPos(t=null){return t?(this.pos=this.pos.add(this.fromWorld(t)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(t){return this.parent?this.parent.transform.multVec2(this.pos.add(t)):this.pos.add(t)},fromWorld(t){return this.parent?this.parent.transform.invert().multVec2(t).sub(this.pos):t.sub(this.pos)},screenPos(t=null){if(t)return this.pos=this.pos.add(this.fromScreen(t)),null;{let r=this.worldPos();return r?ya(this)?r:jf(r):null}},toScreen(t){let r=this.toWorld(t);return ya(this)?r:jf(r)},fromScreen(t){return ya(this)?this.fromWorld(t):this.fromWorld(x0(t))},toOther(t,r){return t.fromWorld(this.toWorld(r))},fromOther(t,r){return t.toOther(this,r)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Rr({color:Xe(255,0,0),radius:4/Zy()})}}}function OS(n){return{id:"rotate",angle:n??0,rotateBy(t){this.angle+=t},rotateTo(t){this.angle=t},inspect(){return`angle: ${Math.round(this.angle)}`}}}function zu(...n){if(n.length===0)return zu(1);let t=V(...n);return{id:"scale",set scale(r){if(!(r instanceof Z))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");t=V(r)},get scale(){return t},scaleTo(...r){t=V(...r)},scaleBy(...r){t=t.scale(V(...r))},inspect(){return t.x==t.y?`scale: ${t.x.toFixed(1)}x`:`scale: (${t.x.toFixed(1)}x, ${t.y.toFixed(1)}y)`}}}function CS(n){return{id:"z",z:n,inspect(){return`z: ${this.z}`}}}var qS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",DS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",BS=ww.version,A={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},_S=(n={tagsAsComponents:!0})=>{A.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),A.k.quit()),A.globalOpt=n;let t=n.root??document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let r=n.canvas??t.appendChild(document.createElement("canvas"));A.canvas=r;let l=n.scale??1;A.gscale=l;let u=n.width&&n.height&&!n.stretch&&!n.letterbox;u?(r.width=n.width*l,r.height=n.height*l):(r.width=r.parentElement.offsetWidth,r.height=r.parentElement.offsetHeight);let c=["outline: none","cursor: default"];if(u){let he=r.width,Se=r.height;c.push(`width: ${he}px`),c.push(`height: ${Se}px`)}else c.push("width: 100%"),c.push("height: 100%");n.crisp&&(c.push("image-rendering: pixelated"),c.push("image-rendering: crisp-edges")),r.style.cssText=c.join(";");let h=n.pixelDensity||1;A.pixelDensity=h,r.width*=h,r.height*=h,r.tabIndex=0;let g=document.createElement("canvas");g.width=256,g.height=256,A.fontCacheCanvas=g;let p=g.getContext("2d",{willReadFrequently:!0});A.fontCacheC2d=p;let d=$2({canvas:r,touchToMouse:n.touchToMouse,gamepads:n.gamepads,pixelDensity:n.pixelDensity,maxFPS:n.maxFPS,buttons:n.buttons});A.app=d;let v=[],E=d.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!E)throw new Error("WebGL not supported");let m=E,S=Zx(m,{texFilter:n.texFilter}),b=$x(n,S);A.gfx=b;let O=YE();A.audio=O;let x=Tx(S,n.spriteAtlasPadding??0);A.assets=x;let M=NE();A.game=M,M.root.use(Xf());function _(he,Se){let Re=new _u(S,he,Se);return{clear:()=>Re.clear(),free:()=>Re.free(),toDataURL:()=>Re.toDataURL(),toImageData:()=>Re.toImageData(),width:Re.width,height:Re.height,draw:$e=>{En(),Re.bind(),$e(),En(),Re.unbind()},get fb(){return Re}}}function X(){m.clear(m.COLOR_BUFFER_BIT),b.frameBuffer.bind(),m.clear(m.COLOR_BUFFER_BIT),b.bgColor||Vi(()=>{Jl({width:Ut(),height:Ht(),quad:new ot(0,0,Ut()/64,Ht()/64),tex:b.bgTex,fixed:!0})}),b.renderer.numDraws=0,b.fixed=!1,b.transformStack.length=0,b.transform=new Zn}function ie(he,Se){b.postShader=he,b.postShaderUniform=Se??null}function k(){En(),b.lastDrawCalls=b.renderer.numDraws,b.frameBuffer.unbind(),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight);let he=b.width,Se=b.height;b.width=m.drawingBufferWidth/h,b.height=m.drawingBufferHeight/h,Uu({flipY:!0,tex:b.frameBuffer.tex,pos:new Z(b.viewport.x,b.viewport.y),width:b.viewport.width,height:b.viewport.height,shader:b.postShader,uniform:typeof b.postShaderUniform=="function"?b.postShaderUniform():b.postShaderUniform,fixed:!0}),En(),b.width=he,b.height=Se}let q=!1,B={inspect:!1,set timeScale(he){A.app.state.timeScale=he},get timeScale(){return A.app.state.timeScale},showLog:!0,fps:()=>d.fps(),numFrames:()=>d.numFrames(),stepFrame:fe,drawCalls:()=>b.lastDrawCalls,clearLog:()=>M.logs=[],log:(...he)=>{let Se=n.logMax??8,Re=he.length>1?he.concat(" ").join(" "):he[0];M.logs.unshift({msg:Re,time:d.time()}),M.logs.length>Se&&(M.logs=M.logs.slice(0,Se))},error:he=>B.log(new Error(he.toString?he.toString():he)),curRecording:null,numObjects:()=>z("*",{recursive:!0}).length,get paused(){return q},set paused(he){q=he,he?O.ctx.suspend():O.ctx.resume()}};A.debug=B;function H(he,Se){try{return JSON.parse(window.localStorage[he])}catch{return Se?(W(he,Se),Se):null}}function W(he,Se){window.localStorage[he]=JSON.stringify(Se)}function ne(he,...Se){let Re=he(Nt),$e;typeof Re=="function"?$e=Re(...Se)(Nt):$e=Re;for(let Ke in $e)Nt[Ke]=$e[Ke],n.global!==!1&&(window[Ke]=$e[Ke]);return Nt}function ae(he){let Se=d.canvas.captureStream(he),Re=O.ctx.createMediaStreamDestination();O.masterNode.connect(Re);let $e=new MediaRecorder(Se),Ke=[];return $e.ondataavailable=Le=>{Le.data.size>0&&Ke.push(Le.data)},$e.onerror=()=>{O.masterNode.disconnect(Re),Se.getTracks().forEach(Le=>Le.stop())},$e.start(),{resume(){$e.resume()},pause(){$e.pause()},stop(){return $e.stop(),O.masterNode.disconnect(Re),Se.getTracks().forEach(Le=>Le.stop()),new Promise(Le=>{$e.onstop=()=>{Le(new Blob(Ke,{type:"video/mp4"}))}})},download(Le="kaboom.mp4"){this.stop().then(Mt=>Cg(Le,Mt))}}}function ue(){return document.activeElement===d.canvas}let pe=M.root.add.bind(M.root),we=M.root.readd.bind(M.root),ve=M.root.removeAll.bind(M.root),z=M.root.get.bind(M.root),ee=M.root.wait.bind(M.root),le=M.root.loop.bind(M.root),ce=M.root.query.bind(M.root),T=M.root.tween.bind(M.root),K=Vl(null,DS),te=Vl(null,qS);A.kaSprite=K,A.boomSprite=te;function re(){M.root.fixedUpdate()}function fe(){M.root.update()}class Ce{constructor(Se,Re,$e,Ke,Le=!1){L(this,"source");L(this,"target");L(this,"normal");L(this,"distance");L(this,"resolved",!1);this.source=Se,this.target=Re,this.normal=$e,this.distance=Ke,this.resolved=Le}get displacement(){return this.normal.scale(this.distance)}reverse(){return new Ce(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(M.gravity||V(0,1))>0}isRight(){return this.displacement.cross(M.gravity||V(0,1))<0}isTop(){return this.displacement.dot(M.gravity||V(0,1))>0}isBottom(){return this.displacement.dot(M.gravity||V(0,1))<0}preventResolution(){this.resolved=!0}}function xe(){if(!pS())return;let he={},Se=n.hashGridSize||64,Re=new Zn,$e=[];function Ke(Le){if($e.push(Re.clone()),Le.pos&&Re.translate(Le.pos),Le.scale&&Re.scale(Le.scale),Le.angle&&Re.rotate(Le.angle),Le.transform=Re.clone(),Le.c("area")&&!Le.paused){let Mt=Le,Rn=Mt.worldArea().bbox(),gi=Math.floor(Rn.pos.x/Se),Or=Math.floor(Rn.pos.y/Se),Ra=Math.ceil((Rn.pos.x+Rn.width)/Se),Cr=Math.ceil((Rn.pos.y+Rn.height)/Se),Oa=new Set;for(let Dt=gi;Dt<=Ra;Dt++)for(let lt=Or;lt<=Cr;lt++)if(!he[Dt])he[Dt]={},he[Dt][lt]=[Mt];else if(!he[Dt][lt])he[Dt][lt]=[Mt];else{let Ft=he[Dt][lt];e:for(let Je of Ft){if(Je.paused||!Je.exists()||Oa.has(Je.id))continue;for(let On of Mt.collisionIgnore)if(Je.is(On))continue e;for(let On of Je.collisionIgnore)if(Mt.is(On))continue e;let Ji=u2(Mt.worldArea(),Je.worldArea());if(Ji){let On=new Ce(Mt,Je,Ji.normal,Ji.distance);Mt.trigger("collideUpdate",Je,On);let Ca=On.reverse();Ca.resolved=On.resolved,Je.trigger("collideUpdate",Mt,Ca)}Oa.add(Je.id)}Ft.push(Mt)}}Le.children.forEach(Ke),Re=$e.pop()}Ke(M.root)}function At(he){console.error(he),O.ctx.suspend();let Se=he.message??String(he)??"Unknown error, check console for more info";d.run(()=>{},()=>{X(),Vi(()=>{let Re=Ut(),$e=Ht(),Ke={size:36,width:Re-32*2,letterSpacing:4,lineSpacing:4,font:Du,fixed:!0};Sn({width:Re,height:$e,color:Xe(0,0,255),fixed:!0});let Le=Aa({...Ke,text:"Error",pos:V(32),color:Xe(255,128,0),fixed:!0});wa(Le),Gg({...Ke,text:Se,pos:V(32,32+Le.height+16),fixed:!0}),an(),M.events.trigger("error",he)}),k()})}function Qe(he){v.push(he)}function on(){M.events.onOnce("frameEnd",()=>{d.quit(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT);let he=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS);for(let Se=0;Se<he;Se++)m.activeTexture(m.TEXTURE0+Se),m.bindTexture(m.TEXTURE_2D,null),m.bindTexture(m.TEXTURE_CUBE_MAP,null);m.bindBuffer(m.ARRAY_BUFFER,null),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null),m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,null),S.destroy(),v.forEach(Se=>Se())})}let Nn=!0;d.run(()=>{try{x.loaded&&(B.paused||re(),xe())}catch(he){At(he)}},(he,Se)=>{try{he(),x.loaded||ba()===1&&!Nn&&(x.loaded=!0,ky().forEach(Re=>M.events.trigger("loadError",...Re)),M.events.trigger("load")),!x.loaded&&n.loadingScreen!==!1||Nn?(X(),Jx(),k()):(B.paused||fe(),xe(),X(),kx(),n.debug!==!1&&Fx(),k()),Nn&&(Nn=!1),M.events.trigger("frameEnd"),Se()}catch(Re){At(Re)}}),Ky(),T0();let Nt={_k:A,VERSION:BS,loadRoot:Ex,loadProgress:ba,loadSprite:Vl,loadSpriteAtlas:n0,loadSound:Gx,loadMusic:Yx,loadBitmapFont:Bx,loadFont:qx,loadShader:zx,loadShaderURL:Lx,loadAseprite:Cx,loadPedit:_x,loadBean:Ox,loadJSON:Sx,load:Hf,getSound:t0,getFont:Wy,getBitmapFont:$y,getSprite:Jy,getShader:e0,getAsset:Mx,Asset:Tn,SpriteData:Fi,SoundData:kl,width:Ut,height:Ht,center:Bu,dt:qt,fixedDt:zf,restDt:Lf,time:d.time,screenshot:d.screenshot,record:ae,isFocused:ue,setCursor:d.setCursor,getCursor:d.getCursor,setCursorLocked:d.setCursorLocked,isCursorLocked:d.isCursorLocked,setFullscreen:d.setFullscreen,isFullscreen:d.isFullscreen,isTouchscreen:d.isTouchscreen,onLoad:bh,onLoadError:RE,onLoading:SE,onResize:ME,onGamepadConnect:d.onGamepadConnect,onGamepadDisconnect:d.onGamepadDisconnect,onError:TE,onCleanup:Qe,flash:w0,setCamPos:m0,getCamPos:g0,setCamRot:b0,getCamRot:A0,setCamScale:y0,getCamScale:v0,getCamTransform:OE,camPos:DE,camScale:BE,camFlash:UE,camRot:_E,camTransform:CE,shake:qE,toScreen:jf,toWorld:x0,setGravity:zE,getGravity:LE,setGravityDirection:HE,getGravityDirection:Xl,setBackground:yx,getBackground:vx,getGamepads:d.getGamepads,getTreeRoot:kE,add:pe,make:Ah,destroy:O0,destroyAll:ve,get:z,query:ce,readd:we,pos:Nu,scale:zu,rotate:OS,color:u0,opacity:o0,anchor:Kf,area:mS,sprite:Vf,text:$E,polygon:sE,rect:f0,circle:eE,uvquad:eS,outline:aE,particles:lE,body:gS,platformEffector:xS,surfaceEffector:vS,areaEffector:bS,pointEffector:AS,buoyancyEffector:ES,constantForce:wS,doubleJump:yS,shader:uE,textInput:dS,timer:Xf,fixed:B0,stay:D0,health:oS,lifespan:cS,named:fS,state:hS,z:CS,layer:MS,move:TS,offscreen:RS,follow:SS,fadeIn:nE,mask:iE,drawon:tE,raycast:c0,tile:C0,animate:uS,serializeAnimation:q0,agent:tS,sentry:aS,patrol:iS,pathfinder:nS,trigger:cE,on:un,onFixedUpdate:fE,onUpdate:h0,onDraw:hE,onAdd:d0,onDestroy:dE,onTag:p0,onUntag:gE,onUse:pE,onUnuse:mE,onClick:AE,onCollide:yE,onCollideUpdate:vE,onCollideEnd:bE,onHover:wE,onHoverUpdate:xE,onHoverEnd:EE,onKeyDown:d.onKeyDown,onKeyPress:d.onKeyPress,onKeyPressRepeat:d.onKeyPressRepeat,onKeyRelease:d.onKeyRelease,onMouseDown:d.onMouseDown,onMousePress:d.onMousePress,onMouseRelease:d.onMouseRelease,onMouseMove:d.onMouseMove,onCharInput:d.onCharInput,onTouchStart:d.onTouchStart,onTouchMove:d.onTouchMove,onTouchEnd:d.onTouchEnd,onScroll:d.onScroll,onHide:d.onHide,onShow:d.onShow,onGamepadButtonDown:d.onGamepadButtonDown,onGamepadButtonPress:d.onGamepadButtonPress,onGamepadButtonRelease:d.onGamepadButtonRelease,onGamepadStick:d.onGamepadStick,onButtonPress:d.onButtonPress,onButtonDown:d.onButtonDown,onButtonRelease:d.onButtonRelease,mousePos:d.mousePos,mouseDeltaPos:d.mouseDeltaPos,isKeyDown:d.isKeyDown,isKeyPressed:d.isKeyPressed,isKeyPressedRepeat:d.isKeyPressedRepeat,isKeyReleased:d.isKeyReleased,isMouseDown:d.isMouseDown,isMousePressed:d.isMousePressed,isMouseReleased:d.isMouseReleased,isMouseMoved:d.isMouseMoved,isGamepadButtonPressed:d.isGamepadButtonPressed,isGamepadButtonDown:d.isGamepadButtonDown,isGamepadButtonReleased:d.isGamepadButtonReleased,getGamepadStick:d.getGamepadStick,isButtonPressed:d.isButtonPressed,isButtonDown:d.isButtonDown,isButtonReleased:d.isButtonReleased,setButton:d.setButton,getButton:d.getButton,pressButton:d.pressButton,releaseButton:d.releaseButton,getLastInputDeviceType:d.getLastInputDeviceType,charInputted:d.charInputted,loop:le,wait:ee,play:VE,setVolume:S0,getVolume:M0,volume:XE,burp:E0,audioCtx:O.ctx,Line:sn,Rect:nt,Circle:ln,Ellipse:pi,Point:Qw,Polygon:Zt,Vec2:Z,Color:_e,Mat4:Zn,Quad:ot,RNG:wy,rand:Ct,randi:xy,randSeed:Tw,vec2:V,rgb:Xe,hsl2rgb:xw,quad:vt,choose:Cw,chooseMultiple:Ow,shuffle:Ey,chance:Rw,lerp:rn,tween:T,easings:Zl,map:Xn,mapc:Ew,wave:Ay,deg2rad:bt,rad2deg:va,clamp:Kn,evaluateQuadratic:Zw,evaluateQuadraticFirstDerivative:Fw,evaluateQuadraticSecondDerivative:kw,evaluateBezier:fh,evaluateBezierFirstDerivative:Jw,evaluateBezierSecondDerivative:Pw,evaluateCatmullRom:Iw,evaluateCatmullRomFirstDerivative:Ww,curveLengthApproximation:_y,normalizedCurve:$w,hermite:es,cardinal:Uy,catmullRom:qu,bezier:e2,kochanekBartels:t2,easingSteps:s2,easingLinear:r2,easingCubicBezier:l2,testLineLine:rh,testRectRect:Sy,testRectLine:lh,testRectPoint:ju,testCirclePolygon:Xu,testLinePoint:sh,testLineCircle:$l,isConvex:d2,triangulate:zy,NavMesh:mx,drawSprite:Ix,drawText:Gg,formatText:Aa,drawRect:Sn,drawLine:Gl,drawLines:vh,drawTriangle:l0,drawCircle:Rr,drawEllipse:i0,drawUVQuad:Jl,drawPolygon:Qi,drawCurve:a0,drawBezier:Qx,drawFormattedText:wa,drawMasked:Px,drawSubtracted:Wx,pushTransform:xn,popTransform:an,pushTranslate:ht,pushScale:Fl,pushRotate:xr,pushMatrix:bx,usePostEffect:ie,makeCanvas:_,debug:B,scene:JE,getSceneName:WE,go:PE,onSceneLeave:IE,layers:FE,getLayers:KE,setLayers:R0,getDefaultLayer:ZE,addLevel:oE,getData:H,setData:W,download:dh,downloadJSON:C2,downloadText:Xy,downloadBlob:Cg,plug:ne,ASCII_CHARS:Ly,canvas:d.canvas,addKaboom:QE,LEFT:Z.LEFT,RIGHT:Z.RIGHT,UP:Z.UP,DOWN:Z.DOWN,RED:_e.RED,GREEN:_e.GREEN,BLUE:_e.BLUE,YELLOW:_e.YELLOW,MAGENTA:_e.MAGENTA,CYAN:_e.CYAN,WHITE:_e.WHITE,BLACK:_e.BLACK,quit:on,KEvent:Kt,KEventHandler:Kl,KEventController:Ma,cancel:()=>Gy};A.k=Nt;let mi=n.plugins;if(mi&&mi.forEach(ne),n.global!==!1)for(let he in Nt)window[he]=Nt[he];return n.focus!==!1&&d.canvas.focus(),Nt},US=_S;function NS(){return US({global:!1,pixelDensity:2,touchToMouse:!0,debugKey:"u",debug:!0,canvas:document.getElementById("game"),background:[255,255,255]})}const zS=n=>n.vec2(n.getCamPos().add((n.mousePos().x-n.center().x)/n.getCamScale().x,(n.mousePos().y-n.center().y)/n.getCamScale().y)),Qt={CARROT:"carrot",POTATO:"potato",TOMATO:"tomato",CABBAGE:"cabbage",WHEAT:"wheat",CORN:"corn",RICE:"rice",BEAN:"bean",ONION:"onion",GARLIC:"garlic"},Vg={SMALL:20,MEDIUM:25};function vf(n,t,r,l=Qt.CARROT){const u=n.add([n.circle(r),n.pos(t),n.color(255,165,0),n.anchor("center"),n.area(),n.scale(1),n.z(1),n.layer("game"),n.outline(2,n.rgb(0,0,0)),"crop",{size:r,type:l}]);switch(l){case Qt.CARROT:u.color=n.rgb(255,165,0);break;case Qt.POTATO:u.color=n.rgb(210,180,140);break;case Qt.TOMATO:u.color=n.rgb(255,99,71);break;case Qt.CABBAGE:u.color=n.rgb(144,238,144);break;case Qt.WHEAT:u.color=n.rgb(255,228,181);break;case Qt.CORN:u.color=n.rgb(255,255,0);break;case Qt.RICE:u.color=n.rgb(245,245,220);break;case Qt.BEAN:u.color=n.rgb(34,139,34);break;case Qt.ONION:u.color=n.rgb(255,228,196);break;case Qt.GARLIC:u.color=n.rgb(255,250,205);break;default:u.color=n.rgb(255,165,0)}return u}function LS(n,t){const r=n.add([n.circle(5),n.color(255,255,0),n.outline(2,n.rgb(0,0,0)),n.pos(t),n.area(),n.anchor("center"),n.body(),n.layer("fg"),{username:"-1",placed:!1,home:{fence:null,label:null},freeze:!1}]),l=200;return n.onKeyDown(["w","up"],()=>{r.freeze||r.move(n.vec2(0,-1).scale(l))}),n.onKeyDown(["a","left"],()=>{r.freeze||r.move(n.vec2(-1,0).scale(l))}),n.onKeyDown(["s","down"],()=>{r.freeze||r.move(n.vec2(0,1).scale(l))}),n.onKeyDown(["d","right"],()=>{r.freeze||r.move(n.vec2(1,0).scale(l))}),r}function HS(n,t){return n.add([n.circle(5),n.color(0,255,0),n.outline(2,n.rgb(0,0,0)),n.pos(t),n.area(),n.anchor("center"),{username:"-1",name:"Friend",home:{fence:null,label:null}}])}const GS={wheat:"Baker",cabbage:"Chef"};function YS(n,t,r){const l=n.add([n.rect(50,50),n.color(0,255,0),n.outline(2,n.rgb(0,0,0)),n.pos(t),n.area(),n.anchor("center"),"buyer",{type:r,name:GS[r]}]);return l.add([n.text(l.name,{size:16}),n.color(0,0,0),n.pos(0,-30),n.anchor("center")]),l}function jS(n,t,r){const l=n.add([n.rect(360,180),n.color(255,255,255),n.outline(2,n.rgb(0,0,0)),n.layer("ui"),n.pos(n.center()),n.anchor("center"),n.fixed(),{name:t.name}]);return l.add([n.text(t.name,{size:24}),n.color(0,0,0),n.layer("ui"),n.pos(0,-50),n.anchor("center"),n.fixed()]),l.add([n.text("X",{size:24}),n.color(255,0,0),n.layer("ui"),n.pos(130,-55),n.anchor("center"),n.area(),n.fixed()]).onClick(()=>{l.destroy()}),l.add([n.text(`Offer: $${r} for one ${t.type}`,{size:20}),n.color(0,0,0),n.layer("ui"),n.pos(0,0),n.anchor("center"),n.fixed()]),l.add([n.text("Accept",{size:20}),n.color(0,255,0),n.layer("ui"),n.pos(0,50),n.anchor("center"),n.area(),n.fixed()]).onClick(()=>{nn.emit("POST player/sell",{price:r,crop:t.type},u=>{u.status==="ok"?console.log(u.data):console.error(`Failed to sell: ${u.data}`)}),l.destroy()}),l}const me=72,Xt=50,Yi=Array.from({length:Xt},()=>Array.from({length:Xt},()=>null)),ji={};function VS(n){n.scene("game",()=>{const t=n.add([n.rect(me*Xt,me*Xt,{fill:!1}),n.anchor("topleft"),n.pos(-me/2),n.area(),n.layer("bg")]);t.add([n.rect(2,me*Xt,{fill:!1}),n.anchor("topleft"),n.outline(2,n.rgb(255,0,0)),n.pos(0,0),n.area(),n.body({isStatic:!0})]),t.add([n.rect(2,me*Xt,{fill:!1}),n.anchor("topleft"),n.outline(2,n.rgb(255,0,0)),n.pos(me*Xt,0),n.area(),n.body({isStatic:!0})]),t.add([n.rect(me*Xt,2,{fill:!1}),n.anchor("topleft"),n.outline(2,n.rgb(255,0,0)),n.pos(0,0),n.area(),n.body({isStatic:!0})]),t.add([n.rect(me*Xt,2,{fill:!1}),n.anchor("topleft"),n.outline(2,n.rgb(255,0,0)),n.pos(0,me*Xt),n.area(),n.body({isStatic:!0})]),n.setCamPos(0,0);let r=null;n.load(new Promise((d,v)=>{let E=0;const m=setInterval(function S(){return fetch("https://api.donger.ca/api/user",{method:"GET",mode:"cors",credentials:"include"}).then(b=>b.json()).then(b=>{b.loggedIn?(clearInterval(m),r=LS(n,n.vec2(0,0)),r.username=b.username,nn.emit("POST player/login",{username:b.username},O=>{O.status==="ok"?(console.debug(`Player ${b.username} logged in`),nn.emit("GET player/data",x=>{x.status==="ok"?(ji[r.username]=r,console.debug(`Player ${r.username} data loaded successfully`),d()):v(new Error(`Failed to load player data: ${x.data}`))})):v(new Error(`Failed to log in: ${O.data}`))})):(console.debug(`Failed to get login data: ${b.message}`),b.status===400&&(clearInterval(m),v(new Error("Player is not authenticated. Please log in."))),E++,E>=5&&(clearInterval(m),v(new Error("Failed to get login data after 5 attempts"))))}),S}(),5e3)})),t.onMouseDown("left",()=>{if(!r||g||r.frozen)return;const d=n.mousePos().sub(n.width()/2,n.height()/2),v=Math.sqrt(d.x*d.x+d.y*d.y);r.move(n.vec2(d.x/v,d.y/v).scale(225))}),n.add([n.text("Place Farm",{size:24}),n.pos(n.width()/2,n.height()-50),n.anchor("top"),n.color(0,0,0),n.area(),n.fixed(),"place-farm-button"]).onClick(()=>{r&&Xg(n,r)}),n.onKeyPress("r",()=>{r&&Xg(n,r)}),n.add([n.text("Shop",{size:24}),n.pos(n.width()/2,n.height()-100),n.anchor("top"),n.color(0,0,0),n.area(),n.fixed(),"shop-button"]).onClick(()=>{console.debug("Shop button clicked")}),YS(n,n.vec2(300,100),Qt.CABBAGE),n.onClick("buyer",d=>{jS(n,d,20)});for(let d=0;d<=n.width();d+=me)n.add([n.rect(2,n.height()),n.color(200,200,200),n.pos(d+me/2,0),n.anchor("topleft"),n.layer("bg"),n.area(),"gridline"]);for(let d=0;d<=n.height();d+=me)n.add([n.rect(n.width(),2),n.color(200,200,200),n.pos(0,d+me/2),n.anchor("topleft"),n.layer("bg"),n.area(),"gridline"]);n.onUpdate(()=>{if(g){const M=zS(n);g.pos=M}if(!r)return;n.tween(n.getCamPos(),r.pos,.1,M=>{n.setCamPos(M)},n.easings.easeInOutQuad);const d=n.getCamPos(),v=n.getCamScale(),E=n.width()/v.x,m=n.height()/v.x,S=d.x-E/2,b=d.y-m/2,O=Math.floor(S/me)*me+me/2,x=Math.floor(b/me)*me+me/2;n.get("gridline").forEach(M=>M.destroy());for(let M=O;M<S+E;M+=me)n.add([n.rect(1,m),n.color(200,200,200),n.pos(M,b),n.anchor("topleft"),n.layer("bg"),"gridline"]);for(let M=x;M<b+m;M+=me)n.add([n.rect(E,1),n.color(200,200,200),n.pos(S,M),n.anchor("topleft"),n.layer("bg"),"gridline"])});const u=n.add([n.text("Carrot",{size:24}),n.pos(n.vec2(10,10)),n.area(),n.color(255,0,0)]),c=n.add([n.text("Cabbage",{size:24}),n.pos(u.pos.add(n.vec2(0,32))),n.anchor("topleft"),n.color(0,255,0),n.area(),"button-text"]),h=n.add([n.text("Check Grid",{size:24}),n.pos(c.pos.add(n.vec2(0,32))),n.anchor("topleft"),n.color(255,255,0),n.area(),"button-text"]);u.onClick(()=>{vf(n,Zf(n,n.vec2(400,400)),Vg.SMALL,Qt.CARROT)}),c.onClick(()=>{const d={id:Math.floor(Math.random()*1e3),pos:Ff(n,n.vec2(200,200)),type:Qt.CABBAGE,size:Vg.MEDIUM};nn.emit("POST game/crop/spawn",{newCrop:d},v=>{v.status==="ok"&&console.debug(`Crop spawned ${v.data}`)})}),h.onClick(()=>{console.debug("Current Game Grid State:"),console.debug(Yi)});let g=null,p=n.vec2(0,0);n.onClick("crop",d=>{g&&g!==d||(g=d,p=d.pos,d.z=10)}),n.onMouseRelease("left",()=>{g&&(g.pos.x<0||g.pos.x>me*Xt||g.pos.y<0||g.pos.y>me*Xt?g.pos=p:XS(n,g,p),g.z=1,g=null),n.setCamPos(n.getCamPos())}),n.onUpdate(()=>{}),nn.on("UPDATE player/pos",d=>{for(const v in d){const E=d[v];if(r&&E.username!=="-1"&&E.username!==r.username)if(ji[E.username]){const m=ji[E.username];m.pos=n.vec2(E.pos.x,E.pos.y)}else{const m=HS(n,n.vec2(E.pos.x,E.pos.y));m.username=E.username,ji[E.username]=m}}}),setInterval(()=>{r&&nn.emit("POST player/pos",{pos:r.pos},d=>{d.status!=="ok"&&console.error("Failed to update player position:",d.data)})},1e3/10),nn.on("UPDATE player/disconnect",d=>{const v=d.username,E=ji[v];E&&(E.home.fence.destroy(),E.destroy(),delete ji[v],console.debug(`Player ${v} disconnected`))}),nn.on("UPDATE game/grid",d=>{const v=d.grid,E=d.claim;for(let m=0;m<Xt;m++)for(let S=0;S<Xt;S++){const b=Yi[m][S];if(v[`${m},${S}`]&&v[`${m},${S}`]!==void 0){const O=v[`${m},${S}`].crop;b!==null?(b.type!==O.type||b.size!==O.size)&&(Yi[m][S].destroy(),Yi[m][S]=vf(n,n.vec2(m*me,S*me),O.size,O.type)):Yi[m][S]=vf(n,n.vec2(m*me,S*me),O.size,O.type)}else Yi[m][S]!==null&&(Yi[m][S].destroy(),Yi[m][S]=null)}for(const m in E){const S=E[m],b=S.size,O=S.origin;if(O.x<0&&O.y<0){const x=ji[m];x&&x.home.fence&&(x.home.fence.destroy(),x.home.label.destroy(),x.home.fence=null,x.home.label=null)}else if(r&&m===r.username&&!r.home.fence)r.home.fence=n.add([n.rect(me*b,me*b,{fill:!1}),n.pos(O.x*me-me/2,O.y*me-me/2),n.anchor("topleft"),n.area(),n.outline(2,n.rgb(85,164,255))]),r.home.label=n.add([n.text(S.username,{size:24,font:"moot-jungle"}),n.pos(O.x*me,O.y*me-me/2-20),n.anchor("center"),n.color(0,0,0),n.z(10)]);else{const x=ji[m];x&&!x.home.fence&&(x.home.fence=n.add([n.rect(me*b,me*b,{fill:!1}),n.pos(O.x*me-me/2,O.y*me-me/2),n.anchor("topleft"),n.area(),n.outline(2,n.rgb(91,243,111))]),x.home.label=n.add([n.text(S.username,{size:24,font:"moot-jungle"}),n.pos(O.x*me,O.y*me-me/2-20),n.anchor("center"),n.color(0,0,0)]))}}})})}function Xg(n,t){if(t.placed){const r=n.add([n.text("Saving farm...",{font:"moot-jungle"}),n.pos(t.pos),n.anchor("center"),n.color(0,0,0),n.layer("ui"),n.z(1e3)]),l=n.add([n.rect(r.width+32,r.height+32),n.pos(r.pos.sub(n.vec2(5,5))),n.anchor("center"),n.layer("ui"),n.color(255,255,255),n.outline(2,n.rgb(0,0,0))]);t.freeze=!0,nn.emit("POST player/farm",u=>{var c,h;u.status==="ok"?(console.debug(`Player ${t.username} farm saved successfully`),(c=t.home.fence)==null||c.destroy(),(h=t.home.label)==null||h.destroy(),t.placed=!1):console.error("Failed to save farm:",u.data),t.freeze=!1,r.destroy(),l.destroy()})}else{const r=n.add([n.text("Placing farm...",{font:"moot-jungle"}),n.pos(t.pos),n.anchor("center"),n.layer("ui"),n.z(1e3),n.color(0,0,0)]),l=n.add([n.rect(r.width+32,r.height+32),n.pos(r.pos.sub(n.vec2(5,5))),n.anchor("center"),n.layer("ui"),n.color(255,255,255),n.outline(2,n.rgb(0,0,0))]);t.freeze=!0,nn.emit("GET player/farm",u=>{u.status==="ok"?(console.debug(`Player ${t.username} farm data received`),t.placed=!0,t.freeze=!1,r.destroy(),l.destroy()):console.error("Failed to place farm:",u.data)})}}function XS(n,t,r){const l=Ff(n,r),u=Ff(n,t.pos);t.pos=n.vec2(u.x*me,u.y*me),nn.emit("POST game/crop/move",{oldPos:l,newPos:u},c=>{c.status!=="ok"&&(console.debug("Failed to move crop:",c.data),t.pos=r)})}function Zf(n,t){return n.vec2(Math.round(t.x/me)*me,Math.round(t.y/me)*me)}function Ff(n,t){return{x:Zf(n,t).x/me,y:Zf(n,t).y/me}}async function QS(){const n=NS();n.setLayers(["bg","game","fg","ui"],"game"),n.loadFont("moot-jungle","./fonts/moot-jungle.ttf"),VS(n),n.go("game")}W1.createRoot(document.getElementById("root")).render(Ae.jsx(I.StrictMode,{children:Ae.jsx(pA,{children:Ae.jsxs(Qb,{children:[Ae.jsx(gu,{path:"/",element:Ae.jsx(vw,{})}),Ae.jsx(gu,{path:"/play",element:Ae.jsx(yw,{})}),Ae.jsx(gu,{path:"/signup",element:Ae.jsx(bw,{})})]})})}));QS();
